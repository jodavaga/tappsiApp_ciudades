!function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<o.length?yt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.5.8/"+(t?t+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(yt(o[i]));return new e(s)}}function n(t){if(null==t||C(t))return!1;if(Ji(t)||b(t)||Ui&&t instanceof Ui)return!0;var e="length"in Object(t)&&t.length;return w(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function i(t,e,r){var o,a;if(t)if(x(t))for(o in t)"prototype"==o||"length"==o||"name"==o||t.hasOwnProperty&&!t.hasOwnProperty(o)||e.call(r,t[o],o,t);else if(Ji(t)||n(t)){var s="object"!=typeof t;for(o=0,a=t.length;o<a;o++)(s||o in t)&&e.call(r,t[o],o,t)}else if(t.forEach&&t.forEach!==i)t.forEach(e,r,t);else if($(t))for(o in t)e.call(r,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t);else for(o in t)Di.call(t,o)&&e.call(r,t[o],o,t);return t}function r(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function o(t){return function(e,n){t(n,e)}}function a(){return++Gi}function s(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var a=e[r];if(_(a)||x(a))for(var u=Object.keys(a),c=0,h=u.length;c<h;c++){var f=u[c],d=a[f];n&&_(d)?L(d)?t[f]=new Date(d.valueOf()):P(d)?t[f]=new RegExp(d):d.nodeName?t[f]=d.cloneNode(!0):I(d)?t[f]=d.clone():(_(t[f])||(t[f]=Ji(d)?[]:{}),l(t[f],[d],!0)):t[f]=d}}return s(t,i),t}function u(t){return l(t,ji.call(arguments,1),!1)}function c(t){return l(t,ji.call(arguments,1),!0)}function h(t){return parseInt(t,10)}function f(t,e){return u(Object.create(t),e)}function d(){}function p(t){return t}function m(t){return function(){return t}}function g(t){return x(t.toString)&&t.toString!==Fi}function v(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function _(t){return null!==t&&"object"==typeof t}function $(t){return null!==t&&"object"==typeof t&&!qi(t)}function b(t){return"string"==typeof t}function w(t){return"number"==typeof t}function L(t){return"[object Date]"===Fi.call(t)}function x(t){return"function"==typeof t}function P(t){return"[object RegExp]"===Fi.call(t)}function C(t){return t&&t.window===t}function E(t){return t&&t.$evalAsync&&t.$watch}function S(t){return"[object File]"===Fi.call(t)}function k(t){return"[object FormData]"===Fi.call(t)}function M(t){return"[object Blob]"===Fi.call(t)}function A(t){return"boolean"==typeof t}function D(t){return t&&x(t.then)}function T(t){return t&&w(t.length)&&Yi.test(Fi.call(t))}function O(t){return"[object ArrayBuffer]"===Fi.call(t)}function I(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function N(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function B(t){return Ti(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function z(t,e){function n(t,e){var n,i=e.$$hashKey;if(Ji(t))for(var o=0,a=t.length;o<a;o++)e.push(r(t[o]));else if($(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)Di.call(t,n)&&(e[n]=r(t[n]));return s(e,i),e}function r(t){if(!_(t))return t;var e=a.indexOf(t);if(e!==-1)return l[e];if(C(t)||E(t))throw Zi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(t);return void 0===r&&(r=Ji(t)?[]:Object.create(qi(t)),i=!0),a.push(t),l.push(r),i?n(t,r):r}function o(t){switch(Fi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(r(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(x(t.cloneNode))return t.cloneNode(!0)}var a=[],l=[];if(e){if(T(e)||O(e))throw Zi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Zi("cpi","Can't copy! Source and destination are identical.");return Ji(e)?e.length=0:i(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),l.push(e),n(t,e)}return r(t)}function R(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,a=typeof e;if(o==a&&"object"==o){if(!Ji(t)){if(L(t))return!!L(e)&&R(t.getTime(),e.getTime());if(P(t))return!!P(e)&&t.toString()==e.toString();if(E(t)||E(e)||C(t)||C(e)||Ji(e)||L(e)||P(e))return!1;r=pt();for(i in t)if("$"!==i.charAt(0)&&!x(t[i])){if(!R(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&y(e[i])&&!x(e[i]))return!1;return!0}if(!Ji(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!R(t[i],e[i]))return!1;return!0}}return!1}function j(t,e,n){return t.concat(ji.call(e,n))}function H(t,e){return ji.call(t,e||0)}function V(t,e){var n=arguments.length>2?H(arguments,2):[];return!x(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,j(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function F(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:C(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":E(n)&&(i="$SCOPE"),i}function q(t,e){if(!v(t))return w(e)||(e=e?2:null),JSON.stringify(t,F,e)}function Z(t){return b(t)?JSON.parse(t):t}function W(t,e){t=t.replace(er,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function G(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function J(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=W(e,i);return G(t,n*(r-i))}function Y(t){t=Ui(t).clone();try{t.empty()}catch(t){}var e=Ui("<div>").append(t).html();try{return t[0].nodeType===sr?Ti(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Ti(e)})}catch(t){return Ti(e)}}function K(t){try{return decodeURIComponent(t)}catch(t){}}function X(t){var e={};return i((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),n!==-1&&(i=t.substring(0,n),r=t.substring(n+1)),i=K(i),y(i)&&(r=!y(r)||K(r),Di.call(e,i)?Ji(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function Q(t){var e=[];return i(t,function(t,n){Ji(t)?i(t,function(t){e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}):e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}),e.length?e.join("&"):""}function tt(t){return et(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function nt(t,e){var n,i,r=nr.length;for(i=0;i<r;++i)if(n=nr[i]+e,b(n=t.getAttribute(n)))return n;return null}function it(t,e){var n,r,o={};i(nr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),i(nr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(o.strictDi=null!==nt(n,"strict-di"),e(n,r?[r]:[],o))}function rt(e,n,r){_(r)||(r={});var o={strictDi:!1};r=u(o,r);var a=function(){if(e=Ui(e),e.injector()){var i=e[0]===t.document?"document":Y(e);throw Zi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ie(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!l.test(t.name)?a():(t.name=t.name.replace(l,""),Wi.resumeBootstrap=function(t){return i(t,function(t){n.push(t)}),a()},void(x(Wi.resumeDeferredBootstrap)&&Wi.resumeDeferredBootstrap()))}function ot(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function at(t){var e=Wi.element(t).injector();if(!e)throw Zi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function st(t,e){return e=e||"_",t.replace(ir,function(t,n){return(n?e:"")+t.toLowerCase()})}function lt(){var e;if(!rr){var n=tr();zi=v(n)?t.jQuery:n?t[n]:void 0,zi&&zi.fn.on?(Ui=zi,u(zi.fn,{scope:Cr.scope,isolateScope:Cr.isolateScope,controller:Cr.controller,injector:Cr.injector,inheritedData:Cr.inheritedData}),e=zi.cleanData,zi.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)n=zi._data(i,"events"),n&&n.$destroy&&zi(i).triggerHandler("$destroy");e(t)}):Ui=kt,Wi.element=Ui,rr=!0}}function ut(t,e,n){if(!t)throw Zi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ct(t,e,n){return n&&Ji(t)&&(t=t[t.length-1]),ut(x(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ht(t,e){if("hasOwnProperty"===t)throw Zi("badname","hasOwnProperty is not a valid {0} name",e)}function ft(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;s<a;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&x(t)?V(o,t):t}function dt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=Ui(ji.call(t,0,r))),e.push(n));return e||t}function pt(){return Object.create(null)}function mt(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return s(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function n(t,n){return function(i,o){return o&&x(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var r=[],s=[],l=[],u=t("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(t){return l.push(t),this}};return a&&u(a),c})}})}function gt(t,e){if(Ji(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function vt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=F(t,n),_(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):v(t)?"undefined":"string"!=typeof t?vt(t):t}function _t(n){u(n,{bootstrap:rt,copy:z,extend:u,merge:c,equals:R,element:Ui,forEach:i,injector:ie,noop:d,bind:V,toJson:q,fromJson:Z,identity:p,isUndefined:v,isDefined:y,isString:b,isFunction:x,isObject:_,isNumber:w,isElement:I,isArray:Ji,version:hr,isDate:L,lowercase:Ti,uppercase:Oi,callbacks:{$$counter:0},getTestability:at,$$minErr:e,$$csp:Qi,reloadWithDebugInfo:ot}),(Ri=mt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Pn}),t.provider("$compile",pe).directive({a:Io,input:ta,textarea:ta,form:Ro,script:Ja,select:Xa,style:ts,option:Qa,ngBind:ia,ngBindHtml:oa,ngBindTemplate:ra,ngClass:sa,ngClassEven:ua,ngClassOdd:la,ngCloak:ca,ngController:ha,ngForm:jo,ngHide:Ha,ngIf:pa,ngInclude:ma,ngInit:va,ngNonBindable:Ta,ngPluralize:Ba,ngRepeat:Ua,ngShow:ja,ngStyle:Va,ngSwitch:Fa,ngSwitchWhen:qa,ngSwitchDefault:Za,ngOptions:Na,ngTransclude:Ga,ngModel:Ma,ngList:ya,ngChange:aa,pattern:ns,ngPattern:ns,required:es,ngRequired:es,minlength:rs,ngMinlength:rs,maxlength:is,ngMaxlength:is,ngValue:na,ngModelOptions:Da}).directive({ngInclude:ga}).directive(No).directive(fa),t.provider({$anchorScroll:re,$animate:Hr,$animateCss:qr,$$animateJs:Rr,$$animateQueue:jr,$$AnimateRunner:Fr,$$animateAsyncRun:Vr,$browser:ce,$cacheFactory:he,$controller:$e,$document:be,$exceptionHandler:we,$filter:zn,$$forceReflow:Kr,$interpolate:Ne,$interval:Be,$http:De,$httpParamSerializer:xe,$httpParamSerializerJQLike:Pe,$httpBackend:Oe,$xhrFactory:Te,$jsonpCallbacks:ao,$location:Xe,$log:Qe,$parse:_n,$rootScope:xn,$q:$n,$$q:bn,$sce:kn,$sceDelegate:Sn,$sniffer:Mn,$templateCache:fe,$templateRequest:An,$$testability:Dn,$timeout:Tn,$window:Nn,$$rAF:Ln,$$jqLite:Yt,$$HashMap:Mr,$$cookieReader:Un})}])}function $t(){return++dr}function bt(t){return t.replace(gr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(vr,"Moz$1")}function wt(t){return!br.test(t)}function Lt(t){var e=t.nodeType;return e===or||!e||e===ur}function xt(t){for(var e in fr[t.ng339])return!0;return!1}function Pt(t){for(var e=0,n=t.length;e<n;e++)Tt(t[e])}function Ct(t,e){var n,r,o,a,s=e.createDocumentFragment(),l=[];if(wt(t))l.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(wr.exec(t)||["",""])[1].toLowerCase(),o=xr[r]||xr._default,n.innerHTML=o[1]+t.replace(Lr,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=j(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(l,function(t){s.appendChild(t)}),s}function Et(e,n){n=n||t.document;var i;return(i=$r.exec(e))?[n.createElement(i[1])]:(i=Ct(e,n))?i.childNodes:[]}function St(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function kt(t){if(t instanceof kt)return t;var e;if(b(t)&&(t=Ki(t),e=!0),!(this instanceof kt)){if(e&&"<"!=t.charAt(0))throw _r("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new kt(t)}e?zt(this,Et(t)):zt(this,t)}function Mt(t){return t.cloneNode(!0)}function At(t,e){if(e||Tt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Tt(n[i])}function Dt(t,e,n,r){if(y(r))throw _r("offargs","jqLite#off() does not support the `selector` argument");var o=Ot(t),a=o&&o.events,s=o&&o.handle;if(s)if(e){var l=function(e){var i=a[e];y(n)&&U(i||[],n),y(n)&&i&&i.length>0||(mr(t,e,s),delete a[e])};i(e.split(" "),function(t){l(t),yr[t]&&l(yr[t])})}else for(e in a)"$destroy"!==e&&mr(t,e,s),delete a[e]}function Tt(t,e){var n=t.ng339,i=n&&fr[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Dt(t)),delete fr[n],t.ng339=void 0}}function Ot(t,e){var n=t.ng339,i=n&&fr[n];return e&&!i&&(t.ng339=n=$t(),i=fr[n]={events:{},data:{},handle:void 0}),i}function It(t,e,n){if(Lt(t)){var i=y(n),r=!i&&e&&!_(e),o=!e,a=Ot(t,!r),s=a&&a.data;if(i)s[e]=n;else{if(o)return s;if(r)return s&&s[e];u(s,e)}}}function Nt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Bt(t,e){e&&t.setAttribute&&i(e.split(" "),function(e){t.setAttribute("class",Ki((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Ki(e)+" "," ")))})}function Ut(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(e.split(" "),function(t){t=Ki(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",Ki(n))}}function zt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Rt(t,e){return jt(t,"$"+(e||"ngController")+"Controller")}function jt(t,e,n){t.nodeType==ur&&(t=t.documentElement);for(var i=Ji(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(y(n=Ui.data(t,i[r])))return n;t=t.parentNode||t.nodeType===cr&&t.host}}function Ht(t){for(At(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Vt(t,e){e||At(t);var n=t.parentNode;n&&n.removeChild(t)}function Ft(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Ui(n).on("load",e)}function qt(t,e){var n=Er[e.toLowerCase()];return n&&Sr[B(t)]&&n}function Zt(t){return kr[t]}function Wt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||Gt;o>1&&(r=gt(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(t,n,r[l])}};return n.elem=t,n}function Gt(t,e,n){n.call(t,e)}function Jt(t,e,n){var i=e.relatedTarget;i&&(i===t||Pr.call(t,i))||n.call(t,e)}function Yt(){this.$get=function(){return u(kt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Nt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ut(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Bt(t,e)}})}}function Kt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||a)():i+":"+t}function Xt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}i(t,this.put,this)}function Qt(t){return Function.prototype.toString.call(t)+" "}function te(t){var e=Qt(t).replace(Ir,""),n=e.match(Ar)||e.match(Dr);return n}function ee(t){var e=te(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ne(t,e,n){var r,o,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw b(n)&&n||(n=t.name||ee(t)),Nr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=te(t),i(o[1].split(Tr),function(t){t.replace(Or,function(t,e,n){r.push(n)})})}t.$inject=r}}else Ji(t)?(a=t.length-1,ct(t[a],"fn"),r=t.slice(0,a)):ct(t,"fn",!0);return r}function ie(t,e){function n(t){return function(e,n){return _(e)?void i(e,o(t)):t(e,n)}}function r(t,e){if(ht(t,"service"),(x(e)||Ji(e))&&(e=L.instantiate(e)),!e.$get)throw Nr("pget","Provider '{0}' must define $get factory method.",t);return w[t+g]=e}function a(t,e){return function(){var n=E.invoke(e,this);if(v(n))throw Nr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return r(t,{$get:n!==!1?a(t,e):e})}function l(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return s(t,m(e),!1)}function c(t,e){ht(t,"constant"),w[t]=e,P[t]=e}function h(t,e){var n=L.get(t+g),i=n.$get;n.$get=function(){var t=E.invoke(i,n);return E.invoke(e,null,{$delegate:t})}}function f(t){ut(v(t)||Ji(t),"modulesToLoad","not an array");var e,n=[];return i(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=L.get(i[0]);r[i[1]].apply(r,i[2])}}if(!$.get(t)){$.put(t,!0);try{b(t)?(e=Ri(t),n=n.concat(f(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):x(t)?n.push(L.invoke(t)):Ji(t)?n.push(L.invoke(t)):ct(t,"module")}catch(e){throw Ji(t)&&(t=t[t.length-1]),e.message&&e.stack&&e.stack.indexOf(e.message)==-1&&(e=e.message+"\n"+e.stack),Nr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function d(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===p)throw Nr("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=p,t[e]=n(e,i)}catch(n){throw t[e]===p&&delete t[e],n}finally{y.shift()}}function r(t,n,r){for(var o=[],a=ie.$$annotate(t,e,r),s=0,l=a.length;s<l;s++){var u=a[s];if("string"!=typeof u)throw Nr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:i(u,r))}return o}function o(t){return!(Bi<=11)&&("function"==typeof t&&/^(?:class\b|constructor\()/.test(Qt(t)))}function a(t,e,n,i){"string"==typeof n&&(i=n,n=null);var a=r(t,n,i);return Ji(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var i=Ji(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:ie.$$annotate,has:function(e){return w.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=e===!0;var p={},g="Provider",y=[],$=new Xt([],(!0)),w={$provide:{provider:n(r),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:h}},L=w.$injector=d(w,function(t,e){throw Wi.isString(e)&&y.push(e),Nr("unpr","Unknown provider: {0}",y.join(" <- "))}),P={},C=d(P,function(t,e){var n=L.get(t+g,e);return E.invoke(n.$get,n,void 0,t)}),E=C;w["$injector"+g]={$get:m(C)};var S=f(t);return E=C.get("$injector"),E.strictDi=e,i(S,function(t){t&&E.invoke(t)}),E}function re(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===B(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(x(t))t=t();else if(I(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else w(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=b(t)?t:n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=r(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Ft(function(){i.$evalAsync(s)})}),s}]}function oe(t,e){return t||e?t?e?(Ji(t)&&(t=t.join(" ")),Ji(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ae(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Ur)return n}}function se(t){b(t)&&(t=t.split(" "));var e=pt();return i(t,function(t){t.length&&(e[t]=!0)}),e}function le(t){return _(t)?t:{}}function ue(t,e,n,r){function o(t){try{t.apply(null,H(arguments,1))}finally{if(y--,0===y)for(;_.length;)try{_.pop()()}catch(t){n.error(t)}}}function a(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function s(){x=null,l(),u()}function l(){$=P(),$=v($)?null:$,R($,S)&&($=S),S=$}function u(){w===c.url()&&b===$||(w=c.url(),b=$,i(C,function(t){t(c.url(),$)}))}var c=this,h=t.location,f=t.history,p=t.setTimeout,m=t.clearTimeout,g={};c.isMock=!1;var y=0,_=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(t){0===y?t():_.push(t)};var $,b,w=h.href,L=e.find("base"),x=null,P=r.history?function(){try{return f.state}catch(t){}}:d;l(),b=$,c.url=function(e,n,i){if(v(i)&&(i=null),h!==t.location&&(h=t.location),f!==t.history&&(f=t.history),e){var o=b===i;if(w===e&&(!r.history||o))return c;var s=w&&Ve(w)===Ve(e);return w=e,b=i,!r.history||s&&o?(s||(x=e),n?h.replace(e):s?h.hash=a(e):h.href=e,h.href!==e&&(x=e)):(f[n?"replaceState":"pushState"](i,"",e),l(),b=$),x&&(x=e),c}return x||h.href.replace(/%27/g,"'")},c.state=function(){return $};var C=[],E=!1,S=null;c.onUrlChange=function(e){return E||(r.history&&Ui(t).on("popstate",s),Ui(t).on("hashchange",s),E=!0),C.push(e),e},c.$$applicationDestroyed=function(){Ui(t).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var t=L.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return y++,n=p(function(){delete g[n],o(t)},e||0),g[n]=!0,n},c.defer.cancel=function(t){return!!g[t]&&(delete g[t],m(t),o(d),!0)}}function ce(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new ue(t,i,e,n)}]}function he(){this.$get=function(){function t(t,i){function r(t){t!=f&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,f),f=t,f.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=u({},i,{id:t}),l=pt(),c=i&&i.capacity||Number.MAX_VALUE,h=pt(),f=null,d=null;return n[t]={put:function(t,e){if(!v(e)){if(c<Number.MAX_VALUE){var n=h[t]||(h[t]={key:t});r(n)}return t in l||a++,l[t]=e,a>c&&this.remove(d.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=h[t];if(!e)return;e==f&&(f=e.p),e==d&&(d=e.n),o(e.n,e.p),delete h[t]}t in l&&(delete l[t],a--)},removeAll:function(){l=pt(),a=0,h=pt(),f=d=null},destroy:function(){l=null,s=null,h=null,delete n[t]},info:function(){return u({},s,{size:a})}}}var n={};return t.info=function(){var t={};return i(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function fe(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function de(){}function pe(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=pt();return i(t,function(t,i){if(t in C)return void(o[i]=C[t]);var a=t.match(r);if(!a)throw Zr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(C[t]=o[i])}),o}function a(t,e){var n={isolateScope:null,bindToController:null};if(_(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),_(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),_(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw Zr("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!_e(i,o))throw Zr("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function s(t){var e=t.charAt(0);if(!e||e!==Ti(e))throw Zr("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Zr("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function l(t){var e=t.require||t.controller&&t.name;return!Ji(e)&&_(e)&&i(e,function(t,n){var i=t.match(L),r=t.substring(i[0].length);r||(e[n]=i[0]+n)}),e}var c={},h="Directive",g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,$=/(([\w\-]+)(?:\:([^;]+))?;?)/,w=N("ngSrc,ngSrcset,src,srcset"),L=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,P=/^(on[a-z]+|formaction)$/,C=pt();this.directive=function t(n,r){return ht(n,"directive"),b(n)?(s(n),ut(r,"directiveFactory"),c.hasOwnProperty(n)||(c[n]=[],e.factory(n+h,["$injector","$exceptionHandler",function(t,e){var r=[];return i(c[n],function(i,o){try{var a=t.invoke(i);x(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=l(a),a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(t){e(t)}}),r}])),c[n].push(r)):i(n,o(t)),this},this.component=function(t,e){function n(t){function n(e){return x(e)||Ji(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var o=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:_e(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return i(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var r=e.controller||function(){};return i(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,x(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(t){return y(t)?(S=t,this):S};var k=10;this.onChangesTtl=function(t){return arguments.length?(k=t,this):k},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,o,s,l,m,C,M,D){function T(){try{if(!--Lt)throw _t=void 0,Zr("infchng","{0} $onChanges() iterations reached. Aborting!\n",k);m.$apply(function(){for(var t=[],e=0,n=_t.length;e<n;++e)try{_t[e]()}catch(e){t.push(e)}if(_t=void 0,t.length)throw t})}finally{Lt++}}function O(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function I(t,e,n){bt.innerHTML="<span "+e+">";var i=bt.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function N(t,e){try{t.addClass(e)}catch(t){}}function z(e,n,i,r,o){e instanceof Ui||(e=Ui(e));for(var a=/\S+/,s=0,l=e.length;s<l;s++){var u=e[s];u.nodeType===sr&&u.nodeValue.match(a)&&St(u,e[s]=t.document.createElement("span"))}var c=F(e,n,e,i,r,o);z.$$addScopeClass(e);var h=null;return function(t,n,i){ut(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),h||(h=j(s));var l;if(l="html"!==h?Ui(ht(h,Ui("<div>").append(e).html())):n?Cr.clone.call(e):e,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return z.$$addScopeInfo(l,t),n&&n(l,t),c&&c(t,l,l,r),l}}function j(t){var e=t&&t[0];return e&&"foreignobject"!==B(e)&&Fi.call(e).match(/SVG/)?"svg":"html"}function F(t,e,n,i,r,o){function a(t,n,i,r){var o,a,s,l,u,c,h,f,m;if(d){var g=n.length;for(m=new Array(g),u=0;u<p.length;u+=3)h=p[u],m[h]=n[h]}else m=n;for(u=0,c=p.length;u<c;)s=m[p[u++]],o=p[u++],a=p[u++],o?(o.scope?(l=t.$new(),z.$$addScopeInfo(Ui(s),l)):l=t,f=o.transcludeOnThisElement?q(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?q(t,e):null,o(a,l,s,i,f)):a&&a(t,s.childNodes,void 0,r)}for(var s,l,u,c,h,f,d,p=[],m=0;m<t.length;m++)s=new O,l=Z(t[m],[],s,0===m?i:void 0,r),u=l.length?X(l,t[m],s,e,n,null,[],[],o):null,u&&u.scope&&z.$$addScopeClass(s.$$element),h=u&&u.terminal||!(c=t[m].childNodes)||!c.length?null:F(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||h)&&(p.push(m,u,h),f=!0,d=d||u),o=null;return f?a:null}function q(t,e,n){function i(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=pt();for(var o in e.$$slots)e.$$slots[o]?r[o]=q(t,e.$$slots[o],n):r[o]=null;return i}function Z(t,e,n,i,r){var o,a,s=t.nodeType,l=n.$attr;switch(s){case or:nt(e,ge(B(t)),"E",i,r);for(var u,c,h,f,d,p,m=t.attributes,g=0,v=m&&m.length;g<v;g++){var y=!1,w=!1;u=m[g],c=u.name,d=Ki(u.value),f=ge(c),(p=Et.test(f))&&(c=c.replace(Gr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var L=f.match(kt);L&&it(L[1])&&(y=c,w=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=ge(c.toLowerCase()),l[h]=c,!p&&n.hasOwnProperty(h)||(n[h]=d,qt(t,h)&&(n[h]=!0)),dt(t,e,d,h,p),nt(e,h,"A",i,r,y,w)}if(a=t.className,_(a)&&(a=a.animVal),b(a)&&""!==a)for(;o=$.exec(a);)h=ge(o[2]),nt(e,h,"C",i,r)&&(n[h]=Ki(o[3])),a=a.substr(o.index+o[0].length);break;case sr:if(11===Bi)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===sr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);ct(e,t.nodeValue);break;case lr:W(t,e,n,i,r)}return e.sort(at),e}function W(t,e,n,i,r){try{var o=g.exec(t.nodeValue);if(o){var a=ge(o[1]);
nt(e,a,"M",i,r)&&(n[a]=Ki(o[2]))}}catch(t){}}function G(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Zr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==or&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return Ui(i)}function J(t,e,n){return function(i,r,o,a,s){return r=G(r[0],e,n),t(i,r,o,a,s)}}function K(t,e,n,i,r,o){var a;return t?z(e,n,i,r,o):function(){return a||(a=z(e,n,i,r,o),e=n=o=null),a.apply(this,arguments)}}function X(t,e,n,o,a,s,l,c,h){function f(t,e,n,i){t&&(n&&(t=J(t,n,i)),t.require=p.require,t.directiveName=m,(P===p||p.$$isolateScope)&&(t=gt(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=J(e,n,i)),e.require=p.require,e.directiveName=m,(P===p||p.$$isolateScope)&&(e=gt(e,{isolateScope:!0})),c.push(e))}function d(t,o,a,s,h){function f(t,e,n,i){var r;if(E(t)||(i=n,n=e,e=t,t=void 0),A&&(r=$),n||(n=A?S.parent():S),!i)return h(t,e,r,n,U);var o=h.$$slots[i];if(o)return o(t,e,r,n,U);if(v(o))throw Zr("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Y(S))}var d,p,m,g,y,$,b,S,k,M;e===a?(k=n,S=n.$$element):(S=Ui(a),k=new O(S,n)),y=o,P?g=o.$new(!0):w&&(y=o.$parent),h&&(b=f,b.$$boundTransclude=h,b.isSlotFilled=function(t){return!!h.$$slots[t]}),L&&($=tt(S,k,b,L,g,o,P)),P&&(z.$$addScopeInfo(S,g,!0,!(C&&(C===P||C===P.$$originalDirective))),z.$$addScopeClass(S,!0),g.$$isolateBindings=P.$$isolateBindings,M=yt(o,k,g,g.$$isolateBindings,P),M.removeWatches&&g.$on("$destroy",M.removeWatches));for(var D in $){var T=L[D],I=$[D],N=T.$$bindings.bindToController;I.identifier&&N?I.bindingInfo=yt(y,k,I.instance,N,T):I.bindingInfo={};var B=I();B!==I.instance&&(I.instance=B,S.data("$"+T.name+"Controller",B),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=yt(y,k,I.instance,N,T))}for(i(L,function(t,e){var n=t.require;t.bindToController&&!Ji(n)&&_(n)&&u($[e].instance,Q(e,n,S,$))}),i($,function(t){var e=t.instance;if(x(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){r(t)}if(x(e.$onInit))try{e.$onInit()}catch(t){r(t)}x(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),x(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),d=0,p=l.length;d<p;d++)m=l[d],vt(m,m.isolateScope?g:o,S,k,m.require&&Q(m.directiveName,m.require,S,$),b);var U=o;for(P&&(P.template||null===P.templateUrl)&&(U=g),t&&t(U,a.childNodes,void 0,h),d=c.length-1;d>=0;d--)m=c[d],vt(m,m.isolateScope?g:o,S,k,m.require&&Q(m.directiveName,m.require,S,$),b);i($,function(t){var e=t.instance;x(e.$postLink)&&e.$postLink()})}h=h||{};for(var p,m,g,y,$,b=-Number.MAX_VALUE,w=h.newScopeDirective,L=h.controllerDirectives,P=h.newIsolateScopeDirective,C=h.templateDirective,S=h.nonTlbTranscludeDirective,k=!1,M=!1,A=h.hasElementTranscludeDirective,D=n.$$element=Ui(e),T=s,I=o,N=!1,U=!1,R=0,j=t.length;R<j;R++){p=t[R];var F=p.$$start,q=p.$$end;if(F&&(D=G(e,F,q)),g=void 0,b>p.priority)break;if(($=p.scope)&&(p.templateUrl||(_($)?(lt("new/isolated scope",P||w,p,D),P=p):lt("new/isolated scope",P,p,D)),w=w||p),m=p.name,!N&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var W,X=R+1;W=t[X++];)if(W.transclude&&!W.$$tlb||W.replace&&(W.templateUrl||W.template)){U=!0;break}N=!0}if(!p.templateUrl&&p.controller&&($=p.controller,L=L||pt(),lt("'"+m+"' controller",L[m],p,D),L[m]=p),$=p.transclude)if(k=!0,p.$$tlb||(lt("transclusion",S,p,D),S=p),"element"==$)A=!0,b=p.priority,g=D,D=n.$$element=Ui(z.$$createComment(m,n[m])),e=D[0],mt(a,H(g),e),g[0].$$parentNode=g[0].parentNode,I=K(U,g,o,b,T&&T.name,{nonTlbTranscludeDirective:S});else{var nt=pt();if(g=Ui(Mt(e)).contents(),_($)){g=[];var it=pt(),at=pt();i($,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,it[t]=e,nt[e]=null,at[e]=n}),i(D.contents(),function(t){var e=it[ge(B(t))];e?(at[e]=!0,nt[e]=nt[e]||[],nt[e].push(t)):g.push(t)}),i(at,function(t,e){if(!t)throw Zr("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var st in nt)nt[st]&&(nt[st]=K(U,nt[st],o))}D.empty(),I=K(U,g,o,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope}),I.$$slots=nt}if(p.template)if(M=!0,lt("template",C,p,D),C=p,$=x(p.template)?p.template(D,n):p.template,$=Ct($),p.replace){if(T=p,g=wt($)?[]:ye(ht(p.templateNamespace,Ki($))),e=g[0],1!=g.length||e.nodeType!==or)throw Zr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");mt(a,D,e);var ut={$attr:{}},ct=Z(e,[],ut),ft=t.splice(R+1,t.length-(R+1));(P||w)&&et(ct,P,w),t=t.concat(ct).concat(ft),rt(n,ut),j=t.length}else D.html($);if(p.templateUrl)M=!0,lt("template",C,p,D),C=p,p.replace&&(T=p),d=ot(t.splice(R,t.length-R),D,n,a,k&&I,l,c,{controllerDirectives:L,newScopeDirective:w!==p&&w,newIsolateScopeDirective:P,templateDirective:C,nonTlbTranscludeDirective:S}),j=t.length;else if(p.compile)try{y=p.compile(D,n,I);var dt=p.$$originalDirective||p;x(y)?f(null,V(dt,y),F,q):y&&f(V(dt,y.pre),V(dt,y.post),F,q)}catch(t){r(t,Y(D))}p.terminal&&(d.terminal=!0,b=Math.max(b,p.priority))}return d.scope=w&&w.scope===!0,d.transcludeOnThisElement=k,d.templateOnThisElement=M,d.transclude=I,h.hasElementTranscludeDirective=A,d}function Q(t,e,n,r){var o;if(b(e)){var a=e.match(L),s=e.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw Zr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(Ji(e)){o=[];for(var h=0,f=e.length;h<f;h++)o[h]=Q(t,e[h],n,r)}else _(e)&&(o={},i(e,function(e,i){o[i]=Q(t,e,n,r)}));return o||null}function tt(t,e,n,i,r,o,a){var s=pt();for(var u in i){var c=i[u],h={$scope:c===a||c.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},f=c.controller;"@"==f&&(f=e[c.name]);var d=l(f,h,!0,c.controllerAs);s[c.name]=d,t.data("$"+c.name+"Controller",d.instance)}return s}function et(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=f(t[i],{$$isolateScope:e,$$newScope:n})}function nt(t,n,i,o,s,l,u){if(n===s)return null;var d=null;if(c.hasOwnProperty(n))for(var p,m=e.get(n+h),g=0,y=m.length;g<y;g++)try{if(p=m[g],(v(o)||o>p.priority)&&p.restrict.indexOf(i)!=-1){if(l&&(p=f(p,{$$start:l,$$end:u})),!p.$$bindings){var $=p.$$bindings=a(p,p.name);_($.isolateScope)&&(p.$$isolateBindings=$.isolateScope)}t.push(p),d=p}}catch(t){r(t)}return d}function it(t){if(c.hasOwnProperty(t))for(var n,i=e.get(t+h),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function rt(t,e){var n=e.$attr,r=t.$attr;t.$$element;i(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),i(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ot(t,e,n,r,a,s,l,u){var c,h,d=[],p=e[0],m=t.shift(),g=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=x(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,y=m.templateNamespace;return e.empty(),o(v).then(function(o){var f,$,b,w;if(o=Ct(o),m.replace){if(b=wt(o)?[]:ye(ht(y,Ki(o))),f=b[0],1!=b.length||f.nodeType!==or)throw Zr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);$={$attr:{}},mt(r,e,f);var L=Z(f,[],$);_(m.scope)&&et(L,!0),t=L.concat(t),rt(n,$)}else f=p,e.html(o);for(t.unshift(g),c=X(t,f,n,a,e,m,s,l,u),i(r,function(t,n){t==f&&(r[n]=e[0])}),h=F(e[0].childNodes,a);d.length;){var x=d.shift(),P=d.shift(),C=d.shift(),E=d.shift(),S=e[0];if(!x.$$destroyed){if(P!==p){var k=P.className;u.hasElementTranscludeDirective&&m.replace||(S=Mt(f)),mt(C,Ui(P),S),N(Ui(S),k)}w=c.transcludeOnThisElement?q(x,c.transclude,E):E,c(h,x,S,r,w)}}d=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(d?d.push(e,n,i,o):(c.transcludeOnThisElement&&(o=q(e,c.transclude,r)),c(h,e,n,i,o)))}}function at(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function lt(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Zr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,Y(i))}function ct(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&z.$$addBindingClass(e),function(t,e){var r=e.parent();n||z.$$addBindingClass(r),z.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function ht(e,n){switch(e=Ti(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function ft(t,e){if("srcdoc"==e)return C.HTML;var n=B(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?C.RESOURCE_URL:void 0}function dt(t,e,i,r,o){var a=ft(t,r);o=w[r]||o;var s=n(i,!0,a,o);if(s){if("multiple"===r&&"select"===B(t))throw Zr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers=pt());if(P.test(r))throw Zr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[r];c!==i&&(s=c&&n(c,!0,a,o),i=c),s&&(l[r]=s(t),(u[r]||(u[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(s,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function mt(e,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]==a){e[r++]=i;for(var u=r,c=u+s-1,h=e.length;u<h;u++,c++)c<h?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=i);break}l&&l.replaceChild(i,a);var f=t.document.createDocumentFragment();for(r=0;r<s;r++)f.appendChild(n[r]);for(Ui.hasData(a)&&(Ui.data(i,Ui.data(a)),Ui(a).off("$destroy")),Ui.cleanData(f.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function gt(t,e){return u(function(){return t.apply(null,arguments)},t,e)}function vt(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(t){r(t,Y(n))}}function yt(t,e,r,o,a){function l(e,n,i){x(r.$onChanges)&&n!==i&&(_t||(t.$$postDigest(T),_t=[]),c||(c={},_t.push(u)),c[e]&&(i=c[e].previousValue),c[e]=new me(i,n))}function u(){r.$onChanges(c),c=void 0}var c,h=[],f={};return i(o,function(i,o){var u,c,p,m,g,v=i.attrName,y=i.optional,_=i.mode;switch(_){case"@":y||Di.call(e,v)||(r[o]=e[v]=void 0),e.$observe(v,function(t){if(b(t)||A(t)){var e=r[o];l(o,t,e),r[o]=t}}),e.$$observers[v].$$scope=t,u=e[v],b(u)?r[o]=n(u)(t):A(u)&&(r[o]=u),f[o]=new me(Wr,r[o]);break;case"=":if(!Di.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]),m=c.literal?R:function(t,e){return t===e||t!==t&&e!==e},p=c.assign||function(){throw u=r[o]=c(t),Zr("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,a.name)},u=r[o]=c(t);var $=function(e){return m(e,r[o])||(m(e,u)?p(t,e=r[o]):r[o]=e),u=e};$.$stateful=!0,g=i.collection?t.$watchCollection(e[v],$):t.$watch(s(e[v],$),null,c.literal),h.push(g);break;case"<":if(!Di.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]);var w=r[o]=c(t);f[o]=new me(Wr,r[o]),g=t.$watch(c,function(t,e){if(e===t){if(e===w)return;e=w}l(o,t,e),r[o]=t},c.literal),h.push(g);break;case"&":if(c=e.hasOwnProperty(v)?s(e[v]):d,c===d&&y)break;r[o]=function(e){return c(t,e)}}}),{initialChanges:f,removeWatches:h.length&&function(){for(var t=0,e=h.length;t<e;++t)h[t]()}}}var _t,$t=/^\w/,bt=t.document.createElement("div"),Lt=k;O.prototype={$normalize:ge,$addClass:function(t){t&&t.length>0&&M.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&M.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ve(t,e);n&&n.length&&M.addClass(this.$$element,n);var i=ve(e,t);i&&i.length&&M.removeClass(this.$$element,i)},$set:function(t,e,n,o){var a,s=this.$$element[0],l=qt(s,t),u=Zt(t),c=t;if(l?(this.$$element.prop(t,e),o=l):u&&(this[u]=e,c=u),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=st(t,"-"))),a=B(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=D(e,"src"===t);else if("img"===a&&"srcset"===t&&y(e)){for(var h="",f=Ki(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(f)?d:/(,)/,m=f.split(p),g=Math.floor(m.length/2),_=0;_<g;_++){var $=2*_;h+=D(Ki(m[$]),!0),h+=" "+Ki(m[$+1])}var b=Ki(m[2*_]).split(/\s/);h+=D(Ki(b[0]),!0),2===b.length&&(h+=" "+Ki(b[1])),this[t]=e=h}n!==!1&&(null===e||v(e)?this.$$element.removeAttr(o):$t.test(o)?this.$$element.attr(o,e):I(this.$$element[0],o,e));var w=this.$$observers;w&&i(w[c],function(t){try{t(e)}catch(t){r(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=pt()),r=i[t]||(i[t]=[]);return r.push(e),m.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){U(r,e)}}};var xt=n.startSymbol(),Pt=n.endSymbol(),Ct="{{"==xt&&"}}"==Pt?p:function(t){return t.replace(/\{\{/g,xt).replace(/}}/g,Pt)},Et=/^ngAttr[A-Z]/,kt=/^(.+)Start$/;return z.$$addBindingInfo=S?function(t,e){var n=t.data("$binding")||[];Ji(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:d,z.$$addBindingClass=S?function(t){N(t,"ng-binding")}:d,z.$$addScopeInfo=S?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:d,z.$$addScopeClass=S?function(t,e){N(t,e?"ng-isolate-scope":"ng-scope")}:d,z.$$createComment=function(e,n){var i="";return S&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},z}]}function me(t,e){this.previousValue=t,this.currentValue=e}function ge(t){return bt(t.replace(Gr,""))}function ve(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function ye(t){t=Ui(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];n.nodeType===lr&&Hi.call(t,e,1)}return t}function _e(t,e){if(e&&b(e))return e;if(b(t)){var n=Yr.exec(t);if(n)return n[3]}}function $e(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){ht(e,"controller"),_(e)?u(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!_(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}return function(e,a,s,l){var c,h,f,d;if(s=s===!0,l&&b(l)&&(d=l),b(e)){if(h=e.match(Yr),!h)throw Jr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);f=h[1],d=d||h[3],e=t.hasOwnProperty(f)?t[f]:ft(a.$scope,f,!0)||(n?ft(r,f,!0):void 0),ct(e,f,!0)}if(s){var p=(Ji(e)?e[e.length-1]:e).prototype;c=Object.create(p||null),d&&o(a,d,c,f||e.name);var m;return m=u(function(){var t=i.invoke(e,c,a,f);return t!==c&&(_(t)||x(t))&&(c=t,d&&o(a,d,c,f||e.name)),c},{instance:c,identifier:d})}return c=i.instantiate(e,a,f),d&&o(a,d,c,f||e.name),c}}]}function be(){this.$get=["$window",function(t){return Ui(t.document)}]}function we(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Le(t){return _(t)?L(t)?t.toISOString():q(t):t}function xe(){this.$get=function(){return function(t){if(!t)return"";var e=[];return r(t,function(t,n){null===t||v(t)||(Ji(t)?i(t,function(t){e.push(et(n)+"="+et(Le(t)))}):e.push(et(n)+"="+et(Le(t))))}),e.join("&")}}}function Pe(){this.$get=function(){return function(t){function e(t,o,a){null===t||v(t)||(Ji(t)?i(t,function(t,n){e(t,o+"["+(_(t)?n:"")+"]")}):_(t)&&!L(t)?r(t,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):n.push(et(o)+"="+et(Le(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Ce(t,e){if(b(t)){var n=t.replace(no,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Xr)||Ee(n))&&(t=Z(n))}}return t}function Ee(t){var e=t.match(to);return e&&eo[e[0]].test(t)}function Se(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=pt();return b(t)?i(t.split("\n"),function(t){n=t.indexOf(":"),e(Ti(Ki(t.substr(0,n))),Ki(t.substr(n+1)))}):_(t)&&i(t,function(t,n){e(Ti(n),Ki(t))}),r}function ke(t){var e;return function(n){if(e||(e=Se(t)),n){var i=e[Ti(n)];return void 0===i&&(i=null),i}return e}}function Me(t,e,n,r){return x(r)?r(t,e,n):(i(r,function(i){t=i(t,e,n)}),t)}function Ae(t){return 200<=t&&t<300}function De(){var t=this.defaults={transformResponse:[Ce],transformRequest:[function(t){return!_(t)||S(t)||M(t)||k(t)?t:q(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:gt(Qr),put:gt(Qr),patch:gt(Qr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return y(t)?(n=!!t,this):n};var r=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(r=!!t,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,h,f){function d(n){function o(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function a(t,e){var n,r={};return i(t,function(t,i){x(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function s(e){var n,i,r,o=t.headers,s=u({},e.headers);o=u({},o.common,o[Ti(e.method)]);t:for(n in o){i=Ti(n);for(r in s)if(Ti(r)===i)continue t;s[n]=o[n]}return a(s,gt(e))}function l(e){var n=e.headers,r=Me(e.data,ke(n),void 0,e.transformRequest);return v(r)&&i(n,function(t,e){"content-type"===Ti(e)&&delete n[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),g(e,r).then(c,c)}function c(t){var e=u({},t);return e.data=Me(t.data,t.headers,t.status,d.transformResponse),Ae(t.status)?e:h.reject(e)}if(!_(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!b(n.url))throw e("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var d=u({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);d.headers=s(n),d.method=Oi(d.method),d.paramSerializer=b(d.paramSerializer)?f.get(d.paramSerializer):d.paramSerializer;var p=[],m=[],y=h.when(d);return i(L,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&m.push(t.response,t.responseError)}),y=o(y,p),y=y.then(l),y=o(y,m),r?(y.success=function(t){return ct(t,"fn"),y.then(function(e){t(e.data,e.status,e.headers,d)}),y},y.error=function(t){return ct(t,"fn"),y.then(null,function(e){t(e.data,e.status,e.headers,d)}),y}):(y.success=ro("success"),y.error=ro("error")),y}function p(t){i(arguments,function(t){d[t]=function(e,n){return d(u({},n||{},{method:t,url:e}))}})}function m(t){i(arguments,function(t){d[t]=function(e,n,i){return d(u({},i||{},{method:t,url:e,data:n}))}})}function g(e,r){function o(t){if(t){var e={};return i(t,function(t,i){e[i]=function(e){function i(){t(e)}n?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),e}}function l(t,e,i,r){function o(){u(e,t,i,r)}m&&(Ae(t)?m.put(P,[t,e,Se(i),r]):m.remove(P)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(t,n,i,r){n=n>=-1?n:0,(Ae(n)?b.resolve:b.reject)({data:t,status:n,headers:ke(i),config:e,statusText:r})}function f(t){u(t.data,t.status,gt(t.headers()),t.statusText)}function p(){var t=d.pendingRequests.indexOf(e);t!==-1&&d.pendingRequests.splice(t,1)}var m,g,b=h.defer(),L=b.promise,x=e.headers,P=$(e.url,e.paramSerializer(e.params));if(d.pendingRequests.push(e),L.then(p,p),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(m=_(e.cache)?e.cache:_(t.cache)?t.cache:w),m&&(g=m.get(P),y(g)?D(g)?g.then(f,f):Ji(g)?u(g[1],g[0],gt(g[2]),g[3]):u(g,200,{},"OK"):m.put(P,L)),v(g)){var C=In(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;C&&(x[e.xsrfHeaderName||t.xsrfHeaderName]=C),a(e.method,P,r,l,x,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return L}function $(t,e){return e.length>0&&(t+=(t.indexOf("?")==-1?"?":"&")+e),t}var w=l("$http");t.paramSerializer=b(t.paramSerializer)?f.get(t.paramSerializer):t.paramSerializer;var L=[];return i(o,function(t){L.unshift(b(t)?f.get(t):f.invoke(t))}),d.pendingRequests=[],p("get","delete","head","jsonp"),m("post","put","patch"),d.defaults=t,d}]}function Te(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Oe(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return Ie(t,i,t.defer,e,n[0])}]}function Ie(t,e,n,r,o){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=t,i.async=!0,a=function(t){mr(i,"load",a),mr(i,"error",a),o.body.removeChild(i),i=null;var s=-1,l="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},pr(i,"load",a),pr(i,"error",a),o.body.appendChild(i),a}return function(o,s,l,u,c,h,f,p,m,g){function _(){w&&w(),L&&L.abort()}function $(e,i,r,o,a){y(P)&&n.cancel(P),w=L=null,e(i,r,o,a),t.$$completeOutstandingRequest(d)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"===Ti(o))var b=r.createCallback(s),w=a(s,b,function(t,e){var n=200===t&&r.getResponse(b);$(u,t,n,"",e),r.removeCallback(b)});else{var L=e(o,s);L.open(o,s,!0),i(c,function(t,e){y(t)&&L.setRequestHeader(e,t)}),L.onload=function(){var t=L.statusText||"",e="response"in L?L.response:L.responseText,n=1223===L.status?204:L.status;0===n&&(n=e?200:"file"==On(s).protocol?404:0),$(u,n,e,L.getAllResponseHeaders(),t)};var x=function(){$(u,-1,null,null,"")};if(L.onerror=x,L.onabort=x,i(m,function(t,e){L.addEventListener(e,t)}),i(g,function(t,e){L.upload.addEventListener(e,t)}),f&&(L.withCredentials=!0),p)try{L.responseType=p}catch(t){if("json"!==p)throw t}L.send(v(l)?null:l)}if(h>0)var P=n(_,h);else D(h)&&h.then(_)}}function Ne(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(d,t).replace(p,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=q(t)}return t}function l(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function c(o,c,d,p){function g(t){try{return t=D(t),p&&!y(t)?t:s(t)}catch(t){i(oo.interr(o,t))}}if(!o.length||o.indexOf(t)===-1){var _;if(!c){var $=a(o);_=m($),_.exp=o,_.expressions=[],_.$$watchDelegate=l}return _}p=!!p;for(var b,w,L,P=0,C=[],E=[],S=o.length,k=[],M=[];P<S;){if((b=o.indexOf(t,P))==-1||(w=o.indexOf(e,b+h))==-1){P!==S&&k.push(a(o.substring(P)));break}P!==b&&k.push(a(o.substring(P,b))),L=o.substring(b+h,w),C.push(L),E.push(n(L,g)),P=w+f,M.push(k.length),k.push("")}if(d&&k.length>1&&oo.throwNoconcat(o),!c||C.length){var A=function(t){for(var e=0,n=C.length;e<n;e++){if(p&&v(t[e]))return;k[M[e]]=t[e]}return k.join("")},D=function(t){return d?r.getTrusted(d,t):r.valueOf(t)};return u(function(t){var e=0,n=C.length,r=new Array(n);try{for(;e<n;e++)r[e]=E[e](t);return A(r)}catch(t){i(oo.interr(o,t))}},{exp:o,expressions:C,$$watchDelegate:function(t,e){var n;return t.$watchGroup(E,function(i,r){var o=A(i);x(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var h=t.length,f=e.length,d=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return c.startSymbol=function(){return t},c.endSymbol=function(){return e},c}]}function Be(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,s,l,u){function c(){h?o.apply(null,f):o(m)}var h=arguments.length>4,f=h?H(arguments,4):[],d=e.setInterval,p=e.clearInterval,m=0,g=y(u)&&!u,v=(g?i:n).defer(),_=v.promise;return l=y(l)?l:0,_.$$intervalId=d(function(){g?r.defer(c):t.$evalAsync(c),v.notify(m++),l>0&&m>=l&&(v.resolve(m),p(_.$$intervalId),delete a[_.$$intervalId]),g||t.$apply()},s),a[_.$$intervalId]=v,_}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function Ue(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=tt(e[n]);return e.join("/")}function ze(t,e){var n=On(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||lo[n.protocol]||null}function Re(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=On(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=X(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function je(t,e){return 0===t.lastIndexOf(e,0)}function He(t,e){if(je(e,t))return e.substr(t.length)}function Ve(t){var e=t.indexOf("#");return e==-1?t:t.substr(0,e)}function Fe(t){return t.replace(/(#.+)|#$/,"$1")}function qe(t){return t.substr(0,Ve(t).lastIndexOf("/")+1)}function Ze(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function We(t,e,n){this.$$html5=!0,n=n||"",ze(t,this),this.$$parse=function(t){var n=He(e,t);if(!b(n))throw uo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Re(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),n=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Ue(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return y(o=He(t,i))?(a=o,s=y(o=He(n,o))?e+(He("/",o)||o):t+a):y(o=He(e,i))?s=e+o:e==i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function Ge(t,e,n){ze(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return je(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,a=He(t,i)||He(e,i);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(t=i,this.replace())):(o=He(n,a),v(o)&&(o=a)),Re(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Ue(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Ve(t)==Ve(e)&&(this.$$parse(e),!0)}}function Je(t,e,n){this.$$html5=!0,Ge.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t==Ve(i)?o=i:(a=He(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=Q(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=Ue(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Ye(t){return function(){return this[t]}}function Ke(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Xe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return A(t)?(e.enabled=t,this):_(t)?(A(t.enabled)&&(e.enabled=t.enabled),A(t.requireBase)&&(e.requireBase=t.requireBase),A(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(t){throw u.url(r),u.$$state=o,t}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,h,f=i.baseHref(),d=i.url();if(e.enabled){if(!f&&e.requireBase)throw uo("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=Ze(d)+(f||"/"),c=r.history?We:Je}else h=Ve(d),c=Ge;var p=qe(h);u=new c(h,p,"#"+t),u.$$parseLinkUrl(d,d),u.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Ui(t.target);"a"!==B(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");_(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=On(s.animVal).href),m.test(s)||!s||r.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(t.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Fe(u.absUrl())!=Fe(d)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){return v(He(p,t))?void(a.location.href=t):(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;t=Fe(t),u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,s(r,!1,o)):(g=!1,l(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=Fe(i.url()),e=Fe(u.absUrl()),o=i.state(),a=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Qe(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||d,a=!1;try{a=!!o.apply}catch(t){}return a?function(){var t=[];return i(arguments,function(e){t.push(r(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function tn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw ho("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function en(t){return t+""}function nn(t,e){if(t){if(t.constructor===t)throw ho("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw ho("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ho("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw ho("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function rn(t,e){if(t){if(t.constructor===t)throw ho("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===fo||t===po||t===mo)throw ho("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function on(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw ho("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function an(t,e){return"undefined"!=typeof t?t:e}function sn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function ln(t,e){var n=t(e);return!n.$stateful}function un(t,e){var n,r;switch(t.type){case _o.Program:n=!0,i(t.body,function(t){un(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case _o.Literal:t.constant=!0,t.toWatch=[];break;case _o.UnaryExpression:un(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case _o.BinaryExpression:un(t.left,e),un(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case _o.LogicalExpression:un(t.left,e),un(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case _o.ConditionalExpression:un(t.test,e),un(t.alternate,e),un(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case _o.Identifier:t.constant=!1,t.toWatch=[t];break;case _o.MemberExpression:un(t.object,e),t.computed&&un(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case _o.CallExpression:
n=!!t.filter&&ln(e,t.callee.name),r=[],i(t.arguments,function(t){un(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&ln(e,t.callee.name)?r:[t];break;case _o.AssignmentExpression:un(t.left,e),un(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case _o.ArrayExpression:n=!0,r=[],i(t.elements,function(t){un(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case _o.ObjectExpression:n=!0,r=[],i(t.properties,function(t){un(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case _o.ThisExpression:t.constant=!1,t.toWatch=[];break;case _o.LocalsExpression:t.constant=!1,t.toWatch=[]}}function cn(t){if(1==t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function hn(t){return t.type===_o.Identifier||t.type===_o.MemberExpression}function fn(t){if(1===t.body.length&&hn(t.body[0].expression))return{type:_o.AssignmentExpression,left:t.body[0].expression,right:{type:_o.NGValueParameter},operator:"="}}function dn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===_o.Literal||t.body[0].expression.type===_o.ArrayExpression||t.body[0].expression.type===_o.ObjectExpression)}function pn(t){return t.constant}function mn(t,e){this.astBuilder=t,this.$filter=e}function gn(t,e){this.astBuilder=t,this.$filter=e}function vn(t){return"constructor"==t}function yn(t){return x(t.valueOf)?t.valueOf():bo.call(t)}function _n(){var t,e,n=pt(),r=pt(),o={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(a){function s(t,e,i){var o,s,u;switch(i=i||$,typeof t){case"string":t=t.trim(),u=t;var g=i?r:n;if(o=g[u],!o){":"===t.charAt(0)&&":"===t.charAt(1)&&(s=!0,t=t.substring(2));var y=i?_:v,b=new yo(y),w=new $o(b,a,y);o=w.parse(t),o.constant?o.$$watchDelegate=p:s?o.$$watchDelegate=o.literal?f:h:o.inputs&&(o.$$watchDelegate=c),i&&(o=l(o)),g[u]=o}return m(o,e);case"function":return m(t,e);default:return m(d,e)}}function l(t){function e(e,n,i,r){var o=$;$=!0;try{return t(e,n,i,r)}finally{$=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=l(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=l(t.inputs[n]);return e.inputs=t.inputs,e}function u(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=yn(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function c(t,e,n,i,r){var o,a=i.inputs;if(1===a.length){var s=u;return a=a[0],t.$watch(function(t){var e=a(t);return u(e,s)||(o=i(t,void 0,void 0,[e]),s=e&&yn(e)),o},e,n,r)}for(var l=[],c=[],h=0,f=a.length;h<f;h++)l[h]=u,c[h]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;n<r;n++){var s=a[n](t);(e||(e=!u(s,l[n])))&&(c[n]=s,l[n]=s&&yn(s))}return e&&(o=i(t,void 0,void 0,c)),o},e,n,r)}function h(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,x(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function f(t,e,n,r){function o(t){var e=!0;return i(t,function(t){y(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,i){s=t,x(e)&&e.call(this,t,n,i),o(t)&&i.$$postDigest(function(){o(s)&&a()})},n)}function p(t,e,n,i){var r;return r=t.$watch(function(t){return r(),i(t)},e,n)}function m(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==f&&n!==h,o=r?function(n,r,o,a){var s=i&&a?a[0]:t(n,r,o,a);return e(s,n,r)}:function(n,i,r,o){var a=t(n,i,r,o),s=e(a,n,i);return y(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==c?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=c,i=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}var g=Qi().noUnsafeEval,v={csp:g,expensiveChecks:!1,literals:z(o),isIdentifierStart:x(t)&&t,isIdentifierContinue:x(e)&&e},_={csp:g,expensiveChecks:!0,literals:z(o),isIdentifierStart:x(t)&&t,isIdentifierContinue:x(e)&&e},$=!1;return s.$$runningExpensiveChecks=function(){return $},s}]}function $n(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return wn(function(e){t.$evalAsync(e)},e)}]}function bn(){this.$get=["$browser","$exceptionHandler",function(t,e){return wn(function(e){t.defer(e)},e)}]}function wn(t,n){function r(){this.$$state={status:0}}function o(t,e){return function(n){e.call(t,n)}}function a(t){var e,i,r;r=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,a=r.length;o<a;++o){i=r[o][0],e=r[o][t.status];try{x(e)?i.resolve(e(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(t){i.reject(t),n(t)}}}function s(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){a(e)}))}function l(){this.promise=new r}function c(t){var e=new l,n=0,r=Ji(t)?[]:{};return i(t,function(t,i){n++,y(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}function h(t){var e=d();return i(t,function(t){y(t).then(e.resolve,e.reject)}),e.promise}var f=e("$q",TypeError),d=function(){var t=new l;return t.resolve=o(t,t.resolve),t.reject=o(t,t.reject),t.notify=o(t,t.notify),t};u(r.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&s(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return g(e,!0,t)},function(e){return g(e,!1,t)},e)}}),u(l.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){function e(t){l||(l=!0,a.$$resolve(t))}function i(t){l||(l=!0,a.$$reject(t))}var r,a=this,l=!1;try{(_(t)||x(t))&&(r=t&&t.then),x(r)?(this.promise.$$state.status=-1,r.call(t,e,i,o(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,s(this.promise.$$state))}catch(t){i(t),n(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(e){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,a=i.length;o<a;o++){r=i[o][0],t=i[o][3];try{r.notify(x(t)?t(e):e)}catch(t){n(t)}}})}});var p=function(t){var e=new l;return e.reject(t),e.promise},m=function(t,e){var n=new l;return e?n.resolve(t):n.reject(t),n.promise},g=function(t,e,n){var i=null;try{x(n)&&(i=n())}catch(t){return m(t,!1)}return D(i)?i.then(function(){return m(t,e)},function(t){return m(t,!1)}):m(t,e)},y=function(t,e,n,i){var r=new l;return r.resolve(t),r.promise.then(e,n,i)},$=y,b=function(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!x(t))throw f("norslvr","Expected resolverFn, got '{0}'",t);var i=new l;return t(e,n),i.promise};return b.prototype=r.prototype,b.defer=d,b.reject=p,b.when=y,b.resolve=$,b.all=c,b.race=h,b}function Ln(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function xn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return e.prototype=t,e}var r=10,o=e("$rootScope"),s=null,l=null;this.digestTtl=function(t){return arguments.length&&(r=t),r},this.$get=["$exceptionHandler","$parse","$browser",function(e,u,c){function h(t){t.currentScope.$$destroyed=!0}function f(t){9===Bi&&(t.$$childHead&&f(t.$$childHead),t.$$nextSibling&&f(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(t){if(P.$$phase)throw o("inprog","{0} already in progress",P.$$phase);P.$$phase=t}function g(){P.$$phase=null}function y(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function $(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function b(){}function w(){for(;S.length;)try{S.shift()()}catch(t){e(t)}l=null}function L(){null===l&&(l=c.defer(function(){P.$apply(w)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",h),i},$watch:function(t,e,n,i){var r=u(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,a=o.$$watchers,l={fn:e,last:b,get:r,exp:i||t,eq:!!n};return s=null,x(e)||(l.fn=d),a||(a=o.$$watchers=[]),a.unshift(l),y(this,1),function(){U(a,l)>=0&&y(o,-1),s=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(o,o,s)):e(o,r,s)}var r=new Array(t.length),o=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(o,o,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,i){o[0]=t,r[0]=n,e(o,t===n?o:r,i)}):(i(t,function(t,e){var i=s.$watch(t,function(t,i){o[e]=t,r[e]=i,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function i(t){o=t;var e,i,r,s,l;if(!v(o)){if(_(o))if(n(o)){a!==d&&(a=d,g=a.length=0,h++),e=o.length,g!==e&&(h++,a.length=g=e);for(var u=0;u<e;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(h++,a[u]=s)}else{a!==p&&(a=p={},g=0,h++),e=0;for(i in o)Di.call(o,i)&&(e++,s=o[i],l=a[i],i in a?(r=l!==l&&s!==s,r||l===s||(h++,a[i]=s)):(g++,a[i]=s,h++));if(g>e){h++;for(i in a)Di.call(o,i)||(g--,delete a[i])}}else a!==o&&(a=o,h++);return h}}function r(){if(m?(m=!1,e(o,o,l)):e(o,s,l),c)if(_(o))if(n(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var i in o)Di.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,l=this,c=e.length>1,h=0,f=u(t,i),d=[],p={},m=!0,g=0;return this.$watch(f,r)},$digest:function(){var t,n,i,a,u,h,f,d,p,v,y,_,$=r,L=this,S=[];m("$digest"),c.$$checkUrlChange(),this===P&&null!==l&&(c.defer.cancel(l),w()),s=null;do{d=!1,v=L;for(var M=0;M<C.length;M++){try{_=C[M],_.scope.$eval(_.expression,_.locals)}catch(t){e(t)}s=null}C.length=0;t:do{if(h=v.$$watchers)for(f=h.length;f--;)try{if(t=h[f])if(u=t.get,(n=u(v))===(i=t.last)||(t.eq?R(n,i):"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))){if(t===s){d=!1;break t}}else d=!0,s=t,t.last=t.eq?z(n,null):n,a=t.fn,a(n,i===b?n:i,v),$<5&&(y=4-$,S[y]||(S[y]=[]),S[y].push({msg:x(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:i}))}catch(t){e(t)}if(!(p=v.$$watchersCount&&v.$$childHead||v!==L&&v.$$nextSibling))for(;v!==L&&!(p=v.$$nextSibling);)v=v.$parent}while(v=p);if((d||C.length)&&!$--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,S)}while(d||C.length);for(g();k<E.length;)try{E[k++]()}catch(t){e(t)}E.length=k=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===P&&c.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)$(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=d,this.$on=this.$watch=this.$watchGroup=function(){return d},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){P.$$phase||C.length||c.defer(function(){C.length&&P.$digest()}),C.push({scope:this,expression:u(t),locals:e})},$$postDigest:function(t){E.push(t)},$apply:function(t){try{m("$apply");try{return this.$eval(t)}finally{g()}}catch(t){e(t)}finally{try{P.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&S.push(e),t=u(t),L()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);i!==-1&&(n[i]=null,$(r,1,t))}},$emit:function(t,n){var i,r,o,a=[],s=this,l=!1,u={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=j([u],arguments,1);do{for(i=s.$$listeners[t]||a,u.currentScope=s,r=0,o=i.length;r<o;r++)if(i[r])try{i[r].apply(null,c)}catch(t){e(t)}else i.splice(r,1),r--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,n){var i=this,r=i,o=i,a={name:t,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return a;for(var s,l,u,c=j([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[t]||[],l=0,u=s.length;l<u;l++)if(s[l])try{s[l].apply(null,c)}catch(t){e(t)}else s.splice(l,1),l--,u--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var P=new p,C=P.$$asyncQueue=[],E=P.$$postDigestQueue=[],S=P.$$applyAsyncQueue=[],k=0;return P}]}function Pn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=On(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Cn(t){if("self"===t)return t;if(b(t)){if(t.indexOf("***")>-1)throw wo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Xi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(P(t))return new RegExp("^"+t.source+"$");throw wo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function En(t){var e=[];return y(t)&&i(t,function(t){e.push(Cn(t))}),e}function Sn(){this.SCE_CONTEXTS=Lo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=En(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=En(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?In(e):!!t.exec(e.href)}function r(n){var r,o,a=On(n.toString()),s=!1;for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=h.hasOwnProperty(t)?h[t]:null;if(!n)throw wo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw wo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof c?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||v(e)||""===e)return e;var n=h.hasOwnProperty(t)?h[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Lo.RESOURCE_URL){if(r(e))return e;throw wo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Lo.HTML)return u(e);throw wo("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(t){throw wo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),h={};return h[Lo.HTML]=o(c),h[Lo.CSS]=o(c),h[Lo.URL]=o(c),h[Lo.JS]=o(c),h[Lo.RESOURCE_URL]=o(h[Lo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function kn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Bi<8)throw wo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=gt(Lo);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=p),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(Lo,function(t,e){var n=Ti(e);r[bt("parse_as_"+n)]=function(e){return o(t,e)},r[bt("get_trusted_"+n)]=function(e){return a(t,e)},r[bt("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Mn(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=t.chrome&&t.chrome.app&&t.chrome.app.runtime,a=!o&&t.history&&t.history.pushState,s=h((/android (\d+)/.exec(Ti((t.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,f=u.body&&u.body.style,d=!1,p=!1;if(f){for(var m in f)if(i=c.exec(m)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in f&&"webkit"),d=!!("transition"in f||n+"Transition"in f),p=!!("animation"in f||n+"Animation"in f),!s||d&&p||(d=b(f.webkitTransition),p=b(f.webkitAnimation))}return{history:!(!a||s<4||l),hasEvent:function(t){if("input"===t&&Bi<=11)return!1;if(v(r[t])){var e=u.createElement("div");r[t]="on"+t in e}return r[t]},csp:Qi(),vendorPrefix:n,transitions:d,animations:p,android:s}}]}function An(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,i,r){function o(a,s){function l(t){if(!s)throw xo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText);return i.reject(t)}o.totalPendingRequests++,b(a)&&!v(e.get(a))||(a=r.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Ji(c)?c=c.filter(function(t){return t!==Ce}):c===Ce&&(c=null),n.get(a,u({cache:e,transformResponse:c},t)).finally(function(){o.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},l)}return o.totalPendingRequests=0,o}]}function Dn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),o=[];return i(r,function(t){var r=Wi.element(t).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+Xi(e)+"(\\s|\\||$)");r.test(i)&&o.push(t)}else i.indexOf(e)!=-1&&o.push(t)})}),o},r.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Tn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,l){x(o)||(l=s,s=o,o=d);var u,c=H(arguments,3),h=y(l)&&!l,f=(h?i:n).defer(),p=f.promise;return u=e.defer(function(){try{f.resolve(o.apply(null,c))}catch(t){f.reject(t),r(t)}finally{delete a[p.$$timeoutId]}h||t.$apply()},s),p.$$timeoutId=u,a[u]=f,p}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function On(t){var e=t;return Bi&&(Po.setAttribute("href",e),e=Po.href),Po.setAttribute("href",e),{href:Po.href,protocol:Po.protocol?Po.protocol.replace(/:$/,""):"",host:Po.host,search:Po.search?Po.search.replace(/^\?/,""):"",hash:Po.hash?Po.hash.replace(/^#/,""):"",hostname:Po.hostname,port:Po.port,pathname:"/"===Po.pathname.charAt(0)?Po.pathname:"/"+Po.pathname}}function In(t){var e=b(t)?On(t):t;return e.protocol===Co.protocol&&e.host===Co.host}function Nn(){this.$get=m(t)}function Bn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,a,s,l,u=n.cookie||"";if(u!==r)for(r=u,t=r.split("; "),i={},a=0;a<t.length;a++)o=t[a],s=o.indexOf("="),s>0&&(l=e(o.substring(0,s)),v(i[l])&&(i[l]=e(o.substring(s+1))));return i}}function Un(){this.$get=Bn}function zn(t){function e(r,o){if(_(r)){var a={};return i(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Fn),e("date",oi),e("filter",Rn),e("json",ai),e("limitTo",si),e("lowercase",To),e("number",qn),e("orderBy",ui),e("uppercase",Oo)}function Rn(){return function(t,i,r,o){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,l=Vn(i);switch(l){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=jn(i,r,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function jn(t,e,n,i){var r,o=_(t)&&n in t;return e===!0?e=R:x(e)||(e=function(t,e){return!v(t)&&(null===t||null===e?t===e:!(_(e)||_(t)&&!g(t))&&(t=Ti(""+t),e=Ti(""+e),t.indexOf(e)!==-1))}),r=function(r){return o&&!_(r)?Hn(r,t[n],e,n,!1):Hn(r,t,e,n,i)}}function Hn(t,e,n,i,r,o){var a=Vn(t),s=Vn(e);if("string"===s&&"!"===e.charAt(0))return!Hn(t,e.substring(1),n,i,r);if(Ji(t))return t.some(function(t){return Hn(t,e,n,i,r)});switch(a){case"object":var l;if(r){for(l in t)if("$"!==l.charAt(0)&&Hn(t[l],e,n,i,!0))return!0;return!o&&Hn(t,e,n,i,!1)}if("object"===s){for(l in e){var u=e[l];if(!x(u)&&!v(u)){var c=l===i,h=c?t:t[l];if(!Hn(h,u,n,i,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Vn(t){return null===t?"null":typeof t}function Fn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Gn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function qn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Gn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Zn(t){var e,n,i,r,o,a=0;for((n=t.indexOf(So))>-1&&(t=t.replace(So,"")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)==ko;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==ko;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>Eo&&(e=e.splice(0,Eo-1),a=n-1,n=1),{d:e,e:a,i:n}}function Wn(t,e,n,i){var r=t.d,o=r.length-t.i;e=v(e)?Math.min(Math.max(n,o),i):+e;var a=e+t.i,s=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;o<Math.max(0,e);o++)r.push(0);var h=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);h&&(r.unshift(h),t.i++)}function Gn(t,e,n,i,r){if(!b(t)&&!w(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,l=Math.abs(t)+"",u="";if(a)u="";else{o=Zn(l),Wn(o,r,e.minFrac,e.maxFrac);var c=o.d,h=o.i,f=o.e,d=[];for(s=c.reduce(function(t,e){return t&&!e},!0);h<0;)c.unshift(0),h++;h>0?d=c.splice(h,c.length):(d=c,c=[0]);var p=[];for(c.length>=e.lgSize&&p.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)p.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),d.length&&(u+=i+d.join("")),f&&(u+="e+"+f)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function Jn(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=ko+t;return n&&(t=t.substr(t.length-e)),r+t}function Yn(t,e,n,i,r){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&n==-12&&(a=12),Jn(a,e,i,r)}}function Kn(t,e,n){return function(i,r){var o=i["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=Oi(a+t);return r[s][o]}}function Xn(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Jn(Math[i>0?"floor":"ceil"](i/60),2)+Jn(Math.abs(i%60),2)}function Qn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function ti(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ei(t){return function(e){var n=Qn(e.getFullYear()),i=ti(e),r=+i-+n,o=1+Math.round(r/6048e5);return Jn(o,t)}}function ni(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ii(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function ri(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function oi(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=h(e[9]+e[10]),o=h(e[9]+e[11])),a.call(i,h(e[1]),h(e[2])-1,h(e[3]));var l=h(e[4]||0)-r,u=h(e[5]||0)-o,c=h(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,l,u,c,f),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,b(n)&&(n=Do.test(n)?h(n):e(n)),w(n)&&(n=new Date(n)),!L(n)||!isFinite(n.getTime()))return n;for(;r;)s=Ao.exec(r),s?(u=j(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return o&&(c=W(o,c),n=J(n,o,!0)),i(u,function(e){a=Mo[e],l+=a?a(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ai(){return function(t,e){return v(e)&&(e=2),q(t,e)}}function si(){return function(t,e,i){return e=Math.abs(Number(e))===1/0?Number(e):h(e),isNaN(e)?t:(w(t)&&(t=t.toString()),n(t)?(i=!i||isNaN(i)?0:h(i),i=i<0?Math.max(0,t.length+i):i,e>=0?li(t,i,i+e):0===i?li(t,e,t.length):li(t,Math.max(0,i+e),i)):t)}}function li(t,e,n){return b(t)?t.slice(e,n):ji.call(t,e,n)}function ui(t){function i(e){return e.map(function(e){var n=1,i=p;if(x(e))i=e;else if(b(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return x(t.valueOf)&&(t=t.valueOf(),r(t))?t:g(t)&&(t=t.toString(),r(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,a=e.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(_(o)&&(o=t.index),_(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}return function(t,r,o,l){function u(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:h.map(function(n){return a(n.get(t),e)})}}function c(t,e){for(var n=0,i=h.length;n<i;n++){var r=d(t.predicateValues[n],e.predicateValues[n]);if(r)return r*h[n].descending*f}return d(t.tieBreaker,e.tieBreaker)*f}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);Ji(r)||(r=[r]),0===r.length&&(r=["+"]);var h=i(r),f=o?-1:1,d=x(l)?l:s,p=Array.prototype.map.call(t,u);return p.sort(c),t=p.map(function(t){return t.value})}}function ci(t){return x(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function hi(t,e){t.$name=e}function fi(t,e,n,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(e.name||e.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Bo,a.$rollbackViewValue=function(){i(s,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){i(s,function(t){t.$commitViewValue()})},a.$addControl=function(t){ht(t.$name,"input"),s.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],i(a.$pending,function(e,n){a.$setValidity(n,null,t)}),i(a.$error,function(e,n){a.$setValidity(n,null,t)}),i(a.$$success,function(e,n){a.$setValidity(n,null,t)}),U(s,t),t.$$parentForm=Bo},Ei({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(U(i,n),0===i.length&&delete t[e])},$animate:r}),a.$setDirty=function(){r.removeClass(t,ba),r.addClass(t,wa),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(t,ba,wa+" "+Uo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(s,function(t){t.$setPristine()})},a.$setUntouched=function(){i(s,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,Uo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function di(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function pi(t,e,n,i,r,o){mi(t,e,n,i,r,o),di(i)}function mi(t,e,n,i,r,o){var a=Ti(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var l,u=function(t){if(l&&(o.defer.cancel(l),l=null),!s){var r=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Ki(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),Xo[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(Ko,function(t){if(!l){var e=this[Ai],n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||u(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function gi(t,e){if(L(t))return t;if(b(t)){Go.lastIndex=0;var n=Go.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,u=Qn(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,u.getDate()+c,o,a,s,l)}}return NaN}function vi(t,e){return function(n,r){var o,a;if(L(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ho.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function yi(t,e,n,i){return function(r,o,a,s,l,u,c){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function f(t){return y(t)&&!L(t)?n(t)||void 0:t}_i(r,o,a,s),mi(r,o,a,s,l,u);var d,p=s&&s.$options&&s.$options.timezone;if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var i=n(t,d);return p&&(i=J(i,p)),i}}),s.$formatters.push(function(t){if(t&&!L(t))throw Sa("datefmt","Expected `{0}` to be a date",t);return h(t)?(d=t,d&&p&&(d=J(d,p,!0)),c("date")(t,i,p)):(d=null,"")}),y(a.min)||a.ngMin){var m;s.$validators.min=function(t){return!h(t)||v(m)||n(t)>=m},a.$observe("min",function(t){
m=f(t),s.$validate()})}if(y(a.max)||a.ngMax){var g;s.$validators.max=function(t){return!h(t)||v(g)||n(t)<=g},a.$observe("max",function(t){g=f(t),s.$validate()})}}}function _i(t,e,n,i){var r=e[0],o=i.$$hasNativeValidators=_(r.validity);o&&i.$parsers.push(function(t){var n=e.prop(Ai)||{};return n.badInput||n.typeMismatch?void 0:t})}function $i(t,e,n,i,r,o){if(_i(t,e,n,i),mi(t,e,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:qo.test(t)?parseFloat(t):void 0}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!w(t))throw Sa("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(n.min)||n.ngMin){var a;i.$validators.min=function(t){return i.$isEmpty(t)||v(a)||t>=a},n.$observe("min",function(t){y(t)&&!w(t)&&(t=parseFloat(t)),a=w(t)&&!isNaN(t)?t:void 0,i.$validate()})}if(y(n.max)||n.ngMax){var s;i.$validators.max=function(t){return i.$isEmpty(t)||v(s)||t<=s},n.$observe("max",function(t){y(t)&&!w(t)&&(t=parseFloat(t)),s=w(t)&&!isNaN(t)?t:void 0,i.$validate()})}}function bi(t,e,n,i,r,o){mi(t,e,n,i,r,o),di(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Vo.test(n)}}function wi(t,e,n,i,r,o){mi(t,e,n,i,r,o),di(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Fo.test(n)}}function Li(t,e,n,i){v(n.name)&&e.attr("name",a());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function xi(t,e,n,i,r){var o;if(y(i)){if(o=t(i),!o.constant)throw Sa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Pi(t,e,n,i,r,o,a,s){var l=xi(s,t,"ngTrueValue",n.ngTrueValue,!0),u=xi(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return R(t,l)}),i.$parsers.push(function(t){return t?l:u})}function Ci(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function o(t){var e=[];return Ji(t)?(i(t,function(t){e=e.concat(o(t))}),e):b(t)?t.split(" "):_(t)?(i(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,l){function u(t){var e=h(t,1);l.$addClass(e)}function c(t){var e=h(t,-1);l.$removeClass(e)}function h(t,e){var n=s.data("$classCounts")||pt(),r=[];return i(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function f(t,e){var i=r(e,t),o=r(t,e);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function d(t){if(e===!0||(1&a.$index)===e){var n=o(t||[]);if(p){if(!R(t,p)){var i=o(p);f(i,n)}}else u(n)}p=Ji(t)?t.map(function(t){return gt(t)}):gt(t)}var p;a.$watch(l[t],d,!0),l.$observe("class",function(e){d(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,i){var r=1&n;if(r!==(1&i)){var s=o(a.$eval(l[t]));r===e?u(s):c(s)}})}}}]}function Ei(t){function e(t,e,s){v(e)?n("$pending",t,s):i("$pending",t,s),A(e)?e?(c(a.$error,t,s),u(a.$$success,t,s)):(u(a.$error,t,s),c(a.$$success,t,s)):(c(a.$error,t,s),c(a.$$success,t,s)),a.$pending?(r(Pa,!0),a.$valid=a.$invalid=void 0,o("",null)):(r(Pa,!1),a.$valid=Si(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[t]?void 0:!a.$error[t]&&(!!a.$$success[t]||null),o(t,l),a.$$parentForm.$setValidity(t,l,a)}function n(t,e,n){a[t]||(a[t]={}),u(a[t],e,n)}function i(t,e,n){a[t]&&c(a[t],e,n),Si(a[t])&&(a[t]=void 0)}function r(t,e){e&&!l[t]?(h.addClass(s,t),l[t]=!0):!e&&l[t]&&(h.removeClass(s,t),l[t]=!1)}function o(t,e){t=t?"-"+st(t,"-"):"",r(_a+t,e===!0),r($a+t,e===!1)}var a=t.ctrl,s=t.$element,l={},u=t.set,c=t.unset,h=t.$animate;l[$a]=!(l[_a]=s.hasClass(_a)),a.$setValidity=e}function Si(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function ki(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Mi=/^\/(.+)\/([a-z]*)$/,Ai="validity",Di=Object.prototype.hasOwnProperty,Ti=function(t){return b(t)?t.toLowerCase():t},Oi=function(t){return b(t)?t.toUpperCase():t},Ii=function(t){return b(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Ni=function(t){return b(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(Ti=Ii,Oi=Ni);var Bi,Ui,zi,Ri,ji=[].slice,Hi=[].splice,Vi=[].push,Fi=Object.prototype.toString,qi=Object.getPrototypeOf,Zi=e("ng"),Wi=t.angular||(t.angular={}),Gi=0;Bi=t.document.documentMode,d.$inject=[],p.$inject=[];var Ji=Array.isArray,Yi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Ki=function(t){return b(t)?t.trim():t},Xi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Qi=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!y(Qi.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Qi.rules={noUnsafeEval:!i||i.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!i||i.indexOf("no-inline-style")!==-1}}else Qi.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Qi.rules},tr=function(){if(y(tr.name_))return tr.name_;var e,n,i,r,o=nr.length;for(n=0;n<o;++n)if(i=nr[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return tr.name_=r},er=/:/g,nr=["ng-","data-ng-","ng:","x-ng-"],ir=/[A-Z]/g,rr=!1,or=1,ar=2,sr=3,lr=8,ur=9,cr=11,hr={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};kt.expando="ng339";var fr=kt.cache={},dr=1,pr=function(t,e,n){t.addEventListener(e,n,!1)},mr=function(t,e,n){t.removeEventListener(e,n,!1)};kt._data=function(t){return this.cache[t[this.expando]]||{}};var gr=/([\:\-\_]+(.))/g,vr=/^moz([A-Z])/,yr={mouseleave:"mouseout",mouseenter:"mouseover"},_r=e("jqLite"),$r=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,br=/<|&#?\w+;/,wr=/<([\w:-]+)/,Lr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,xr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xr.optgroup=xr.option,xr.tbody=xr.tfoot=xr.colgroup=xr.caption=xr.thead,xr.th=xr.td;var Pr=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Cr=kt.prototype={ready:function(e){function n(){i||(i=!0,e())}var i=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),kt(t).on("load",n))},toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Ui(t>=0?this[t]:this[this.length+t])},length:0,push:Vi,sort:[].sort,splice:[].splice},Er={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Er[Ti(t)]=t});var Sr={};i("input,select,option,textarea,button,form,details".split(","),function(t){Sr[t]=!0});var kr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:It,removeData:Tt,hasData:xt,cleanData:Pt},function(t,e){kt[e]=t}),i({data:It,inheritedData:jt,scope:function(t){return Ui.data(t,"$scope")||jt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Ui.data(t,"$isolateScope")||Ui.data(t,"$isolateScopeNoTemplate")},controller:Rt,injector:function(t){return jt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Nt,css:function(t,e,n){return e=bt(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i=t.nodeType;if(i!==sr&&i!==ar&&i!==lr){var r=Ti(e);if(Er[r]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||d).specified?r:void 0;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?void 0:o}}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===or||n===sr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===B(t)){var n=[];return i(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:(At(t,!0),void(t.innerHTML=e))},empty:Ht},function(t,e){kt.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Ht&&v(2==t.length&&t!==Nt&&t!==Rt?e:n)){if(_(e)){for(i=0;i<o;i++)if(t===It)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=v(a)?Math.min(o,1):o,l=0;l<s;l++){var u=t(this[l],e,n);a=a?a+u:u}return a}for(i=0;i<o;i++)t(this[i],e,n);return this}}),i({removeData:Tt,on:function(t,e,n,i){if(y(i))throw _r("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Lt(t)){var r=Ot(t,!0),o=r.events,a=r.handle;a||(a=r.handle=Wt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length,u=function(e,i,r){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=i,"$destroy"===e||r||pr(t,e,a)),s.push(n)};l--;)e=s[l],yr[e]?(u(yr[e],Jt),u(e,void 0,!0)):u(e)}},off:Dt,one:function(t,e,n){t=Ui(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;At(t),i(new kt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){t.nodeType===or&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===or||n===cr){e=new kt(e);for(var i=0,r=e.length;i<r;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===or){var n=t.firstChild;i(new kt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){St(t,Ui(e).eq(0).clone()[0])},remove:Vt,detach:function(t){Vt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new kt(e);for(var r=0,o=e.length;r<o;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Ut,removeClass:Bt,toggleClass:function(t,e,n){e&&i(e.split(" "),function(e){var i=n;v(i)&&(i=!Nt(t,e)),(i?Ut:Bt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==cr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Mt,triggerHandler:function(t,e,n){var r,o,a,s=e.type||e,l=Ot(t),c=l&&l.events,h=c&&c[s];h&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:d,type:s,target:t},e.type&&(r=u(r,e)),o=gt(h),a=n?[r].concat(n):[r],i(o,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){kt.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;o<a;o++)v(r)?(r=t(this[o],e,n,i),y(r)&&(r=Ui(r))):zt(r,t(this[o],e,n,i));return y(r)?r:this},kt.prototype.bind=kt.prototype.on,kt.prototype.unbind=kt.prototype.off}),Xt.prototype={put:function(t,e){this[Kt(t,this.nextUid)]=e},get:function(t){return this[Kt(t,this.nextUid)]},remove:function(t){var e=this[t=Kt(t,this.nextUid)];return delete this[t],e}};var Mr=[function(){this.$get=[function(){return Xt}]}],Ar=/^([^\(]+?)=>/,Dr=/^[^\(]*\(\s*([^\)]*)\)/m,Tr=/,/,Or=/^\s*(_?)(\S+?)\1\s*$/,Ir=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Nr=e("$injector");ie.$$annotate=ne;var Br=e("$animate"),Ur=1,zr="ng-animate",Rr=function(){this.$get=d},jr=function(){var t=new Xt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(t,e,n){var r=!1;return e&&(e=b(e)?e.split(" "):Ji(e)?e:[],i(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){i(e,function(e){var n=t.get(e);if(n){var r=se(e.attr("class")),o="",a="";i(n,function(t,e){var n=!!r[e];t!==n&&(t?o+=(o.length?" ":"")+e:a+=(a.length?" ":"")+e)}),i(e,function(t){o&&Ut(t,o),a&&Bt(t,a)}),t.remove(e)}}),e.length=0}function s(n,i,s){var l=t.get(n)||{},u=o(l,i,!0),c=o(l,s,!1);(u||c)&&(t.put(n,l),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:d,on:d,off:d,pin:d,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Hr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Br("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+zr+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Br("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',zr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=ae(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Ui(i),r=r&&Ui(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",le(o))},move:function(n,i,r,o){return i=i&&Ui(i),r=r&&Ui(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",le(o))},leave:function(e,n){return t.push(e,"leave",le(n),function(){e.remove()})},addClass:function(e,n,i){return i=le(i),i.addClass=oe(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=le(i),i.removeClass=oe(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=le(r),r.addClass=oe(r.addClass,n),r.removeClass=oe(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=le(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=oe(o.tempClasses,r),t.push(e,"animate",o)}}}]}],Vr=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Fr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,r,o){function a(t){this.setHost(t);var e=n(),i=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=r[0];n&&n.hidden?i(t):e(t)},this._state=0}var s=0,l=1,u=2;return a.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},a.all=function(t,e){function n(n){o=o&&n,++r===t.length&&e(o)}var r=0,o=!0;i(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===u?t():this._doneCallbacks.push(t)},progress:d,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=l,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==u&&(i(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=u)}},a}]},qr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=z(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,l=new n;return{start:r,end:r}}}]},Zr=e("$compile"),Wr=new de;pe.$inject=["$provide","$$sanitizeUriProvider"],me.prototype.isFirstChange=function(){return this.previousValue===Wr};var Gr=/^((?:x|data)[\:\-_])/i,Jr=e("$controller"),Yr=/^(\S+)(\s+as\s+([\w$]+))?$/,Kr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Ui&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Xr="application/json",Qr={"Content-Type":Xr+";charset=utf-8"},to=/^\[|^\{(?!\{)/,eo={"[":/]$/,"{":/}$/},no=/^\)\]\}',?\n/,io=e("$http"),ro=function(t){return function(){throw io("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},oo=Wi.$interpolateMinErr=e("$interpolate");oo.throwNoconcat=function(t){throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},oo.interr=function(t,e){return oo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var ao=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,i={};return{createCallback:function(t){var r="_"+(n.$$counter++).toString(36),o="angular.callbacks."+r,a=e(r);return i[o]=n[r]=a,o},wasCalled:function(t){return i[t].called},getResponse:function(t){return i[t].data},removeCallback:function(t){var e=i[t];delete n[e.id],delete i[t]}}}]},so=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,lo={http:80,https:443,ftp:21},uo=e("$location"),co={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Ye("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=so.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ye("$$protocol"),host:Ye("$$host"),port:Ye("$$port"),path:Ke("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(b(t)||w(t))t=t.toString(),this.$$search=X(t);else{if(!_(t))throw uo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=z(t,{}),i(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ke("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Je,Ge,We],function(t){t.prototype=Object.create(co),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==We||!this.$$html5)throw uo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var ho=e("$parse"),fo=Function.prototype.call,po=Function.prototype.apply,mo=Function.prototype.bind,go=pt();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){go[t]=!0});var vo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},yo=function(t){this.options=t};yo.prototype={constructor:yo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=go[e],o=go[n],a=go[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ho("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Ti(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=vo[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var _o=function(t,e){this.lexer=t,this.options=e};_o.Program="Program",_o.ExpressionStatement="ExpressionStatement",_o.AssignmentExpression="AssignmentExpression",_o.ConditionalExpression="ConditionalExpression",_o.LogicalExpression="LogicalExpression",_o.BinaryExpression="BinaryExpression",_o.UnaryExpression="UnaryExpression",_o.CallExpression="CallExpression",_o.MemberExpression="MemberExpression",_o.Identifier="Identifier",_o.Literal="Literal",_o.ArrayExpression="ArrayExpression",_o.Property="Property",_o.ObjectExpression="ObjectExpression",_o.ThisExpression="ThisExpression",_o.LocalsExpression="LocalsExpression",_o.NGValueParameter="NGValueParameter",_o.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:_o.Program,body:t}},expressionStatement:function(){return{type:_o.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:_o.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:_o.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:_o.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:_o.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:_o.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:_o.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=z(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:_o.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:_o.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:_o.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:_o.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:_o.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:_o.Identifier,name:t.text}},constant:function(){return{type:_o.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:_o.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:_o.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:_o.ObjectExpression,properties:e}},throwError:function(t,e){throw ho("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw ho("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw ho("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:_o.ThisExpression},$locals:{type:_o.LocalsExpression}}},mn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},un(r,n.$filter);var o,a="";if(this.stage="assign",o=fn(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=cn(r.body);n.stage="inputs",i(l,function(t,e){var i="fn"+e;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(t,r),n.return_(r),n.state.inputs.push(i),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,tn,nn,rn,en,on,an,sn,t);return this.state=this.stage=void 0,c.literal=dn(r),c.constant=pn(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return i(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return i(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,o,a){var s,l,u,c,h,f=this;if(r=r||d,!a&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,o,!0));switch(t.type){case _o.Program:i(t.body,function(e,n){f.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?f.current().body.push(l,";"):f.return_(l)});break;case _o.Literal:c=this.escape(t.value),this.assign(e,c),r(c);break;case _o.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),c=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,c),r(c);break;case _o.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),c="+"===t.operator?this.plus(s,l):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(l,0):"("+s+")"+t.operator+"("+l+")",this.assign(e,c),r(c);break;case _o.LogicalExpression:e=e||this.nextId(),f.recurse(t.left,e),f.if_("&&"===t.operator?e:f.not(e),f.lazyRecurse(t.right,e)),r(e);break;case _o.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),r(e);break;case _o.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),tn(t.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",t.name)),function(){
f.if_("inputs"===f.stage||"s",function(){o&&1!==o&&f.if_(f.not(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),(f.state.expensiveChecks||vn(t.name))&&f.addEnsureSafeObject(e),r(e);break;case _o.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,s,void 0,function(){f.if_(f.notNull(s),function(){o&&1!==o&&f.addEnsureSafeAssignContext(s),t.computed?(l=f.nextId(),f.recurse(t.property,l),f.getStringValue(l),f.addEnsureSafeMemberName(l),o&&1!==o&&f.if_(f.not(f.computedMember(s,l)),f.lazyAssign(f.computedMember(s,l),"{}")),c=f.ensureSafeObject(f.computedMember(s,l)),f.assign(e,c),n&&(n.computed=!0,n.name=l)):(tn(t.property.name),o&&1!==o&&f.if_(f.not(f.nonComputedMember(s,t.property.name)),f.lazyAssign(f.nonComputedMember(s,t.property.name),"{}")),c=f.nonComputedMember(s,t.property.name),(f.state.expensiveChecks||vn(t.property.name))&&(c=f.ensureSafeObject(c)),f.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){f.assign(e,"undefined")}),r(e)},!!o);break;case _o.CallExpression:e=e||this.nextId(),t.filter?(l=f.filter(t.callee.name),u=[],i(t.arguments,function(t){var e=f.nextId();f.recurse(t,e),u.push(e)}),c=l+"("+u.join(",")+")",f.assign(e,c),r(e)):(l=f.nextId(),s={},u=[],f.recurse(t.callee,l,s,function(){f.if_(f.notNull(l),function(){f.addEnsureSafeFunction(l),i(t.arguments,function(t){f.recurse(t,f.nextId(),void 0,function(t){u.push(f.ensureSafeObject(t))})}),s.name?(f.state.expensiveChecks||f.addEnsureSafeObject(s.context),c=f.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=f.ensureSafeObject(c),f.assign(e,c)},function(){f.assign(e,"undefined")}),r(e)}));break;case _o.AssignmentExpression:if(l=this.nextId(),s={},!hn(t.left))throw ho("lval","Trying to assign a value to a non l-value");this.recurse(t.left,void 0,s,function(){f.if_(f.notNull(s.context),function(){f.recurse(t.right,l),f.addEnsureSafeObject(f.member(s.context,s.name,s.computed)),f.addEnsureSafeAssignContext(s.context),c=f.member(s.context,s.name,s.computed)+t.operator+l,f.assign(e,c),r(e||c)})},1);break;case _o.ArrayExpression:u=[],i(t.elements,function(t){f.recurse(t,f.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),r(c);break;case _o.ObjectExpression:u=[],h=!1,i(t.properties,function(t){t.computed&&(h=!0)}),h?(e=e||this.nextId(),this.assign(e,"{}"),i(t.properties,function(t){t.computed?(s=f.nextId(),f.recurse(t.key,s)):s=t.key.type===_o.Identifier?t.key.name:""+t.key.value,l=f.nextId(),f.recurse(t.value,l),f.assign(f.member(e,s,t.computed),l)})):(i(t.properties,function(e){f.recurse(e.value,t.constant?void 0:f.nextId(),void 0,function(t){u.push(f.escape(e.key.type===_o.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(e,c)),r(e||c);break;case _o.ThisExpression:this.assign(e,"s"),r("s");break;case _o.LocalsExpression:this.assign(e,"l"),r("l");break;case _o.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,i=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(b(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw ho("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},gn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,un(r,n.$filter);var o,a;(o=fn(r))&&(a=this.recurse(o));var s,l=cn(r.body);l&&(s=[],i(l,function(t,e){var i=n.recurse(t);t.input=i,s.push(i),t.watchId=e}));var u=[];i(r.body,function(t){u.push(n.recurse(t.expression))});var c=0===r.body.length?d:1===r.body.length?u[0]:function(t,e){var n;return i(u,function(i){n=i(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=dn(r),c.constant=pn(r),c},recurse:function(t,e,n){var r,o,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case _o.Literal:return this.value(t.value,e);case _o.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case _o.BinaryExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case _o.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case _o.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case _o.Identifier:return tn(t.name,s.expression),s.identifier(t.name,s.expensiveChecks||vn(t.name),e,n,s.expression);case _o.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(tn(t.property.name,s.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,n,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,e,n,s.expression);case _o.CallExpression:return a=[],i(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,i,r){for(var s=[],l=0;l<a.length;++l)s.push(a[l](t,n,i,r));var u=o.apply(void 0,s,r);return e?{context:void 0,name:void 0,value:u}:u}:function(t,n,i,r){var l,u=o(t,n,i,r);if(null!=u.value){nn(u.context,s.expression),rn(u.value,s.expression);for(var c=[],h=0;h<a.length;++h)c.push(nn(a[h](t,n,i,r),s.expression));l=nn(u.value.apply(u.context,c),s.expression)}return e?{value:l}:l};case _o.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,a){var l=r(t,n,i,a),u=o(t,n,i,a);return nn(l.value,s.expression),on(l.context),l.context[l.name]=u,e?{value:u}:u};case _o.ArrayExpression:return a=[],i(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case _o.ObjectExpression:return a=[],i(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===_o.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,i,r)]=a[s].value(t,n,i,r):o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case _o.ThisExpression:return function(t){return e?{value:t}:t};case _o.LocalsExpression:return function(t,n){return e?{value:n}:n};case _o.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),l=e(i,r,o,a),u=sn(s,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),l=e(i,r,o,a),u=(y(s)?s:0)-(y(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var l=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,i,r){return function(o,a,s,l){var u=a&&t in a?a:o;i&&1!==i&&u&&!u[t]&&(u[t]={});var c=u?u[t]:void 0;return e&&nn(c,r),n?{context:u,name:t,value:c}:c}},computedMember:function(t,e,n,i,r){return function(o,a,s,l){var u,c,h=t(o,a,s,l);return null!=h&&(u=e(o,a,s,l),u=en(u),tn(u,r),i&&1!==i&&(on(h),h&&!h[u]&&(h[u]={})),c=h[u],nn(c,r)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(t,e,n,i,r,o){return function(a,s,l,u){var c=t(a,s,l,u);r&&1!==r&&(on(c),c&&!c[e]&&(c[e]={}));var h=null!=c?c[e]:void 0;return(n||vn(e))&&nn(h,o),i?{context:c,name:e,value:h}:h}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var $o=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new _o(t,n),this.astCompiler=n.csp?new gn(this.ast,e):new mn(this.ast,e)};$o.prototype={constructor:$o,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var bo=Object.prototype.valueOf,wo=e("$sce"),Lo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xo=e("$compile"),Po=t.document.createElement("a"),Co=On(t.location.href);Bn.$inject=["$document"],zn.$inject=["$provide"];var Eo=22,So=".",ko="0";Fn.$inject=["$locale"],qn.$inject=["$locale"];var Mo={yyyy:Yn("FullYear",4,0,!1,!0),yy:Yn("FullYear",2,0,!0,!0),y:Yn("FullYear",1,0,!1,!0),MMMM:Kn("Month"),MMM:Kn("Month",!0),MM:Yn("Month",2,1),M:Yn("Month",1,1),LLLL:Kn("Month",!1,!0),dd:Yn("Date",2),d:Yn("Date",1),HH:Yn("Hours",2),H:Yn("Hours",1),hh:Yn("Hours",2,-12),h:Yn("Hours",1,-12),mm:Yn("Minutes",2),m:Yn("Minutes",1),ss:Yn("Seconds",2),s:Yn("Seconds",1),sss:Yn("Milliseconds",3),EEEE:Kn("Day"),EEE:Kn("Day",!0),a:ni,Z:Xn,ww:ei(2),w:ei(1),G:ii,GG:ii,GGG:ii,GGGG:ri},Ao=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Do=/^\-?\d+$/;oi.$inject=["$locale"];var To=m(Ti),Oo=m(Oi);ui.$inject=["$parse"];var Io=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Fi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),No={};i(Er,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=ge("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),No[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(kr,function(t,e){No[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Mi);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),i(["src","srcset","href"],function(t){var e=ge("ng-"+t);No[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Fi.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(a,e),void(Bi&&o&&i.prop(o,r[a]))):void("href"===t&&r.$set(a,null))})}}}});var Bo={$addControl:d,$$renameControl:hi,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d,$setSubmitted:d},Uo="ng-submitted";fi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var zo=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||d}var r={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:fi,compile:function(n,r){n.addClass(ba).addClass(_a);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,n,r,a){var s=a[0];if(!("action"in r)){var l=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};pr(n[0],"submit",l),n.on("$destroy",function(){e(function(){mr(n[0],"submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var h=o?i(s.$name):d;o&&(h(t,s),r.$observe(o,function(e){s.$name!==e&&(h(t,void 0),s.$$parentForm.$$renameControl(s,e),(h=i(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),h(t,void 0),u(s,Bo)})}}}};return r}]},Ro=zo(),jo=zo(!0),Ho=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Vo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Fo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,qo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Zo=/^(\d{4,})-(\d{2})-(\d{2})$/,Wo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Go=/^(\d{4,})-W(\d\d)$/,Jo=/^(\d{4,})-(\d\d)$/,Yo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ko="keydown wheel mousedown",Xo=pt();i("date,datetime-local,month,time,week".split(","),function(t){Xo[t]=!0});var Qo={text:pi,date:yi("date",Zo,vi(Zo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":yi("datetimelocal",Wo,vi(Wo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:yi("time",Yo,vi(Yo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:yi("week",Go,gi,"yyyy-Www"),month:yi("month",Jo,vi(Jo,["yyyy","MM"]),"yyyy-MM"),number:$i,url:bi,email:wi,radio:Li,checkbox:Pi,hidden:d,button:d,submit:d,reset:d,file:d},ta=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Qo[Ti(a.type)]||Qo.text)(r,o,a,s[0],e,t,n,i)}}}}],ea=/^(true|false|\d+)$/,na=function(){return{restrict:"A",priority:100,compile:function(t,e){return ea.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},ia=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=v(t)?"":t})}}}}],ra=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],oa=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],aa=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),sa=Ci("",!0),la=Ci("Odd",0),ua=Ci("Even",1),ca=ci({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),ha=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],fa={},da={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ge("ng-"+t);fa[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};da[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var pa=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=dt(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],ma=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Wi.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var h,f,d,p=0,m=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),d&&(n.leave(d).then(function(){f=null}),f=d,d=null)};i.$watch(o,function(o){var l=function(){!y(s)||s&&!i.$eval(s)||e()},f=++p;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&f===p){var e=i.$new();u.template=t;var s=c(e,function(t){m(),n.enter(t,null,r).then(l)});h=e,d=s,h.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||f===p&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],ga=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return Fi.call(i[0]).match(/SVG/)?(i.empty(),void e(Ct(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void e(i.contents())(n))}}}],va=ci({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),ya=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var o=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Ki(o):o,l=function(t){if(!v(t)){var e=[];return t&&i(t.split(s),function(t){t&&e.push(a?Ki(t):t)}),e}};r.$parsers.push(l),r.$formatters.push(function(t){if(Ji(t))return t.join(o)}),r.$isEmpty=function(t){return!t||!t.length}}}},_a="ng-valid",$a="ng-invalid",ba="ng-pristine",wa="ng-dirty",La="ng-untouched",xa="ng-touched",Pa="ng-pending",Ca="ng-empty",Ea="ng-not-empty",Sa=e("ngModel"),ka=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,r,o,a,s,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(t),this.$$parentForm=Bo;var h,f=o(n.ngModel),p=f.assign,m=f,g=p,_=null,$=this;this.$$setOptions=function(t){if($.$options=t,t&&t.getterSetter){var e=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");m=function(t){var n=f(t);return x(n)&&(n=e(t)),n},g=function(t,e){x(f(t))?i(t,{$$$p:e}):p(t,e)}}else if(!f.assign)throw Sa("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,Y(r))},this.$render=d,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){$.$isEmpty(t)?(a.removeClass(r,Ea),a.addClass(r,Ca)):(a.removeClass(r,Ca),a.addClass(r,Ea))};var b=0;Ei({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){$.$dirty=!1,$.$pristine=!0,a.removeClass(r,wa),a.addClass(r,ba)},this.$setDirty=function(){$.$dirty=!0,$.$pristine=!1,a.removeClass(r,ba),a.addClass(r,wa),$.$$parentForm.$setDirty()},this.$setUntouched=function(){$.$touched=!1,$.$untouched=!0,a.setClass(r,La,xa)},this.$setTouched=function(){$.$touched=!0,$.$untouched=!1,a.setClass(r,xa,La)},this.$rollbackViewValue=function(){s.cancel(_),$.$viewValue=$.$$lastCommittedViewValue,$.$render()},this.$validate=function(){if(!w($.$modelValue)||!isNaN($.$modelValue)){var t=$.$$lastCommittedViewValue,e=$.$$rawModelValue,n=$.$valid,i=$.$modelValue,r=$.$options&&$.$options.allowInvalid;$.$$runValidators(e,t,function(t){r||n===t||($.$modelValue=t?e:void 0,$.$modelValue!==i&&$.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function r(){var t=$.$$parserName||"parse";return v(h)?(s(t,null),!0):(h||(i($.$validators,function(t,e){s(e,null)}),i($.$asyncValidators,function(t,e){s(e,null)})),s(t,h),h)}function o(){var n=!0;return i($.$validators,function(i,r){var o=i(t,e);n=n&&o,s(r,o)}),!!n||(i($.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],r=!0;i($.$asyncValidators,function(i,o){var a=i(t,e);if(!D(a))throw Sa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?u.all(n).then(function(){l(r)},d):l(!0)}function s(t,e){c===b&&$.$setValidity(t,e)}function l(t){c===b&&n(t)}b++;var c=b;return r()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var t=$.$viewValue;s.cancel(_),($.$$lastCommittedViewValue!==t||""===t&&$.$$hasNativeValidators)&&($.$$updateEmptyClasses(t),$.$$lastCommittedViewValue=t,$.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){$.$modelValue!==o&&$.$$writeModelToScope()}var n=$.$$lastCommittedViewValue,i=n;if(h=!v(i)||void 0)for(var r=0;r<$.$parsers.length;r++)if(i=$.$parsers[r](i),v(i)){h=!1;break}w($.$modelValue)&&isNaN($.$modelValue)&&($.$modelValue=m(t));var o=$.$modelValue,a=$.$options&&$.$options.allowInvalid;$.$$rawModelValue=i,a&&($.$modelValue=i,e()),$.$$runValidators(i,$.$$lastCommittedViewValue,function(t){a||($.$modelValue=t?i:void 0,e())})},this.$$writeModelToScope=function(){g(t,$.$modelValue),i($.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){$.$viewValue=t,$.$options&&!$.$options.updateOnDefault||$.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=$.$options;r&&y(r.debounce)&&(n=r.debounce,w(n)?i=n:w(n[e])?i=n[e]:w(n.default)&&(i=n.default)),s.cancel(_),i?_=s(function(){$.$commitViewValue()},i):l.$$phase?$.$commitViewValue():t.$apply(function(){$.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==$.$modelValue&&($.$modelValue===$.$modelValue||e===e)){$.$modelValue=$.$$rawModelValue=e,h=void 0;for(var n=$.$formatters,i=n.length,r=e;i--;)r=n[i](r);$.$viewValue!==r&&($.$$updateEmptyClasses(r),$.$viewValue=$.$$lastCommittedViewValue=r,$.$render(),$.$$runValidators(e,r,d))}return e})}],Ma=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ka,priority:1,compile:function(e){return e.addClass(ba).addClass(La).addClass(_a),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Aa=/(\s+|^)default(\s+|$)/,Da=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=z(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Ki(this.$options.updateOn.replace(Aa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ta=ci({terminal:!0,priority:1e3}),Oa=e("ngOptions"),Ia=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Na=["$compile","$document","$parse",function(e,r,o){function a(t,e,i){function r(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function a(t){var e;if(!u&&n(t))e=t;else{e=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i)}return e}var s=t.match(Ia);if(!s)throw Oa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Y(e));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],f=o(s[2]?s[1]:l),d=c&&o(c),p=d||f,m=h&&o(h),g=h?function(t,e){return m(i,e)}:function(t){return Kt(t)},v=function(t,e){return g(t,L(t,e))},y=o(s[2]||s[1]),_=o(s[3]||""),$=o(s[4]||""),b=o(s[8]),w={},L=u?function(t,e){return w[u]=e,w[l]=t,w}:function(t){return w[l]=t,w};return{trackBy:h,getTrackByValue:v,getWatchables:o(b,function(t){var e=[];t=t||[];for(var n=a(t),r=n.length,o=0;o<r;o++){var l=t===n?o:n[o],u=t[l],c=L(u,l),h=g(u,c);if(e.push(h),s[2]||s[1]){var f=y(i,c);e.push(f)}if(s[4]){var d=$(i,c);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},n=b(i)||[],o=a(n),s=o.length,l=0;l<s;l++){var u=n===o?l:o[l],c=n[u],f=L(c,u),d=p(i,f),m=g(d,f),w=y(i,f),x=_(i,f),P=$(i,f),C=new r(m,d,w,x,P);t.push(C),e[m]=C}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return h?Wi.copy(t.viewValue):t.viewValue}}}}}function s(t,n,o,s){function c(t,e){var n=l.cloneNode(!1);e.appendChild(n),h(t,n)}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function f(){var t=L&&p.readValue();if(L)for(var e=L.items.length-1;e>=0;e--){var i=L.items[e];Vt(y(i.group)?i.element.parentNode:i.element)}L=x.getOptions();var r={};if(b&&n.prepend(d),L.items.forEach(function(t){var e;y(t.group)?(e=r[t.group],e||(e=u.cloneNode(!1),P.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),c(t,e)):c(t,P)}),n[0].appendChild(P),m.$render(),!m.$isEmpty(t)){var o=p.readValue(),a=x.trackBy||g;(a?R(t,o):t===o)||(m.$setViewValue(o),m.$render())}}for(var d,p=s[0],m=s[1],g=o.multiple,v=0,_=n.children(),$=_.length;v<$;v++)if(""===_[v].value){d=_.eq(v);break}var b=!!d,w=Ui(l.cloneNode(!1));w.val("?");var L,x=a(o.ngOptions,n,t),P=r[0].createDocumentFragment(),C=function(){b||n.prepend(d),n.val(""),d.prop("selected",!0),d.attr("selected",!0)},E=function(){b||d.remove()},S=function(){n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0)},k=function(){w.remove()};g?(m.$isEmpty=function(t){return!t||0===t.length},p.writeValue=function(t){L.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=L.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},p.readValue=function(){var t=n.val()||[],e=[];return i(t,function(t){var n=L.selectValueMap[t];n&&!n.disabled&&e.push(L.getViewValueFromOption(n))}),e},x.trackBy&&t.$watchCollection(function(){if(Ji(m.$viewValue))return m.$viewValue.map(function(t){return x.getTrackByValue(t)})},function(){m.$render()})):(p.writeValue=function(t){var e=L.getOptionFromViewValue(t);e?(n[0].value!==e.selectValue&&(k(),E(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||b?(k(),C()):(E(),S())},p.readValue=function(){var t=L.selectValueMap[n.val()];return t&&!t.disabled?(E(),k(),L.getViewValueFromOption(t)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(m.$viewValue)},function(){m.$render()})),b?(d.remove(),e(d)(t),d.removeClass("ng-scope")):d=Ui(l.cloneNode(!1)),n.empty(),f(),t.$watchCollection(x.getWatchables,f)}var l=t.document.createElement("option"),u=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=d},post:s}}}],Ba=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,h=l.count,f=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,m=a.$eval(f)||{},g={},y=e.startSymbol(),_=e.endSymbol(),$=y+h+"-"+p+_,b=Wi.noop;i(l,function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+Ti(n[2]);m[i]=s.attr(l.$attr[e])}}),i(m,function(t,n){g[n]=e(t.replace(r,$))}),a.$watch(h,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in m||(i=t.pluralCat(i-p)),i!==c&&!(r&&w(c)&&isNaN(c))){b();var o=g[i];v(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),b=d,u()):b=a.$watch(o,u),c=i}})}}}],Ua=["$parse","$animate","$compile",function(t,r,o){var a="$$NG_REMOVED",s=e("ngRepeat"),l=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,h){var f=h.ngRepeat,d=o.$$createComment("end ngRepeat",f),p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=p[1],g=p[2],v=p[3],y=p[4];if(p=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var _=p[3]||p[1],$=p[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var b,w,L,x,P={$id:Kt};return y?b=t(y):(L=function(t,e){return Kt(e)},x=function(t){return t}),function(t,e,o,h,p){b&&(w=function(e,n,i){return $&&(P[$]=e),P[_]=n,P.$index=i,b(t,P)});var m=pt();t.$watchCollection(g,function(o){var h,g,y,b,P,C,E,S,k,M,A,D,T=e[0],O=pt();if(v&&(t[v]=o),n(o))k=o,S=w||L;else{
S=w||x,k=[];for(var I in o)Di.call(o,I)&&"$"!==I.charAt(0)&&k.push(I)}for(b=k.length,A=new Array(b),h=0;h<b;h++)if(P=o===k?h:k[h],C=o[P],E=S(P,C,h),m[E])M=m[E],delete m[E],O[E]=M,A[h]=M;else{if(O[E])throw i(A,function(t){t&&t.scope&&(m[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,E,C);A[h]={id:E,scope:void 0,clone:void 0},O[E]=!0}for(var N in m){if(M=m[N],D=dt(M.clone),r.leave(D),D[0].parentNode)for(h=0,g=D.length;h<g;h++)D[h][a]=!0;M.scope.$destroy()}for(h=0;h<b;h++)if(P=o===k?h:k[h],C=o[P],M=A[h],M.scope){y=T;do y=y.nextSibling;while(y&&y[a]);u(M)!=y&&r.move(dt(M.clone),null,T),T=c(M),l(M.scope,h,_,C,$,P,b)}else p(function(t,e){M.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,r.enter(t,null,T),T=n,M.clone=t,O[M.id]=M,l(M.scope,h,_,C,$,P,b)});m=O})}}}}],za="ng-hide",Ra="ng-hide-animate",ja=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,za,{tempClasses:Ra})})}}}],Ha=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,za,{tempClasses:Ra})})}}}],Va=ci(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Fa=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,l=[],u=[],c=[],h=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=c.length;r<o;++r)t.cancel(c[r]);for(c.length=0,r=0,o=h.length;r<o;++r){var s=dt(u[r].clone);h[r].$destroy();var d=c[r]=t.leave(s);d.then(f(c,r))}u.length=0,h.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(i,r){h.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};u.push(a),t.enter(i,o.parent(),o)})})})}}}],qa=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Za=ci({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Wa=e("ngTransclude"),Ga=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function a(t,n){t.length?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}if(!o)throw Wa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],Ja=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Ya={$setViewValue:d,$render:d},Ka=["$element","$scope",function(e,n){var i=this,r=new Xt;i.ngModelCtrl=Ya,i.unknownOption=Ui(t.document.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Kt(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=d}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(t,e){if(e[0].nodeType!==lr){ht(t,'"option value"'),""===t&&(i.emptyOption=e);var n=r.get(t)||0;r.put(t,n+1),i.ngModelCtrl.$render(),ki(e)}},i.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.remove(t),""===t&&(i.emptyOption=void 0)):r.put(t,e-1))},i.hasOption=function(t){return!!r.get(t)},i.registerOption=function(t,e,n,r,o){if(r){var a;n.$observe("value",function(t){y(a)&&i.removeOption(a),a=t,i.addOption(t,e)})}else o?t.$watch(o,function(t,r){n.$set("value",t),r!==t&&i.removeOption(r),i.addOption(t,e)}):i.addOption(n.value,e);e.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Xa=function(){function t(t,e,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,e.on("change",function(){t.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return i(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Xt(t);i(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var s,l=NaN;t.$watch(function(){l!==o.$viewValue||R(s,o.$viewValue)||(s=gt(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ka,priority:1,link:{pre:t,post:e}}},Qa=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(y(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,i,r)}}}}],ts=m({restrict:"E",terminal:!1}),es=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(b(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,Y(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||v(o)||o.test(e)}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=h(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(lt(),_t(Wi),Wi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i),o=(t*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void Ui(t.document).ready(function(){it(t.document,rt)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){angular.module("nemLogging",[]),angular.module("nemLogging").provider("nemDebug",function(){var e=null;return e=t("debug"),this.$get=function(){return e},this.debug=e,this});var i=function(t,e){return function(){return t.apply(e,arguments)}},r=[].slice;angular.module("nemLogging").provider("nemSimpleLogger",["nemDebugProvider",function(t){var e,n,o,a,s,l,u,c,h,f,d,p;for(d=t.debug,o={},a=["debug","info","warn","error","log"],e={},h=c=0,f=a.length;c<f;h=++c)p=a[h],e[p]=h;return l=function(t,e,n){if(t>=e)return n()},s=function(t){var e,n,i;if(e=!1,!t)return e;for(n=0,i=a.length;n<i&&(p=a[n],e=null!=t[p]&&"function"==typeof t[p],e);n++);return e},u=function(t,e){var n,i,r,s;for(null==o[t]&&(o[t]=d(t)),n=o[t],s={},i=0,r=a.length;i<r;i++)p=a[i],s[p]="debug"===p?n:e[p];return s},n=function(){function t(t){var n,o,u,c,h;if(this.$log=t,this.spawn=i(this.spawn,this),!this.$log)throw"internalLogger undefined";if(!s(this.$log))throw"@$log is invalid";for(this.doLog=!0,h={},n=function(t){return function(n){return h[n]=function(){var i;if(i=1<=arguments.length?r.call(arguments,0):[],t.doLog)return l(e[n],t.currentLevel,function(){var e;return(e=t.$log)[n].apply(e,i)})},t[n]=h[n]}}(this),o=0,u=a.length;o<u;o++)c=a[o],n(c);this.LEVELS=e,this.currentLevel=e.error}return t.prototype.spawn=function(e){if("string"==typeof e){if(!s(this.$log))throw"@$log is invalid";if(!d)throw"nemDebug is undefined this is probably the light version of this library sep debug logggers is not supported!";return u(e,this.$log)}return new t(e||this.$log)},t}(),this.decorator=["$log",function(t){var i;return i=new n(t),i.currentLevel=e.debug,i}],this.$get=["$log",function(t){return new n(t)}],this}])},{debug:2}],2:[function(t,e,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var i="color: "+this.color;t=[t[0],i,"color: inherit"].concat(Array.prototype.slice.call(t,1));var r=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))}),t.splice(o,0,i),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}}function s(){var t;try{t=n.storage.debug}catch(t){}return t}function l(){try{return window.localStorage}catch(t){}}n=e.exports=t("./debug"),n.log=o,n.formatArgs=r,n.save=a,n.load=s,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":3}],3:[function(t,e,n){function i(){return n.colors[c++%n.colors.length]}function r(t){function e(){}function r(){var t=r,e=+new Date,o=e-(u||e);t.diff=o,t.prev=u,t.curr=e,u=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=i());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,i){if("%%"===e)return e;s++;var r=n.formatters[i];if("function"==typeof r){var o=a[s];e=r.call(t,o),a.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a));var l=r.log||n.log||console.log.bind(console);l.apply(t,a)}e.enabled=!1,r.enabled=!0;var o=n.enabled(t)?r:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),i=e.length,r=0;r<i;r++)e[r]&&(t=e[r].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function a(){n.enable("")}function s(t){var e,i;for(e=0,i=n.skips.length;e<i;e++)if(n.skips[e].test(t))return!1;for(e=0,i=n.names.length;e<i;e++)if(n.names[e].test(t))return!0;return!1}function l(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=r,n.coerce=l,n.disable=a,n.enable=o,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u,c=0},{ms:4}],4:[function(t,e,n){function i(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function r(t){return t>=c?Math.round(t/c)+"d":t>=u?Math.round(t/u)+"h":t>=l?Math.round(t/l)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return a(t,c,"day")||a(t,u,"hour")||a(t,l,"minute")||a(t,s,"second")||t+" ms"}function a(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,l=60*s,u=60*l,c=24*u,h=365.25*c;e.exports=function(t,e){return e=e||{},"string"==typeof t?i(t):e.long?o(t):r(t)}},{}]},{},[1]),function(t,e,n){var i=t.L,r={};r.version="0.7.7","object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd&&define(r),r.noConflict=function(){return t.L=i,this},t.L=r,r.Util={extend:function(t){var e,n,i,r,o=Array.prototype.slice.call(arguments,1);for(n=0,i=o.length;n<i;n++){r=o[n]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,n){var i,r;return function o(){var a=arguments;return i?void(r=!0):(i=!0,setTimeout(function(){i=!1,r&&(o.apply(n,a),r=!1)},e),void t.apply(n,a))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return r.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=r.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&e.indexOf("?")!==-1?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){var r=e[i];if(r===n)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,i,r=["webkit","moz","o","ms"];for(n=0;n<r.length&&!i;n++)i=t[r[n]+e];return i}function n(e){var n=+new Date,r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(e,r)}var i=0,o=t.requestAnimationFrame||e("RequestAnimationFrame")||n,a=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};r.Util.requestAnimFrame=function(e,i,a,s){return e=r.bind(e,i),a&&o===n?void e():o.call(t,e,s)},r.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),r.extend=r.Util.extend,r.bind=r.Util.bind,r.stamp=r.Util.stamp,r.setOptions=r.Util.setOptions,r.Class=function(){},r.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);t.statics&&(r.extend(e,t.statics),delete t.statics),t.includes&&(r.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=r.extend({},i.options,t.options)),r.extend(i,t),i._initHooks=[];var a=this;return e.__super__=a.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){a.prototype.callInitHooks&&a.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},r.Class.include=function(t){r.extend(this.prototype,t)},r.Class.mergeOptions=function(t){r.extend(this.prototype.options,t)},r.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var o="_leaflet_events";r.Mixin={},r.Mixin.Events={addEventListener:function(t,e,n){if(r.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,a,s,l,u,c,h,f=this[o]=this[o]||{},d=n&&n!==this&&r.stamp(n);for(t=r.Util.splitWords(t),i=0,a=t.length;i<a;i++)s={action:e,context:n||this},l=t[i],d?(u=l+"_idx",c=u+"_len",h=f[u]=f[u]||{},h[d]||(h[d]=[],f[c]=(f[c]||0)+1),h[d].push(s)):(f[l]=f[l]||[],f[l].push(s));return this},hasEventListeners:function(t){var e=this[o];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[o])return this;if(!t)return this.clearAllEventListeners();if(r.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,a,s,l,u,c,h,f,d,p=this[o],m=n&&n!==this&&r.stamp(n);for(t=r.Util.splitWords(t),i=0,a=t.length;i<a;i++)if(s=t[i],c=s+"_idx",h=c+"_len",f=p[c],e){if(l=m&&f?f[m]:p[s]){for(u=l.length-1;u>=0;u--)l[u].action!==e||n&&l[u].context!==n||(d=l.splice(u,1),d[0].action=r.Util.falseFn);n&&f&&0===l.length&&(delete f[m],p[h]--)}}else delete p[s],delete p[c],delete p[h];return this},clearAllEventListeners:function(){return delete this[o],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,a,s,l,u=r.Util.extend({},e,{type:t,target:this}),c=this[o];if(c[t])for(n=c[t].slice(),i=0,a=n.length;i<a;i++)n[i].action.call(n[i].context,u);s=c[t+"_idx"];for(l in s)if(n=s[l].slice())for(i=0,a=n.length;i<a;i++)n[i].action.call(n[i].context,u);return this},addOneTimeEventListener:function(t,e,n){if(r.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=r.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},r.Mixin.Events.on=r.Mixin.Events.addEventListener,r.Mixin.Events.off=r.Mixin.Events.removeEventListener,r.Mixin.Events.once=r.Mixin.Events.addOneTimeEventListener,r.Mixin.Events.fire=r.Mixin.Events.fireEvent,function(){var i="ActiveXObject"in t,o=i&&!e.addEventListener,a=navigator.userAgent.toLowerCase(),s=a.indexOf("webkit")!==-1,l=a.indexOf("chrome")!==-1,u=a.indexOf("phantom")!==-1,c=a.indexOf("android")!==-1,h=a.search("android [23]")!==-1,f=a.indexOf("gecko")!==-1,d=typeof orientation!=n+"",p=!t.PointerEvent&&t.MSPointerEvent,m=t.PointerEvent&&t.navigator.pointerEnabled||p,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=e.documentElement,y=i&&"transition"in v.style,_="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!h,$="MozPerspective"in v.style,b="OTransition"in v.style,w=!t.L_DISABLE_3D&&(y||_||$||b)&&!u,L=!t.L_NO_TOUCH&&!u&&(m||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);r.Browser={ie:i,ielt9:o,webkit:s,gecko:f&&!s&&!t.opera&&!i,android:c,android23:h,chrome:l,ie3d:y,webkit3d:_,gecko3d:$,opera3d:b,any3d:w,mobile:d,mobileWebkit:d&&s,mobileWebkit3d:d&&_,mobileOpera:d&&t.opera,touch:L,msPointer:p,pointer:m,retina:g}}(),r.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(t){return this.clone()._add(r.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(r.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=r.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=r.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=r.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}},r.point=function(t,e,i){return t instanceof r.Point?t:r.Util.isArray(t)?new r.Point(t[0],t[1]):t===n||null===t?t:new r.Point(t,e,i)},r.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])},r.Bounds.prototype={extend:function(t){return t=r.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof r.Point?r.point(t):r.bounds(t),t instanceof r.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=r.bounds(t);var e=this.min,n=this.max,i=t.min,o=t.max,a=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return a&&s},isValid:function(){return!(!this.min||!this.max)}},r.bounds=function(t,e){return!t||t instanceof r.Bounds?t:new r.Bounds(t,e)},r.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},r.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new r.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},r.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,n){var i=t.style[n];if(!i&&t.currentStyle&&(i=t.currentStyle[n]),(!i||"auto"===i)&&e.defaultView){var r=e.defaultView.getComputedStyle(t,null);i=r?r[n]:null}return"auto"===i?null:i},getViewportOffset:function(t){var n,i=0,o=0,a=t,s=e.body,l=e.documentElement;do{if(i+=a.offsetTop||0,o+=a.offsetLeft||0,i+=parseInt(r.DomUtil.getStyle(a,"borderTopWidth"),10)||0,o+=parseInt(r.DomUtil.getStyle(a,"borderLeftWidth"),10)||0,n=r.DomUtil.getStyle(a,"position"),a.offsetParent===s&&"absolute"===n)break;if("fixed"===n){i+=s.scrollTop||l.scrollTop||0,o+=s.scrollLeft||l.scrollLeft||0;break}if("relative"===n&&!a.offsetLeft){var u=r.DomUtil.getStyle(a,"width"),c=r.DomUtil.getStyle(a,"max-width"),h=a.getBoundingClientRect();"none"===u&&"none"===c||(o+=h.left+a.clientLeft),i+=h.top+(s.scrollTop||l.scrollTop||0);break}a=a.offsetParent}while(a);a=t;do{if(a===s)break;i-=a.scrollTop||0,o-=a.scrollLeft||0,a=a.parentNode}while(a);return new r.Point(o,i)},documentIsLtr:function(){return r.DomUtil._docIsLtrCached||(r.DomUtil._docIsLtrCached=!0,r.DomUtil._docIsLtr="ltr"===r.DomUtil.getStyle(e.body,"direction")),r.DomUtil._docIsLtr},create:function(t,n,i){var r=e.createElement(t);return r.className=n,i&&i.appendChild(r),r},hasClass:function(t,e){if(t.classList!==n)return t.classList.contains(e);var i=r.DomUtil._getClass(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)},addClass:function(t,e){if(t.classList!==n)for(var i=r.Util.splitWords(e),o=0,a=i.length;o<a;o++)t.classList.add(i[o]);else if(!r.DomUtil.hasClass(t,e)){var s=r.DomUtil._getClass(t);r.DomUtil._setClass(t,(s?s+" ":"")+e)}},removeClass:function(t,e){t.classList!==n?t.classList.remove(e):r.DomUtil._setClass(t,r.Util.trim((" "+r.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===n?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===n?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var n=e.documentElement.style,i=0;i<t.length;i++)if(t[i]in n)return t[i];return!1},getTranslateString:function(t){var e=r.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=r.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&r.Browser.any3d?t.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),r.DomUtil.TRANSITION_END="webkitTransition"===r.DomUtil.TRANSITION||"OTransition"===r.DomUtil.TRANSITION?r.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)r.extend(r.DomUtil,{disableTextSelection:function(){r.DomEvent.on(t,"selectstart",r.DomEvent.preventDefault)},enableTextSelection:function(){r.DomEvent.off(t,"selectstart",r.DomEvent.preventDefault)}});else{var n=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r.extend(r.DomUtil,{disableTextSelection:function(){if(n){var t=e.documentElement.style;this._userSelect=t[n],t[n]="none"}},enableTextSelection:function(){n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)}})}r.extend(r.DomUtil,{disableImageDrag:function(){r.DomEvent.on(t,"dragstart",r.DomEvent.preventDefault)},enableImageDrag:function(){r.DomEvent.off(t,"dragstart",r.DomEvent.preventDefault)}})}(),r.LatLng=function(t,e,i){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,i!==n&&(this.alt=parseFloat(i))},r.extend(r.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),r.LatLng.prototype={equals:function(t){if(!t)return!1;t=r.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=r.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+r.Util.formatNum(this.lat,t)+", "+r.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=r.latLng(t);var e=6378137,n=r.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,o=(t.lng-this.lng)*n,a=this.lat*n,s=t.lat*n,l=Math.sin(i/2),u=Math.sin(o/2),c=l*l+u*u*Math.cos(a)*Math.cos(s);return 2*e*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(n<t||n===e?e:t),new r.LatLng(this.lat,n)}},r.latLng=function(t,e){return t instanceof r.LatLng?t:r.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new r.LatLng(t[0],t[1],t[2]):null:t===n||null===t?t:"object"==typeof t&&"lat"in t?new r.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===n?null:new r.LatLng(t,e)},r.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])},r.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=r.latLng(t);return t=null!==e?e:r.latLngBounds(t),t instanceof r.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new r.LatLng(t.lat,t.lng),this._northEast=new r.LatLng(t.lat,t.lng)):t instanceof r.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new r.LatLngBounds(new r.LatLng(e.lat-i,e.lng-o),new r.LatLng(n.lat+i,n.lng+o))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof r.LatLng?r.latLng(t):r.latLngBounds(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof r.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=r.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),a=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return a&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=r.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},r.latLngBounds=function(t,e){return!t||t instanceof r.LatLngBounds?t:new r.LatLngBounds(t,e)},r.Projection={},r.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=r.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=t.lng*e,a=i*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new r.Point(o,a)},unproject:function(t){var e=r.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new r.LatLng(i,n)}},r.Projection.LonLat={project:function(t){return new r.Point(t.lng,t.lat)},unproject:function(t){
return new r.LatLng(t.y,t.x)}},r.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return r.point(e,e)}},r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,(-1),0),scale:function(t){return Math.pow(2,t)}}),r.CRS.EPSG3857=r.extend({},r.CRS,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:new r.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"}),r.CRS.EPSG4326=r.extend({},r.CRS,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/360,.5,-1/360,.5)}),r.Map=r.Class.extend({includes:r.Mixin.Events,options:{crs:r.CRS.EPSG3857,fadeAnimation:r.DomUtil.TRANSITION&&!r.Browser.android23,trackResize:!0,markerZoomAnimation:r.DomUtil.TRANSITION&&r.Browser.any3d},initialize:function(t,e){e=r.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=r.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==n&&this.setView(r.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===n?this.getZoom():e,this._resetView(r.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),a=t instanceof r.Point?t:this.latLngToContainerPoint(t),s=a.subtract(o).multiplyBy(1-1/i),l=this.containerPointToLatLng(o.add(s));return this.setView(l,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():r.latLngBounds(t);var n=r.point(e.paddingTopLeft||e.padding||[0,0]),i=r.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));o=e.maxZoom?Math.min(e.maxZoom,o):o;var a=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),l=this.project(t.getNorthEast(),o),u=this.unproject(s.add(l).divideBy(2).add(a),o);return this.setView(u,o,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(r.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=r.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var n=this.getCenter(),i=this._limitCenter(n,this._zoom,t);return n.equals(i)?this:this.panTo(i,e)},addLayer:function(t){var e=r.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&t instanceof r.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=r.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&t instanceof r.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return!!t&&r.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=r.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),o=n.divideBy(2).round(),a=i.subtract(o);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=n}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new r.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===n?this._layersMinZoom===n?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=r.latLngBounds(t);var i,o=this.getMinZoom()-(e?1:0),a=this.getMaxZoom(),s=this.getSize(),l=t.getNorthWest(),u=t.getSouthEast(),c=!0;n=r.point(n||[0,0]);do o++,i=this.project(u,o).subtract(this.project(l,o)).add(n),c=e?i.x<s.x||i.y<s.y:s.contains(i);while(c&&o<=a);return c&&e?null:e?o:o-1},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new r.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(r.latLng(t),e)},unproject:function(t,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(r.point(t),e)},layerPointToLatLng:function(t){var e=r.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(r.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return r.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return r.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(r.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(t)))},mouseEventToContainerPoint:function(t){return r.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=r.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;r.DomUtil.addClass(t,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=r.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(r.DomUtil.addClass(t.markerPane,e),r.DomUtil.addClass(t.shadowPane,e),r.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return r.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?r.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var o=this._zoom!==e;i||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):r.DomUtil.setPosition(this._mapPane,new r.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!n}),a&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(o||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,i=-(1/0),r=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(i=Math.max(i,o.options.maxZoom))}t===n?this._layersMaxZoom=this._layersMinZoom=n:(this._layersMaxZoom=i,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(r.DomEvent){e=e||"on",r.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,i,o=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,i=o.length;n<i;n++)r.DomEvent[e](this._container,o[n],this._fireMouseEvent,this);this.options.trackResize&&r.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||r.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!r.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&r.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),o=this.layerPointToLatLng(i);this.fire(e,{latlng:o,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),a=new r.Bounds(i.subtract(o),i.add(o)),s=this._getBoundsOffset(a,n,e);return this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new r.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=this.project(e.getNorthWest(),n).subtract(t.min),o=this.project(e.getSouthEast(),n).subtract(t.max),a=this._rebound(i.x,-o.x),s=this._rebound(i.y,-o.y);return new r.Point(a,s)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),r.map=function(t,e){return new r.Map(t,e)},r.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=r.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=this.R_MAJOR,a=this.R_MINOR,s=t.lng*e*o,l=i*e,u=a/o,c=Math.sqrt(1-u*u),h=c*Math.sin(l);h=Math.pow((1-h)/(1+h),.5*c);var f=Math.tan(.5*(.5*Math.PI-l))/h;return l=-o*Math.log(f),new r.Point(s,l)},unproject:function(t){for(var e,n=r.LatLng.RAD_TO_DEG,i=this.R_MAJOR,o=this.R_MINOR,a=t.x*n/i,s=o/i,l=Math.sqrt(1-s*s),u=Math.exp(-t.y/i),c=Math.PI/2-2*Math.atan(u),h=15,f=1e-7,d=h,p=.1;Math.abs(p)>f&&--d>0;)e=l*Math.sin(c),p=Math.PI/2-2*Math.atan(u*Math.pow((1-e)/(1+e),.5*l))-c,c+=p;return new r.LatLng(c*n,a)}},r.CRS.EPSG3395=r.extend({},r.CRS,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var t=r.Projection.Mercator,e=t.R_MAJOR,n=.5/(Math.PI*e);return new r.Transformation(n,.5,(-n),.5)}()}),r.TileLayer=r.Class.extend({includes:r.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:r.Browser.mobile,updateWhenIdle:r.Browser.mobile},initialize:function(t,e){e=r.setOptions(this,e),e.detectRetina&&r.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=r.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=r.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,r,o=t.children,a=-e(1/0,-(1/0));for(i=0,r=o.length;i<r;i++)o[i]!==this._container&&(n=parseInt(o[i].style.zIndex,10),isNaN(n)||(a=e(a,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(r.Browser.ielt9)for(t in e)r.DomUtil.setOpacity(e[t],this.options.opacity);else r.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=r.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=r.DomUtil.create("div",e,this._container),this._tileContainer=r.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,n=this.options.maxNativeZoom,i=this.options.tileSize;return n&&e>n&&(i=Math.round(t.getZoomScale(e)/t.getZoomScale(n)*i)),i},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),n=t.getZoom(),i=this._getTileSize();if(!(n>this.options.maxZoom||n<this.options.minZoom)){var o=r.bounds(e.min.divideBy(i)._floor(),e.max.divideBy(i)._floor());this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(t){var n,i,o,a=[],s=t.getCenter();for(n=t.min.y;n<=t.max.y;n++)for(i=t.min.x;i<=t.max.x;i++)o=new r.Point(i,n),this._tileShouldBeLoaded(o)&&a.push(o);var l=a.length;if(0!==l){a.sort(function(t,e){return t.distanceTo(s)-e.distanceTo(s)});var u=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=l,i=0;i<l;i++)this._addTile(a[i],u);this._tileContainer.appendChild(u)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n.x)||t.y<0||t.y>=n.y)return!1}if(e.bounds){var i=this._getTileSize(),r=t.multiplyBy(i),o=r.add([i,i]),a=this._map.unproject(r),s=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(a=a.wrap(),s=s.wrap()),!e.bounds.intersects([a,s]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,r;for(r in this._tiles)e=r.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(r.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),r.Browser.android||(e.onload=null,e.src=r.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();r.DomUtil.setPosition(i,n,r.Browser.chrome),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this._getTileSize();return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return r.Util.template(this._url,r.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){var t=this._map.options.crs,e=t.getSize(this._map.getZoom());return e.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=r.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=r.Util.falseFn,r.Browser.ielt9&&this.options.opacity!==n&&r.DomUtil.setOpacity(t,this.options.opacity),r.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&r.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(r.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==r.Util.emptyImageUrl&&(r.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),r.tileLayer=function(t,e){return new r.TileLayer(t,e)},r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=r.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;e.detectRetina&&r.Browser.retina?n.width=n.height=2*i:n.width=n.height=i;for(var o in e)this.options.hasOwnProperty(o)||"crs"===o||(n[o]=e[o]);this.wmsParams=n,r.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,r.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,n=this.options.tileSize,i=t.multiplyBy(n),o=i.add([n,n]),a=this._crs.project(e.unproject(i,t.z)),s=this._crs.project(e.unproject(o,t.z)),l=this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[s.y,a.x,a.y,s.x].join(","):[a.x,s.y,s.x,a.y].join(","),u=r.Util.template(this._url,{s:this._getSubdomain(t)});return u+r.Util.getParamString(this.wmsParams,u,!0)+"&BBOX="+l},setParams:function(t,e){return r.extend(this.wmsParams,t),e||this.redraw(),this}}),r.tileLayer.wms=function(t,e){return new r.TileLayer.WMS(t,e)},r.TileLayer.Canvas=r.TileLayer.extend({options:{async:!1},initialize:function(t){r.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=r.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=r.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),r.tileLayer.canvas=function(t){return new r.TileLayer.Canvas(t)},r.ImageOverlay=r.Class.extend({includes:r.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=r.latLngBounds(e),r.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&r.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=r.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&r.Browser.any3d?r.DomUtil.addClass(this._image,"leaflet-zoom-animated"):r.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),r.extend(this._image,{galleryimg:"no",onselectstart:r.Util.falseFn,onmousemove:r.Util.falseFn,onload:r.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),o=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),s=e._latLngToNewLayerPoint(o,t.zoom,t.center),l=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(s),u=s._add(l._multiplyBy(.5*(1-1/i)));n.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(u)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);r.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}}),r.imageOverlay=function(t,e,n){return new r.ImageOverlay(t,e,n)},r.Icon=r.Class.extend({options:{className:""},initialize:function(t){r.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,o=r.point(i[e+"Size"]);n="shadow"===e?r.point(i.shadowAnchor||i.iconAnchor):r.point(i.iconAnchor),!n&&o&&(n=o.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,n){return n=n||e.createElement("img"),n.src=t,n},_getIconUrl:function(t){return r.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),r.icon=function(t){return new r.Icon(t)},r.Icon.Default=r.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];r.Browser.retina&&"icon"===t&&(t+="-2x");var n=r.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),r.Icon.Default.imagePath=function(){var t,n,i,r,o,a=e.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,n=a.length;t<n;t++)if(i=a[t].src,r=i.match(s))return o=i.split(s)[0],(o?o+"/":"")+"images"}(),r.Marker=r.Class.extend({includes:r.Mixin.Events,options:{icon:new r.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",o=t.icon.createIcon(this._icon),a=!1;o!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(o.title=t.title),t.alt&&(o.alt=t.alt)),r.DomUtil.addClass(o,i),t.keyboard&&(o.tabIndex="0"),this._icon=o,this._initInteraction(),t.riseOnHover&&r.DomEvent.on(o,"mouseover",this._bringToFront,this).on(o,"mouseout",this._resetZIndex,this);var s=t.icon.createShadow(this._shadow),l=!1;s!==this._shadow&&(this._removeShadow(),l=!0),s&&r.DomUtil.addClass(s,i),this._shadow=s,t.opacity<1&&this._updateOpacity();var u=this._map._panes;a&&u.markerPane.appendChild(this._icon),s&&l&&u.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&r.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){r.DomUtil.setPosition(this._icon,t),this._shadow&&r.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];r.DomUtil.addClass(t,"leaflet-clickable"),r.DomEvent.on(t,"click",this._onMouseClick,this),r.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)r.DomEvent.on(t,e[n],this._fireMouseEvent,this);r.Handler.MarkerDrag&&(this.dragging=new r.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&r.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&r.DomEvent.preventDefault(t),"mousedown"!==t.type?r.DomEvent.stopPropagation(t):r.DomEvent.preventDefault(t);
},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){r.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&r.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),r.marker=function(t,e){return new r.Marker(t,e)},r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var n=t&&"DIV"===t.tagName?t:e.createElement("div"),i=this.options;return i.html!==!1?n.innerHTML=i.html:n.innerHTML="",i.bgPos&&(n.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),r.divIcon=function(t){return new r.DivIcon(t)},r.Map.mergeOptions({closePopupOnClick:!0}),r.Popup=r.Class.extend({includes:r.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){r.setOptions(this,t),this._source=e,this._animated=r.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&r.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&r.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),r.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&r.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=r.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=r.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",r.DomEvent.disableClickPropagation(t),r.DomEvent.on(t,"click",this._onCloseButtonClick,this));var o=this._wrapper=r.DomUtil.create("div",e+"-content-wrapper",i);r.DomEvent.disableClickPropagation(o),this._contentNode=r.DomUtil.create("div",e+"-content",o),r.DomEvent.disableScrollPropagation(this._contentNode),r.DomEvent.on(o,"contextmenu",r.DomEvent.stopPropagation),this._tipContainer=r.DomUtil.create("div",e+"-tip-container",i),this._tip=r.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,a="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",r.DomUtil.addClass(t,a)):r.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=r.point(this.options.offset);e&&r.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);r.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new r.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(r.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(i),a=r.point(this.options.autoPanPadding),s=r.point(this.options.autoPanPaddingTopLeft||a),l=r.point(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),c=0,h=0;o.x+n+l.x>u.x&&(c=o.x+n-u.x+l.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+e+l.y>u.y&&(h=o.y+e-u.y+l.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&t.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(t){this._close(),r.DomEvent.stop(t)}}),r.popup=function(t,e){return new r.Popup(t,e)},r.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof r.Popup)){var i=t;t=new r.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),r.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=r.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(r.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=r.extend({offset:n},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof r.Popup?(r.setOptions(t,e),this._popup=t,t._source=this):this._popup=new r.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),r.LayerGroup=r.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;e<n;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r.stamp(t)}}),r.layerGroup=function(t){return new r.LayerGroup(t)},r.FeatureGroup=r.LayerGroup.extend({includes:r.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new r.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof r.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=r.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),r.featureGroup=function(t){return new r.FeatureGroup(t)},r.Path=r.Class.extend({includes:[r.Mixin.Events],statics:{CLIP_PADDING:function(){var e=r.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){r.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,r.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return r.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),r.Map.include({_updatePathViewport:function(){var t=r.Path.CLIP_PADDING,e=this.getSize(),n=r.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),o=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new r.Bounds(i,o)}}),r.Path.SVG_NS="http://www.w3.org/2000/svg",r.Browser.svg=!(!e.createElementNS||!e.createElementNS(r.Path.SVG_NS,"svg").createSVGRect),r.Path=r.Path.extend({statics:{SVG:r.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(r.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&r.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){!r.Browser.svg&&r.Browser.vml||r.DomUtil.addClass(this._path,"leaflet-clickable"),r.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)r.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),o=e.layerPointToLatLng(i);this.fire(t.type,{latlng:o,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&r.DomEvent.preventDefault(t),"mousemove"!==t.type&&r.DomEvent.stopPropagation(t)}}}),r.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=r.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&r.Browser.any3d?(r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,o=n.y-e.y,a=this._pathRoot,s=this._panes.overlayPane;r.Browser.mobileWebkit&&s.removeChild(a),r.DomUtil.setPosition(a,e),a.setAttribute("width",i),a.setAttribute("height",o),a.setAttribute("viewBox",[e.x,e.y,i,o].join(" ")),r.Browser.mobileWebkit&&s.appendChild(a)}}}),r.Path.include({bindPopup:function(t,e){return t instanceof r.Popup?this._popup=t:(this._popup&&!e||(this._popup=new r.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),r.Browser.vml=!r.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(t){return!1}}(),r.Path=r.Browser.svg||!r.Browser.vml?r.Path:r.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");r.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&r.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=r.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",n.lineCap&&(t.endcap=n.lineCap.replace("butt","flat")),n.lineJoin&&(t.joinstyle=n.lineJoin)):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),r.Map.include(r.Browser.svg||!r.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),r.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),r.Path=r.Path.SVG&&!t.L_PREFER_CANVAS||!r.Browser.canvas?r.Path:r.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return r.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!r.Path._updateRequest&&(r.Path._updateRequest=r.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){r.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,n,i,o,a;for(this._ctx.beginPath(),t=0,n=this._parts.length;t<n;t++){for(e=0,i=this._parts[t].length;e<i;e++)o=this._parts[t][e],a=(0===e?"move":"line")+"To",this._ctx[a](o.x,o.y);this instanceof r.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),r.Map.include(r.Path.SVG&&!t.L_PREFER_CANVAS||!r.Browser.canvas?{}:{_initPathRoot:function(){var t,n=this._pathRoot;n||(n=this._pathRoot=e.createElement("canvas"),n.style.position="absolute",t=this._canvasCtx=n.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(n),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;r.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),r.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var i=t.length,r=typeof Uint8Array!=n+""?Uint8Array:Array,o=new r(i);o[0]=o[i-1]=1,this._simplifyDPStep(t,o,e,0,i-1);var a,s=[];for(a=0;a<i;a++)o[a]&&s.push(t[a]);return s},_simplifyDPStep:function(t,e,n,i,r){var o,a,s,l=0;for(a=i+1;a<=r-1;a++)s=this._sqClosestPointOnSegment(t[a],t[i],t[r],!0),s>l&&(o=a,l=s);l>n&&(e[o]=1,this._simplifyDPStep(t,e,n,i,o),this._simplifyDPStep(t,e,n,o,r))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)this._sqDist(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n},clipSegment:function(t,e,n,i){var r,o,a,s=i?this._lastCode:this._getBitCode(t,n),l=this._getBitCode(e,n);for(this._lastCode=l;;){if(!(s|l))return[t,e];if(s&l)return!1;r=s||l,o=this._getEdgeIntersection(t,e,r,n),a=this._getBitCode(o,n),r===s?(t=o,s=a):(e=o,l=a)}},_getEdgeIntersection:function(t,e,n,i){var o=e.x-t.x,a=e.y-t.y,s=i.min,l=i.max;return 8&n?new r.Point(t.x+o*(l.y-t.y)/a,l.y):4&n?new r.Point(t.x+o*(s.y-t.y)/a,s.y):2&n?new r.Point(l.x,t.y+a*(l.x-t.x)/o):1&n?new r.Point(s.x,t.y+a*(s.x-t.x)/o):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var o,a=e.x,s=e.y,l=n.x-a,u=n.y-s,c=l*l+u*u;return c>0&&(o=((t.x-a)*l+(t.y-s)*u)/c,o>1?(a=n.x,s=n.y):o>0&&(a+=l*o,s+=u*o)),l=t.x-a,u=t.y-s,i?l*l+u*u:new r.Point(a,s)}},r.Polyline=r.Path.extend({initialize:function(t,e){r.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;t<e;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";t<e;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(r.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,o=this._parts,a=null,s=0,l=o.length;s<l;s++)for(var u=o[s],c=1,h=u.length;c<h;c++){e=u[c-1],n=u[c];var f=r.LineUtil._sqClosestPointOnSegment(t,e,n,!0);f<i&&(i=f,a=r.LineUtil._sqClosestPointOnSegment(t,e,n))}return a&&(a.distance=Math.sqrt(i)),a},getBounds:function(){return new r.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,o=e?t:[];for(n=0,i=t.length;n<i;n++){if(r.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;o[n]=r.latLng(t[n])}return o},_initEvents:function(){r.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=r.Path.VML,i=0,o=t.length,a="";i<o;i++)e=t[i],n&&e._round(),a+=(i?"L":"M")+e.x+" "+e.y;return a},_clipPoints:function(){var t,e,n,i=this._originalPoints,o=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var a=this._parts,s=this._map._pathViewport,l=r.LineUtil;for(t=0,e=0;t<o-1;t++)n=l.clipSegment(i[t],i[t+1],s,t),n&&(a[e]=a[e]||[],a[e].push(n[0]),n[1]===i[t+1]&&t!==o-2||(a[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=r.LineUtil,n=0,i=t.length;n<i;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),r.Path.prototype._updatePath.call(this))}}),r.polyline=function(t,e){return new r.Polyline(t,e)},r.PolyUtil={},r.PolyUtil.clipPolygon=function(t,e){var n,i,o,a,s,l,u,c,h,f=[1,4,2,8],d=r.LineUtil;for(i=0,u=t.length;i<u;i++)t[i]._code=d._getBitCode(t[i],e);for(a=0;a<4;a++){for(c=f[a],n=[],i=0,u=t.length,o=u-1;i<u;o=i++)s=t[i],l=t[o],s._code&c?l._code&c||(h=d._getEdgeIntersection(l,s,c,e),h._code=d._getBitCode(h,e),n.push(h)):(l._code&c&&(h=d._getEdgeIntersection(l,s,c,e),h._code=d._getBitCode(h,e),n.push(h)),n.push(s));t=n}return t},r.Polygon=r.Polyline.extend({options:{fill:!0},initialize:function(t,e){r.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,n,i;if(t&&r.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,n=this._holes.length;e<n;e++)i=this._holes[e]=this._convertLatLngs(this._holes[e]),i[0].equals(i[i.length-1])&&i.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(r.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;t<n;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;e<i;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&r.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):r.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;n<i;n++){var o=r.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);o.length&&e.push(o)}this._parts=e}},_getPathPartStr:function(t){var e=r.Polyline.prototype._getPathPartStr.call(this,t);return e+(r.Browser.svg?"z":"x")}}),r.polygon=function(t,e){return new r.Polygon(t,e)},function(){function t(t){return r.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){n<i?t.setLatLngs(e[n++]):this.removeLayer(t)},this);n<i;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}r.MultiPolyline=t(r.Polyline),r.MultiPolygon=t(r.Polygon),r.multiPolyline=function(t,e){return new r.MultiPolyline(t,e)},r.multiPolygon=function(t,e){return new r.MultiPolygon(t,e)}}(),r.Rectangle=r.Polygon.extend({initialize:function(t,e){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=r.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),r.rectangle=function(t,e){return new r.Rectangle(t,e)},r.Circle=r.Path.extend({initialize:function(t,e,n){r.Path.prototype.initialize.call(this,n),this._latlng=r.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=r.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,n=this._latlng;return new r.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":r.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(r.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),r.circle=function(t,e,n){return new r.Circle(t,e,n)},r.CircleMarker=r.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){r.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){r.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return r.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),r.circleMarker=function(t,e){return new r.CircleMarker(t,e)},r.Polyline.include(r.Path.CANVAS?{_containsPoint:function(t,e){var n,i,o,a,s,l,u,c=this.options.weight/2;for(r.Browser.touch&&(c+=10),n=0,a=this._parts.length;n<a;n++)for(u=this._parts[n],i=0,s=u.length,o=s-1;i<s;o=i++)if((e||0!==i)&&(l=r.LineUtil.pointToSegmentDistance(t,u[o],u[i]),l<=c))return!0;return!1}}:{}),r.Polygon.include(r.Path.CANVAS?{_containsPoint:function(t){var e,n,i,o,a,s,l,u,c=!1;if(r.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(o=0,l=this._parts.length;o<l;o++)for(e=this._parts[o],a=0,u=e.length,s=u-1;a<u;s=a++)n=e[a],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c}}:{}),r.Circle.include(r.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),r.CircleMarker.include(r.Path.CANVAS?{_updateStyle:function(){r.Path.prototype._updateStyle.call(this)}}:{}),r.GeoJSON=r.FeatureGroup.extend({initialize:function(t,e){r.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=r.Util.isArray(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)i=o[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(o[e]);return this}var a=this.options;if(!a.filter||a.filter(t)){var s=r.GeoJSON.geometryToLayer(t,a.pointToLayer,a.coordsToLatLng,a);return s.feature=r.GeoJSON.asFeature(t),s.defaultOptions=s.options,this.resetStyle(s),a.onEachFeature&&a.onEachFeature(t,s),this.addLayer(s)}},resetStyle:function(t){var e=this.options.style;e&&(r.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),r.extend(r.GeoJSON,{
geometryToLayer:function(t,e,n,i){var o,a,s,l,u="Feature"===t.type?t.geometry:t,c=u.coordinates,h=[];switch(n=n||this.coordsToLatLng,u.type){case"Point":return o=n(c),e?e(t,o):new r.Marker(o);case"MultiPoint":for(s=0,l=c.length;s<l;s++)o=n(c[s]),h.push(e?e(t,o):new r.Marker(o));return new r.FeatureGroup(h);case"LineString":return a=this.coordsToLatLngs(c,0,n),new r.Polyline(a,i);case"Polygon":if(2===c.length&&!c[1].length)throw new Error("Invalid GeoJSON object.");return a=this.coordsToLatLngs(c,1,n),new r.Polygon(a,i);case"MultiLineString":return a=this.coordsToLatLngs(c,1,n),new r.MultiPolyline(a,i);case"MultiPolygon":return a=this.coordsToLatLngs(c,2,n),new r.MultiPolygon(a,i);case"GeometryCollection":for(s=0,l=u.geometries.length;s<l;s++)h.push(this.geometryToLayer({geometry:u.geometries[s],type:"Feature",properties:t.properties},e,n,i));return new r.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new r.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var i,r,o,a=[];for(r=0,o=t.length;r<o;r++)i=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]),a.push(i);return a},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==n&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(r.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?r.extend({},t.feature,{geometry:e}):r.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var a={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(a),r.Circle.include(a),r.CircleMarker.include(a),r.Polyline.include({toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"LineString",coordinates:r.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),r.Polygon.include({toGeoJSON:function(){var t,e,n,i=[r.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;t<e;t++)n=r.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return r.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:t,coordinates:e})}}r.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),r.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),r.LayerGroup.include({toGeoJSON:function(){var e,n=this.feature&&this.feature.geometry,i=[];if(n&&"MultiPoint"===n.type)return t("MultiPoint").call(this);var o=n&&"GeometryCollection"===n.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),i.push(o?e.geometry:r.GeoJSON.asFeature(e)))}),o?r.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}})}(),r.geoJson=function(t,e){return new r.GeoJSON(t,e)},r.DomEvent={addListener:function(t,e,n,i){var o,a,s,l=r.stamp(n),u="_leaflet_"+e+l;return t[u]?this:(o=function(e){return n.call(i||t,e||r.DomEvent._getEvent())},r.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,o,l):(r.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,o,l),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",o,!1),t.addEventListener(e,o,!1)):"mouseenter"===e||"mouseleave"===e?(a=o,s="mouseenter"===e?"mouseover":"mouseout",o=function(e){if(r.DomEvent._checkMouse(t,e))return a(e)},t.addEventListener(s,o,!1)):"click"===e&&r.Browser.android?(a=o,o=function(t){return r.DomEvent._filterClick(t,a)},t.addEventListener(e,o,!1)):t.addEventListener(e,o,!1):"attachEvent"in t&&t.attachEvent("on"+e,o),t[u]=o,this))},removeListener:function(t,e,n){var i=r.stamp(n),o="_leaflet_"+e+i,a=t[o];return a?(r.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,i):r.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",a,!1),t.removeEventListener(e,a,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1):t.removeEventListener(e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a),t[o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,r.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=r.DomEvent.stopPropagation;return r.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=r.DomEvent.stopPropagation,n=r.Draggable.START.length-1;n>=0;n--)r.DomEvent.on(t,r.Draggable.START[n],e);return r.DomEvent.on(t,"click",r.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return r.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new r.Point(t.clientX,t.clientY);var n=e.getBoundingClientRect();return new r.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){r.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=r.DomEvent._lastClick&&n-r.DomEvent._lastClick;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?void r.DomEvent.stop(t):(r.DomEvent._lastClick=n,e(t))}},r.DomEvent.on=r.DomEvent.addListener,r.DomEvent.off=r.DomEvent.removeListener,r.Draggable=r.Class.extend({includes:r.Mixin.Events,statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=r.Draggable.START.length-1;t>=0;t--)r.DomEvent.on(this._dragStartTarget,r.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=r.Draggable.START.length-1;t>=0;t--)r.DomEvent.off(this._dragStartTarget,r.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(r.DomEvent.stopPropagation(t),!r.Draggable._disabled&&(r.DomUtil.disableImageDrag(),r.DomUtil.disableTextSelection(),!this._moving))){var n=t.touches?t.touches[0]:t;this._startPoint=new r.Point(n.clientX,n.clientY),this._startPos=this._newPos=r.DomUtil.getPosition(this._element),r.DomEvent.on(e,r.Draggable.MOVE[t.type],this._onMove,this).on(e,r.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var n=t.touches&&1===t.touches.length?t.touches[0]:t,i=new r.Point(n.clientX,n.clientY),o=i.subtract(this._startPoint);(o.x||o.y)&&(r.Browser.touch&&Math.abs(o.x)+Math.abs(o.y)<3||(r.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(o),r.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),r.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){r.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in r.Draggable.MOVE)r.DomEvent.off(e,r.Draggable.MOVE[t],this._onMove).off(e,r.Draggable.END[t],this._onUp);r.DomUtil.enableImageDrag(),r.DomUtil.enableTextSelection(),this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),r.Handler=r.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:r.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new r.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,a=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,i=+new Date-this._lastTime,o=!n.inertia||i>n.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),o)e.fire("moveend");else{var a=this._lastPos.subtract(this._positions[0]),s=(this._lastTime+i-this._times[0])/1e3,l=n.easeLinearity,u=a.multiplyBy(l/s),c=u.distanceTo([0,0]),h=Math.min(n.inertiaMaxSpeed,c),f=u.multiplyBy(h/c),d=h/(n.inertiaDeceleration*l),p=f.multiplyBy(-d/2).round();p.x&&p.y?(p=e._limitOffset(p,e.options.maxBounds),r.Util.requestAnimFrame(function(){e.panBy(p,{duration:d,easeLinearity:l,noMoveStart:!0})})):e.fire("moveend")}}}),r.Map.addInitHook("addHandler","dragging",r.Map.Drag),r.Map.mergeOptions({doubleClickZoom:!0}),r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom),r.Map.mergeOptions({scrollWheelZoom:!0}),r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),r.DomEvent.on(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault),this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),r.DomEvent.off(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=r.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r.bind(this._performZoom,this),n),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(n+e):t.setZoomAround(this._lastMousePos,n+e))}}),r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom),r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,n,i){function o(t){var e;if(r.Browser.pointer?(p.push(t.pointerId),e=p.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(s||n);l=t.touches?t.touches[0]:t,u=i>0&&i<=c,s=n}}function a(t){if(r.Browser.pointer){var e=p.indexOf(t.pointerId);if(e===-1)return;p.splice(e,1)}if(u){if(r.Browser.pointer){var i,o={};for(var a in l)i=l[a],"function"==typeof i?o[a]=i.bind(l):o[a]=i;l=o}l.type="dblclick",n(l),s=null}}var s,l,u=!1,c=250,h="_leaflet_",f=this._touchstart,d=this._touchend,p=[];t[h+f+i]=o,t[h+d+i]=a;var m=r.Browser.pointer?e.documentElement:t;return t.addEventListener(f,o,!1),m.addEventListener(d,a,!1),r.Browser.pointer&&m.addEventListener(r.DomEvent.POINTER_CANCEL,a,!1),this},removeDoubleTapListener:function(t,n){var i="_leaflet_";return t.removeEventListener(this._touchstart,t[i+this._touchstart+n],!1),(r.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[i+this._touchend+n],!1),r.Browser.pointer&&e.documentElement.removeEventListener(r.DomEvent.POINTER_CANCEL,t[i+this._touchend+n],!1),this}}),r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,n,i){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,n,i);case"touchend":return this.addPointerListenerEnd(t,e,n,i);case"touchmove":return this.addPointerListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,n,i,o){var a="_leaflet_",s=this._pointers,l=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&r.DomEvent.preventDefault(t);for(var e=!1,n=0;n<s.length;n++)if(s[n].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],i(t)};if(t[a+"touchstart"+o]=l,t.addEventListener(this.POINTER_DOWN,l,!1),!this._pointerDocumentListener){var u=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,u,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,u,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,n,i){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],n(t)}}var o="_leaflet_",a=this._pointers;return t[o+"touchmove"+i]=r,t.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(t,e,n,i){var r="_leaflet_",o=this._pointers,a=function(t){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o.splice(e,1);break}t.touches=o.slice(),t.changedTouches=[t],n(t)};return t[r+"touchend"+i]=a,t.addEventListener(this.POINTER_UP,a,!1),t.addEventListener(this.POINTER_CANCEL,a,!1),this},removePointerListener:function(t,e,n){var i="_leaflet_",r=t[i+e+n];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,r,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,r,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,r,!1),t.removeEventListener(this.POINTER_CANCEL,r,!1)}return this}}),r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0}),r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(t.touches&&2===t.touches.length&&!n._animatingZoom&&!this._zooming){var i=n.mouseEventToLayerPoint(t.touches[0]),o=n.mouseEventToLayerPoint(t.touches[1]),a=n._getCenterLayerPoint();this._startCenter=i.add(o)._divideBy(2),this._startDist=i.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=a.subtract(this._startCenter),n._panAnim&&n._panAnim.stop(),r.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),r.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(!e.options.bounceAtZoomLimits&&(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1)||(this._moved||(r.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),r.DomEvent.preventDefault(t)))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,r.DomUtil.removeClass(t._mapPane,"leaflet-touching"),r.Util.cancelAnimFrame(this._animRequest),r.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var n=this._getScaleOrigin(),i=t.layerPointToLatLng(n),o=t.getZoom(),a=t.getScaleZoom(this._scale)-o,s=a>0?Math.ceil(a):Math.floor(a),l=t._limitZoom(o+s),u=t.getZoomScale(l)/this._scale;t._animateZoom(i,l,n,u)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom),r.Map.mergeOptions({tap:!0,tapTolerance:15}),r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(r.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=t.touches[0],i=n.target;this._startPos=this._newPos=new r.Point(n.clientX,n.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),r.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),r.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var n=t.changedTouches[0],i=n.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&r.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new r.Point(e.clientX,e.clientY)},_simulateEvent:function(n,i){var r=e.createEvent("MouseEvents");r._simulated=!0,i.target._simulatedClick=!0,r.initMouseEvent(n,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r)}}),r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap),r.Map.mergeOptions({boxZoom:!0}),r.Map.BoxZoom=r.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!(!t.shiftKey||1!==t.which&&1!==t.button)&&(r.DomUtil.disableTextSelection(),r.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void r.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=r.DomUtil.create("div","leaflet-zoom-box",this._pane),r.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),o=i.subtract(e),a=new r.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));r.DomUtil.setPosition(n,a),this._moved=!0,n.style.width=Math.max(0,Math.abs(o.x)-4)+"px",n.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),r.DomUtil.enableTextSelection(),r.DomUtil.enableImageDrag(),r.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new r.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom),r.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;t.tabIndex===-1&&(t.tabIndex="0"),r.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;r.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var n=e.body,i=e.documentElement,r=n.scrollTop||i.scrollTop,o=n.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){r.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}r.DomEvent.stop(t)}}),r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard),r.Handler.MarkerDrag=r.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),r.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=r.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&r.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),r.Control=r.Class.extend({options:{position:"topright"},initialize:function(t){r.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return r.DomUtil.addClass(e,"leaflet-control"),n.indexOf("bottom")!==-1?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),r.control=function(t){return new r.Control(t)},r.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,o){var a=n+t+" "+n+o;e[t+o]=r.DomUtil.create("div",a,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=r.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=r.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",n,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,o,a){var s=r.DomUtil.create("a",n,i);s.innerHTML=t,s.href="#",s.title=e;var l=r.DomEvent.stopPropagation;return r.DomEvent.on(s,"click",l).on(s,"mousedown",l).on(s,"dblclick",l).on(s,"click",r.DomEvent.preventDefault).on(s,"click",o,a).on(s,"click",this._refocusOnMap,a),s},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,e),r.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&r.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&r.DomUtil.addClass(this._zoomInButton,e)}}),r.Map.mergeOptions({zoomControl:!0}),r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))}),r.control.zoom=function(t){return new r.Control.Zoom(t)},r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){r.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=r.DomUtil.create("div","leaflet-control-attribution"),r.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){if(t)return this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this},removeAttribution:function(t){if(t)return this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),r.Map.mergeOptions({attributionControl:!0}),r.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new r.Control.Attribution).addTo(this))}),r.control.attribution=function(t){return new r.Control.Attribution(t)},r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=r.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=r.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=r.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,a=0;r.x>0&&(a=i*(o.maxWidth/r.x)),this._updateScales(o,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=e<1e3?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,r=3.2808399*t,o=this._iScale;r>5280?(e=r/5280,n=this._getRoundNum(e),o.style.width=this._getScaleWidth(n/e)+"px",o.innerHTML=n+" mi"):(i=this._getRoundNum(r),o.style.width=this._getScaleWidth(i/r)+"px",o.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),r.control.scale=function(t){return new r.Control.Scale(t)},r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){r.setOptions(this,n),
this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=r.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=r.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),r.Browser.touch?r.DomEvent.on(e,"click",r.DomEvent.stopPropagation):r.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var n=this._form=r.DomUtil.create("form",t+"-list");if(this.options.collapsed){r.Browser.android||r.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=r.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",r.Browser.touch?r.DomEvent.on(i,"click",r.DomEvent.stop).on(i,"click",this._expand,this):r.DomEvent.on(i,"focus",this._expand,this),r.DomEvent.on(n,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=r.DomUtil.create("div",t+"-base",n),this._separator=r.DomUtil.create("div",t+"-separator",n),this._overlaysList=r.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=r.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[r.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,n){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';n&&(i+=' checked="checked"'),i+="/>";var r=e.createElement("div");return r.innerHTML=i,r.firstChild},_addItem:function(t){var n,i=e.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(n=e.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=o):n=this._createRadioElement("leaflet-base-layers",o),n.layerId=r.stamp(t.layer),r.DomEvent.on(n,"click",this._onInputClick,this);var a=e.createElement("span");a.innerHTML=" "+t.name,i.appendChild(n),i.appendChild(a);var s=t.overlay?this._overlaysList:this._baseLayersList;return s.appendChild(i),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),r=i.length;for(this._handlingClick=!0,t=0;t<r;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),r.control.layers=function(t,e,n){return new r.Control.Layers(t,e,n)},r.PosAnimation=r.Class.extend({includes:r.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[r.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",r.DomEvent.on(t,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),r.DomUtil.setPosition(t,e),r.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(r.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(r.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),r.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,i,o=this._el,a=t.getComputedStyle(o);if(r.Browser.any3d){if(i=a[r.DomUtil.TRANSFORM].match(this._transformRe),!i)return;e=parseFloat(i[1]),n=parseFloat(i[2])}else e=parseFloat(a.left),n=parseFloat(a.top);return new r.Point(e,n,(!0))},_onTransitionEnd:function(){r.DomEvent.off(this._el,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[r.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),r.Map.include({setView:function(t,e,i){if(e=e===n?this._zoom:this._limitZoom(e),t=this._limitCenter(r.latLng(t),e,this.options.maxBounds),i=i||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==n&&(i.zoom=r.extend({animate:i.animate},i.zoom),i.pan=r.extend({animate:i.animate},i.pan));var o=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=r.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new r.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return!((e&&e.animate)!==!0&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)}}),r.PosAnimation=r.DomUtil.TRANSITION?r.PosAnimation:r.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=r.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;t<e?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));r.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),r.DomUtil.TRANSITION&&r.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.android23&&!r.Browser.mobileOpera,this._zoomAnimated&&r.DomEvent.on(this._mapPane,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),r.Map.include(r.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i),o=this._getCenterLayerPoint()._add(r);return!(n.animate!==!0&&!this.getSize().contains(r))&&(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,i,null,!0),!0)},_animateZoom:function(t,e,n,i,o,a,s){s||(this._animatingZoom=!0),r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,r.Draggable&&(r.Draggable._disabled=!0),r.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:o,backwards:a}),setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),r.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),r.Draggable&&(r.Draggable._disabled=!1)},this))}}:{}),r.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=r.DomUtil.TRANSFORM,i=t.delta?r.DomUtil.getTranslateString(t.delta):e.style[n],o=r.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?o+" "+i:i+" "+o},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),r.Util.falseFn(e.offsetWidth);var n=this._map.getZoom();(n>this.options.maxZoom||n<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[r.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&i<.5?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[r.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),r=0;for(e=0,n=i.length;e<n;e++)i[e].complete&&r++;return r/n},_stopLoadingImages:function(t){var e,n,i,o=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=o.length;e<n;e++)i=o[e],i.complete||(i.onload=r.Util.falseFn,i.onerror=r.Util.falseFn,i.src=r.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),r.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=r.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r.bind(this._handleGeolocationResponse,this),n=r.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new r.LatLng(e,n),o=180*t.coords.accuracy/40075017,a=o/Math.cos(r.LatLng.DEG_TO_RAD*e),s=r.latLngBounds([e-o,n-a],[e+o,n+a]),l=this._locateOptions;if(l.setView){var u=Math.min(this.getBoundsZoom(s),l.maxZoom);this.setView(i,u)}var c={latlng:i,bounds:s,timestamp:t.timestamp};for(var h in t.coords)"number"==typeof t.coords[h]&&(c[h]=t.coords[h]);this.fire("locationfound",c)}})}(window,document),function(t){"use strict";t.module("ui-leaflet",["nemLogging"]).directive("leaflet",["$q","leafletData","leafletMapDefaults","leafletHelpers","leafletMapEvents",function(t,e,n,i,r){return{restrict:"EA",replace:!0,scope:{center:"=",lfCenter:"=",defaults:"=",maxbounds:"=",bounds:"=",markers:"=",legend:"=",geojson:"=",paths:"=",tiles:"=",layers:"=",controls:"=",decorations:"=",eventBroadcast:"=",watchOptions:"=",id:"@"},transclude:!0,template:'<div class="angular-leaflet-map"><div ng-transclude></div></div>',controller:["$scope",function(e){this._leafletMap=t.defer(),this.getMap=function(){return this._leafletMap.promise},this.getLeafletScope=function(){return e}}],link:function(t,o,a,s){function l(){isNaN(a.width)?o.css("width",a.width):o.css("width",a.width+"px")}function u(){isNaN(a.height)?o.css("height",a.height):o.css("height",a.height+"px")}var c=i.isDefined,h=n.setDefaults(t.defaults,a.id),f=r.getAvailableMapEvents(),d=r.addEvents;t.mapId=a.id,e.setDirectiveControls({},a.id);var p=new L.Map(o[0],n.getMapCreationDefaults(a.id));if(s._leafletMap.resolve(p),c(a.width)&&(l(),t.$watch(function(){return o[0].getAttribute("width")},function(){l(),p.invalidateSize()})),c(a.height)&&(u(),t.$watch(function(){return o[0].getAttribute("height")},function(){u(),p.invalidateSize()})),c(a.center)||c(a.lfCenter)||p.setView([h.center.lat,h.center.lng],h.center.zoom),!c(a.tiles)&&!c(a.layers)){var m=L.tileLayer(h.tileLayer,h.tileLayerOptions);m.addTo(p),e.setTiles(m,a.id)}if(c(p.zoomControl)&&c(h.zoomControlPosition)&&p.zoomControl.setPosition(h.zoomControlPosition),c(p.zoomControl)&&h.zoomControl===!1&&p.zoomControl.removeFrom(p),c(p.zoomsliderControl)&&c(h.zoomsliderControl)&&h.zoomsliderControl===!1&&p.zoomsliderControl.removeFrom(p),!c(a.eventBroadcast)){var g="broadcast";d(p,a.id,f,"eventName",t,g)}p.whenReady(function(){e.setMap(p,a.id)}),t.$on("$destroy",function(){n.reset(),p.remove(),e.unresolveMap(a.id)}),t.$on("invalidateSize",function(){p.invalidateSize()})}}}]),function(){t.module("ui-leaflet").factory("eventManager",[function(){var t=function(){this.listeners={}};return t.prototype={addEventListener:function(t,e,n){for(var i=[],r=arguments.length,o=0;o<r;o++)i.push(arguments[o]);i=i.length>3?i.splice(3,i.length-1):[],"undefined"!=typeof this.listeners[t]?this.listeners[t].push({scope:n,callback:e,args:i}):this.listeners[t]=[{scope:n,callback:e,args:i}]},removeEventListener:function(t,e,n){if("undefined"!=typeof this.listeners[t]){for(var i=this.listeners[t].length,r=[],o=0;o<i;o++){var a=this.listeners[t][o];a.scope===n&&a.callback===e||r.push(a)}this.listeners[t]=r}},hasEventListener:function(t,e,n){if("undefined"!=typeof this.listeners[t]){var i=this.listeners[t].length;if(void 0===e&&void 0===n)return i>0;for(var r=0;r<i;r++){var o=this.listeners[t][r];if((!n||o.scope===n)&&o.callback===e)return!0}}return!1},dispatch:function(t,e){for(var n=0,i={type:t,target:e},r=[],o=arguments.length,a=0;a<o;a++)r.push(arguments[a]);if(r=r.length>2?r.splice(2,r.length-1):[],r=[i].concat(r),"undefined"!=typeof this.listeners[t])for(var s=this.listeners[t].length,l=0;l<s;l++){var u=this.listeners[t][l];if(u&&u.callback){var c=r.concat(u.args);u.callback.apply(u.scope,c),n+=1}}},getEvents:function(){var t="";for(var e in this.listeners)for(var n=this.listeners[e].length,i=0;i<n;i++){var r=this.listeners[e][i];t+=r.scope&&r.scope.className?r.scope.className:"anonymous",t+=" listen for '"+e+"'\n"}return t}},t}]).service("eventManager",["EventManager",function(t){return new t}])}(),t.module("ui-leaflet").factory("leafletBoundsHelpers",["leafletLogger","leafletHelpers",function(e,n){function i(e){return t.isDefined(e)&&t.isDefined(e.southWest)&&t.isDefined(e.northEast)&&t.isNumber(e.southWest.lat)&&t.isNumber(e.southWest.lng)&&t.isNumber(e.northEast.lat)&&t.isNumber(e.northEast.lng)}var r=n.isArray,o=n.isNumber,a=n.isFunction,s=n.isDefined,l=e;return{createLeafletBounds:function(t){if(i(t))return L.latLngBounds([t.southWest.lat,t.southWest.lng],[t.northEast.lat,t.northEast.lng])},isValidBounds:i,createBoundsFromArray:function(t){return r(t)&&2===t.length&&r(t[0])&&r(t[1])&&2===t[0].length&&2===t[1].length&&o(t[0][0])&&o(t[0][1])&&o(t[1][0])&&o(t[1][1])?{northEast:{lat:t[0][0],lng:t[0][1]},southWest:{lat:t[1][0],lng:t[1][1]}}:void l.error("[AngularJS - Leaflet] The bounds array is not valid.")},createBoundsFromLeaflet:function(t){if(!(s(t)&&a(t.getNorthEast)&&a(t.getSouthWest)))return void l.error("[AngularJS - Leaflet] The leaflet bounds is not valid object.");var e=t.getNorthEast(),n=t.getSouthWest();return{northEast:{lat:e.lat,lng:e.lng},southWest:{lat:n.lat,lng:n.lng}}}}}]),t.module("ui-leaflet").factory("leafletControlHelpers",["$rootScope","leafletLogger","leafletHelpers","leafletLayerHelpers","leafletMapDefaults",function(e,n,i,r,o){var a=i.isDefined,s=i.isObject,l=r.createLayer,u={},c=i.errorHeader+" [Controls] ",h=n,f=function(t,e,n){var i=o.getDefaults(n);if(!i.controls.layers.visible)return!1;var r=!1;return s(t)&&Object.keys(t).forEach(function(e){var n=t[e];a(n.layerOptions)&&n.layerOptions.showOnSelector===!1||(r=!0)}),s(e)&&Object.keys(e).forEach(function(t){var n=e[t];a(n.layerParams)&&n.layerParams.showOnSelector===!1||(r=!0)}),r},d=function(e){var n=o.getDefaults(e),i={collapsed:n.controls.layers.collapsed,position:n.controls.layers.position,autoZIndex:!1};t.extend(i,n.controls.layers.options);var r;return r=n.controls.layers&&a(n.controls.layers.control)?n.controls.layers.control.apply(this,[[],[],i]):new L.control.layers([],[],i)},p={draw:{isPluginLoaded:function(){return!!t.isDefined(L.Control.Draw)||(h.error(c+" Draw plugin is not loaded."),!1)},checkValidParams:function(){return!0},createControl:function(t){return new L.Control.Draw(t)}},scale:{isPluginLoaded:function(){return!0},checkValidParams:function(){return!0},createControl:function(t){return new L.control.scale(t)}},fullscreen:{isPluginLoaded:function(){return!!t.isDefined(L.Control.Fullscreen)||(h.error(c+" Fullscreen plugin is not loaded."),!1)},checkValidParams:function(){return!0},createControl:function(t){return new L.Control.Fullscreen(t)}},search:{isPluginLoaded:function(){return!!t.isDefined(L.Control.Search)||(h.error(c+" Search plugin is not loaded."),!1)},checkValidParams:function(){return!0},createControl:function(t){return new L.Control.Search(t)}},custom:{},minimap:{isPluginLoaded:function(){return!!t.isDefined(L.Control.MiniMap)||(h.error(c+" Minimap plugin is not loaded."),!1)},checkValidParams:function(t){return!!a(t.layer)||(h.warn(c+' minimap "layer" option should be defined.'),!1)},createControl:function(t){var e=l(t.layer);return a(e)?new L.Control.MiniMap(e,t):void h.warn(c+' minimap control "layer" could not be created.')}}};return{layersControlMustBeVisible:f,isValidControlType:function(t){return Object.keys(p).indexOf(t)!==-1},createControl:function(t,e){if(p[t].checkValidParams(e))return p[t].createControl(e)},updateLayersControl:function(t,e,n,i,r,o){var s,l=u[e],c=f(i,r,e);if(a(l)&&n){for(s in o.baselayers)l.removeLayer(o.baselayers[s]);for(s in o.overlays)l.removeLayer(o.overlays[s]);t.removeControl(l),delete u[e]}if(c){l=d(e),u[e]=l;for(s in i){var h=a(i[s].layerOptions)&&i[s].layerOptions.showOnSelector===!1;!h&&a(o.baselayers[s])&&l.addBaseLayer(o.baselayers[s],i[s].name)}for(s in r){var p=a(r[s].layerParams)&&r[s].layerParams.showOnSelector===!1;!p&&a(o.overlays[s])&&l.addOverlay(o.overlays[s],r[s].name)}t.addControl(l)}return c},destroyMapLayersControl:function(t){delete u[t]}}}]),t.module("ui-leaflet").service("leafletData",["leafletLogger","$q","leafletHelpers",function(t,e,n){var i=n.getDefer,r=n.getUnresolvedDefer,o=n.setResolvedDefer,a={},s=this,l=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},u=["map","tiles","layers","paths","markers","geoJSON","UTFGrid","decorations","directiveControls"];u.forEach(function(t){a[t]={}}),this.unresolveMap=function(t){var e=n.obtainEffectiveMapId(a.map,t);u.forEach(function(t){a[t][e]=void 0})},u.forEach(function(t){var e=l(t);s["set"+e]=function(e,n){var i=r(a[t],n);i.resolve(e),o(a[t],n)},s["get"+e]=function(e){var n=i(a[t],e);return n.promise}})}]),t.module("ui-leaflet").service("leafletDirectiveControlsHelpers",["leafletLogger","leafletData","leafletHelpers",function(e,n,i){var r=i.isDefined,o=i.isString,a=i.isObject,s=i.errorHeader,l=e,u=s+"[leafletDirectiveControlsHelpers",c=function(e,i,s,c){var h=u+".extend] ",f={};if(!r(i))return void l.error(h+"thingToAddName cannot be undefined");if(o(i)&&r(s)&&r(c))f[i]={create:s,clean:c};else{if(!a(i)||r(s)||r(c))return void l.error(h+"incorrect arguments");f=i}n.getDirectiveControls().then(function(i){t.extend(i,f),n.setDirectiveControls(i,e)})};return{extend:c}}]),t.module("ui-leaflet").service("leafletGeoJsonHelpers",["leafletHelpers","leafletIterators",function(e,n){var i=e,r=n,o=function(t,e){return this.lat=t,this.lng=e,this},a=function(t){return Array.isArray(t)&&2===t.length?t[1]:i.isDefined(t.type)&&"Point"===t.type?+t.coordinates[1]:+t.lat},s=function(t){return Array.isArray(t)&&2===t.length?t[0]:i.isDefined(t.type)&&"Point"===t.type?+t.coordinates[0]:+t.lng},l=function(t){if(i.isUndefined(t))return!1;if(i.isArray(t)){if(2===t.length&&i.isNumber(t[0])&&i.isNumber(t[1]))return!0}else if(i.isDefined(t.type)&&"Point"===t.type&&i.isArray(t.coordinates)&&2===t.coordinates.length&&i.isNumber(t.coordinates[0])&&i.isNumber(t.coordinates[1]))return!0;var e=r.all(["lat","lng"],function(e){return i.isDefined(t[e])&&i.isNumber(t[e])});return e},u=function(e){if(e&&l(e)){var n=null;if(Array.isArray(e)&&2===e.length)n=new o(e[1],e[0]);else{if(!i.isDefined(e.type)||"Point"!==e.type)return e;n=new o(e.coordinates[1],e.coordinates[0])}return t.extend(e,n)}};return{getLat:a,getLng:s,validateCoords:l,getCoords:u}}]),t.module("ui-leaflet").service("leafletHelpers",["$q","$log","$timeout",function(e,n,i){function r(e,i){var r,o;if(t.isDefined(i))r=i;else if(0===Object.keys(e).length)r="main";else if(Object.keys(e).length>=1)for(o in e)e.hasOwnProperty(o)&&(r=o);else n.error(a+"- You have more than 1 map on the DOM, you must provide the map ID to the leafletData.getXXX call");return r}function o(n,i){var o,a=r(n,i);return t.isDefined(n[a])&&n[a].resolvedDefer!==!0?o=n[a].defer:(o=e.defer(),n[a]={defer:o,resolvedDefer:!1}),o}var a="[ui-leaflet] ",s=t.copy,l=s,u=function(e,n){var i;if(e&&t.isObject(e))return null!==n&&t.isString(n)?(i=e,n.split(".").forEach(function(t){i&&(i=i[t])}),i):n},c=function(t){return t.split(".").reduce(function(t,e){return t+'["'+e+'"]'})},h=function(t){return t.reduce(function(t,e){return t+"."+e})},f=function(e){return t.isDefined(e)&&null!==e},d=function(t){return!f(t)},p=/([\:\-\_]+(.))/g,m=/^moz([A-Z])/,g=/^((?:x|data)[\:\-_])/i,v=function(t){return t.replace(p,function(t,e,n,i){return i?n.toUpperCase():n}).replace(m,"Moz$1")},y=function(t){return v(t.replace(g,""))},_=10,$=function(t,e,n){if(!t)throw new Error(a+"trapObj is undefined");if(!e)throw new Error(a+"trapField is undefined");t[e]=!0;var r=n();return i(function(){t[e]=!1},_),r};return{watchTrapDelayMilliSec:_,modelChangeInDirective:$,camelCase:v,directiveNormalize:y,copy:s,clone:l,errorHeader:a,getObjectValue:u,getObjectArrayPath:c,getObjectDotPath:h,defaultTo:function(t,e){return f(t)?t:e},isTruthy:function(t){return"true"===t||t===!0},isEmpty:function(t){return 0===Object.keys(t).length},isUndefinedOrEmpty:function(e){return t.isUndefined(e)||null===e||0===Object.keys(e).length},isDefined:f,isUndefined:d,isNumber:t.isNumber,isString:t.isString,isArray:t.isArray,isObject:t.isObject,isFunction:t.isFunction,equals:t.equals,isValidCenter:function(e){return t.isDefined(e)&&t.isNumber(e.lat)&&t.isNumber(e.lng)&&t.isNumber(e.zoom)},isValidPoint:function(e){return!!t.isDefined(e)&&(t.isArray(e)?2===e.length&&t.isNumber(e[0])&&t.isNumber(e[1]):t.isNumber(e.lat)&&t.isNumber(e.lng))},isSameCenterOnMap:function(t,e){var n=e.getCenter(),i=e.getZoom();return!(!t.lat||!t.lng||n.lat.toFixed(4)!==t.lat.toFixed(4)||n.lng.toFixed(4)!==t.lng.toFixed(4)||i!==t.zoom)},safeApply:function(t,e){var n=t.$root.$$phase;"$apply"===n||"$digest"===n?t.$eval(e):t.$evalAsync(e)},obtainEffectiveMapId:r,getDefer:function(e,n){var i,a=r(e,n);return i=t.isDefined(e[a])&&e[a].resolvedDefer!==!1?e[a].defer:o(e,n)},getUnresolvedDefer:o,setResolvedDefer:function(t,e){var n=r(t,e);t[n].resolvedDefer=!0},rangeIsSupported:function(){var t=document.createElement("input");return t.setAttribute("type","range"),"range"===t.type},FullScreenControlPlugin:{isLoaded:function(){return t.isDefined(L.Control.Fullscreen)}},MiniMapControlPlugin:{isLoaded:function(){return t.isDefined(L.Control.MiniMap)}},AwesomeMarkersPlugin:{isLoaded:function(){return t.isDefined(L.AwesomeMarkers)&&t.isDefined(L.AwesomeMarkers.Icon)},is:function(t){return!!this.isLoaded()&&t instanceof L.AwesomeMarkers.Icon},equal:function(e,n){return!!this.isLoaded()&&(!!this.is(e)&&t.equals(e,n))}},VectorMarkersPlugin:{isLoaded:function(){return t.isDefined(L.VectorMarkers)&&t.isDefined(L.VectorMarkers.Icon)},is:function(t){return!!this.isLoaded()&&t instanceof L.VectorMarkers.Icon},equal:function(e,n){return!!this.isLoaded()&&(!!this.is(e)&&t.equals(e,n))}},DomMarkersPlugin:{isLoaded:function(){return!(!t.isDefined(L.DomMarkers)||!t.isDefined(L.DomMarkers.Icon))},is:function(t){return!!this.isLoaded()&&t instanceof L.DomMarkers.Icon},equal:function(e,n){return!!this.isLoaded()&&(!!this.is(e)&&t.equals(e,n))}},PolylineDecoratorPlugin:{isLoaded:function(){return!!t.isDefined(L.PolylineDecorator)},is:function(t){return!!this.isLoaded()&&t instanceof L.PolylineDecorator},equal:function(e,n){return!!this.isLoaded()&&(!!this.is(e)&&t.equals(e,n))}},MakiMarkersPlugin:{isLoaded:function(){return!(!t.isDefined(L.MakiMarkers)||!t.isDefined(L.MakiMarkers.Icon))},is:function(t){return!!this.isLoaded()&&t instanceof L.MakiMarkers.Icon},equal:function(e,n){return!!this.isLoaded()&&(!!this.is(e)&&t.equals(e,n))}},ExtraMarkersPlugin:{isLoaded:function(){return!(!t.isDefined(L.ExtraMarkers)||!t.isDefined(L.ExtraMarkers.Icon))},is:function(t){return!!this.isLoaded()&&t instanceof L.ExtraMarkers.Icon},equal:function(e,n){return!!this.isLoaded()&&(!!this.is(e)&&t.equals(e,n))}},LabelPlugin:{isLoaded:function(){return t.isDefined(L.Label)},is:function(t){return!!this.isLoaded()&&t instanceof L.MarkerClusterGroup}},MarkerClusterPlugin:{isLoaded:function(){return t.isDefined(L.MarkerClusterGroup)},is:function(t){return!!this.isLoaded()&&t instanceof L.MarkerClusterGroup}},GeoJSONPlugin:{isLoaded:function(){return t.isDefined(L.TileLayer.GeoJSON)},is:function(t){return!!this.isLoaded()&&t instanceof L.TileLayer.GeoJSON}},CartoDB:{isLoaded:function(){return cartodb},is:function(){return!0}},Leaflet:{DivIcon:{is:function(t){return t instanceof L.DivIcon},equal:function(e,n){return!!this.is(e)&&t.equals(e,n)}},Icon:{is:function(t){return t instanceof L.Icon},equal:function(e,n){return!!this.is(e)&&t.equals(e,n)}}},watchOptions:{type:"watchDeep",individual:{type:"watchDeep"}}}}]),t.module("ui-leaflet").service("leafletIterators",["leafletLogger","leafletHelpers",function(t,e){var n,i=e,r=e.errorHeader+"leafletIterators: ",o=Object.keys,a=i.isFunction,s=i.isObject,l=t,u=Math.pow(2,53)-1,c=function(t){var e=null!==t&&t.length;return i.isNumber(e)&&e>=0&&e<=u},h=function(t){return t},f=function(t){return function(e){return null===e?void 0:e[t]}},d=function(t,e,n){if(void 0===e)return t;switch(null===n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},p=function(t,e){return function(n){var i=arguments.length;if(i<2||null===n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},m=null;n=m=p(o);var g,v=function(t,e){var n=o(e),i=n.length;if(null===t)return!i;for(var r=Object(t),a=0;a<i;a++){var s=n[a];if(e[s]!==r[s]||!(s in r))return!1}return!0},y=null;g=y=function(t){return t=n({},t),function(e){return v(e,t)}};var _,$=function(t,e,n){return null===t?h:a(t)?d(t,e,n):s(t)?g(t):f(t)},b=null;_=b=function(t,e,n){e=$(e,n);for(var i=!c(t)&&o(t),r=(i||t).length,a=0;a<r;a++){var s=i?i[a]:a;if(!e(t[s],s,t))return!1}return!0};var w=function(t,e,n,o){return!(n||i.isDefined(t)&&i.isDefined(e))||!i.isFunction(e)&&(o=i.defaultTo(e,"cb"),l.error(r+o+" is not a function"),!0)},L=function(t,e,n){if(!w(void 0,n,!0,"internalCb")&&!w(t,e))for(var i in t)t.hasOwnProperty(i)&&n(t[i],i)},x=function(t,e){L(t,e,function(t,n){e(t,n)})};return{each:x,forEach:x,every:_,all:b}}]),t.module("ui-leaflet").factory("leafletLayerHelpers",["$rootScope","$q","leafletLogger","leafletHelpers","leafletIterators",function(e,n,i,r,o){function a(t){return h(t.type)?Object.keys(_).indexOf(t.type)===-1?(v.error("[AngularJS - Leaflet] A layer must have a valid type: "+Object.keys(_)),!1):_[t.type].mustHaveUrl&&!h(t.url)?(v.error("[AngularJS - Leaflet] A base layer must have an url"),!1):_[t.type].mustHaveData&&!p(t.data)?(v.error('[AngularJS - Leaflet] The base layer must have a "data" array attribute'),!1):_[t.type].mustHaveLayer&&!p(t.layer)?(v.error("[AngularJS - Leaflet] The type of layer "+t.type+" must have an layer defined"),!1):_[t.type].mustHaveBounds&&!p(t.bounds)?(v.error("[AngularJS - Leaflet] The type of layer "+t.type+" must have bounds defined"),!1):!(_[t.type].mustHaveKey&&!p(t.key))||(v.error("[AngularJS - Leaflet] The type of layer "+t.type+" must have key defined"),!1):(v.error("[AngularJS - Leaflet] A layer must have a valid type defined."),!1)}function s(t){if(a(t)){if(!h(t.name))return void v.error("[AngularJS - Leaflet] A base layer must have a name");f(t.layerParams)||(t.layerParams={}),f(t.layerOptions)||(t.layerOptions={});for(var e in t.layerParams)t.layerOptions[e]=t.layerParams[e];var n={url:t.url,data:t.data,options:t.layerOptions,layer:t.layer,icon:t.icon,type:t.layerType,bounds:t.bounds,key:t.key,apiKey:t.apiKey,pluginOptions:t.pluginOptions,user:t.user,$parent:t};return _[t.type].createLayer(n)}}function l(t,e){e&&"function"==typeof e.addTo?e.addTo(t):t.addLayer(e)}function u(e,n,i){if(p(i)&&p(i.loadedDefer))if(t.isFunction(i.loadedDefer)){var r=i.loadedDefer();v.debug("Loaded Deferred",r);var o=r.length;if(o>0)for(var a=function(){o--,0===o&&e.removeLayer(n)},s=0;s<r.length;s++)r[s].promise.then(a);else e.removeLayer(n)}else i.loadedDefer.promise.then(function(){e.removeLayer(n)});else e.removeLayer(n)}var c=r,h=r.isString,f=r.isObject,d=r.isArray,p=r.isDefined,m=r.errorHeader,g=o,v=i,y=function(n){if(!c.UTFGridPlugin.isLoaded())return void v.error("[AngularJS - Leaflet] The UTFGrid plugin is not loaded.");var i=new L.UtfGrid(n.url,n.pluginOptions),r={model:n.$parent};return i.on("mouseover",function(n){t.extend(r,{leafletEvent:n,leafletObject:n.target}),e.$broadcast("leafletDirectiveMap.utfgridMouseover",r)}),i.on("mouseout",function(n){t.extend(r,{leafletEvent:n,leafletObject:n.target}),e.$broadcast("leafletDirectiveMap.utfgridMouseout",r)}),i.on("click",function(n){t.extend(r,{leafletEvent:n,leafletObject:n.target}),e.$broadcast("leafletDirectiveMap.utfgridClick",r)}),i.on("mousemove",function(n){t.extend(r,{leafletEvent:n,leafletObject:n.target}),e.$broadcast("leafletDirectiveMap.utfgridMousemove",r)}),i},_={xyz:{mustHaveUrl:!0,createLayer:function(t){return L.tileLayer(t.url,t.options)}},geoJSON:{mustHaveUrl:!0,createLayer:function(t){if(c.GeoJSONPlugin.isLoaded())return new L.TileLayer.GeoJSON(t.url,t.pluginOptions,t.options)}},geoJSONShape:{mustHaveUrl:!1,createLayer:function(t){return new L.GeoJSON(t.data,t.options)}},geoJSONAwesomeMarker:{mustHaveUrl:!1,createLayer:function(t){return new L.geoJson(t.data,{pointToLayer:function(e,n){return L.marker(n,{icon:L.AwesomeMarkers.icon(t.icon)})}})}},geoJSONVectorMarker:{mustHaveUrl:!1,createLayer:function(t){return new L.geoJson(t.data,{pointToLayer:function(e,n){return L.marker(n,{icon:L.VectorMarkers.icon(t.icon)
})}})}},cartodbTiles:{mustHaveKey:!0,createLayer:function(t){var e=p(t.url)?t.url+"/"+t.user:"//"+t.user+".cartodb.com";return e+="/api/v1/map/"+t.key+"/{z}/{x}/{y}.png",L.tileLayer(e,t.options)}},cartodbUTFGrid:{mustHaveKey:!0,mustHaveLayer:!0,createLayer:function(t){var e=p(t.url)?t.url+"/"+t.user:"//"+t.user+".cartodb.com";return t.url=e+"/api/v1/map/"+t.key+"/"+t.layer+"/{z}/{x}/{y}.grid.json",y(t)}},cartodbInteractive:{mustHaveKey:!0,mustHaveLayer:!0,createLayer:function(e){var n=p(e.url)?e.url+"/"+e.user:"//"+e.user+".cartodb.com",i=n+"/api/v1/map/"+e.key+"/{z}/{x}/{y}.png",r=L.tileLayer(i,e.options),o=[r],a=function(e,i,r){var o=t.copy(i);o.url=n+"/api/v1/map/"+o.key+"/"+r+"/{z}/{x}/{y}.grid.json",e.push(y(o))};if(d(e.layer))for(var s=0;s<e.layer.length;s++)a(o,e,e.layer[s]);else a(o,e,e.layer);return L.layerGroup(o)}},wms:{mustHaveUrl:!0,createLayer:function(t){return L.tileLayer.wms(t.url,t.options)}},wmts:{mustHaveUrl:!0,createLayer:function(t){return L.tileLayer.wmts(t.url,t.options)}},group:{mustHaveUrl:!1,createLayer:function(t){var e=[];return g.each(t.options.layers,function(t){e.push(s(t))}),t.options.loadedDefer=function(){var e=[];if(p(t.options.layers))for(var n=0;n<t.options.layers.length;n++){var i=t.options.layers[n].layerOptions.loadedDefer;p(i)&&e.push(i)}return e},L.layerGroup(e)}},featureGroup:{mustHaveUrl:!1,createLayer:function(){return L.featureGroup()}},markercluster:{mustHaveUrl:!1,createLayer:function(t){return c.MarkerClusterPlugin.isLoaded()?new L.MarkerClusterGroup(t.options):void v.warn(m+" The markercluster plugin is not loaded.")}},imageOverlay:{mustHaveUrl:!0,mustHaveBounds:!0,createLayer:function(t){return L.imageOverlay(t.url,t.bounds,t.options)}},iip:{mustHaveUrl:!0,createLayer:function(t){return L.tileLayer.iip(t.url,t.options)}},custom:{createLayer:function(e){return e.layer instanceof L.Class?t.copy(e.layer):void v.error("[AngularJS - Leaflet] A custom layer must be a leaflet Class")}},cartodb:{mustHaveUrl:!0,createLayer:function(t){return cartodb.createLayer(t.map,t.url)}}},$=function(t){return function(e){p(e.setOpacity)&&e.setOpacity(t)}};return{createLayer:s,layerTypes:_,safeAddLayer:l,safeRemoveLayer:u,changeOpacityListener:$}}]),t.module("ui-leaflet").factory("leafletLegendHelpers",["$http","$q","$log","leafletHelpers",function(t,e,n,i){var r={},o=i.isDefined,a=function e(n){var i=r[n],o=i[0];t(o.c).then(function(t){i.shift(),o.d.resolve(t),i.length>0&&e(n)},function(t){i.shift(),o.d.reject(t),i.length>0&&e(n)})},s=function(t,e,n,i){if(t.innerHTML="",e.error)t.innerHTML+='<div class="info-title alert alert-danger">'+e.error.message+"</div>";else if("arcgis"===n)for(var r=0;r<e.layers.length;r++){var o=e.layers[r];t.innerHTML+='<div class="info-title" data-layerid="'+o.layerId+'">'+o.layerName+"</div>";for(var a=0;a<o.legend.length;a++){var s=o.legend[a];t.innerHTML+='<div class="inline" data-layerid="'+o.layerId+'"><img src="data:'+s.contentType+";base64,"+s.imageData+'" /></div><div class="info-label" data-layerid="'+o.layerId+'">'+s.label+"</div>"}}else"image"===n&&(t.innerHTML='<img src="'+i+'"/>')},l=function(t,e,n,i){return function(){var r=L.DomUtil.create("div",e);return L.Browser.touch?L.DomEvent.on(r,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(r),L.DomEvent.on(r,"mousewheel",L.DomEvent.stopPropagation)),s(r,t,n,i),r}},u=function(t,e){return function(){for(var n=L.DomUtil.create("div",e),i=0;i<t.colors.length;i++)n.innerHTML+='<div class="outline"><i style="background:'+t.colors[i]+'"></i></div><div class="info-label">'+t.labels[i]+"</div>";return L.Browser.touch?L.DomEvent.on(n,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(n),L.DomEvent.on(n,"mousewheel",L.DomEvent.stopPropagation)),n}};return{getOnAddLegend:l,getOnAddArrayLegend:u,updateLegend:s,addLegendURL:function(t,n){var i=e.defer();return o(r[t])||(r[t]=[]),r[t].push({c:n,d:i}),1===r[t].length&&a(t),i.promise}}}]),t.module("ui-leaflet").factory("leafletMapDefaults",["$q","leafletHelpers",function(e,n){function i(){return{keyboard:!0,dragging:!0,worldCopyJump:!1,doubleClickZoom:!0,scrollWheelZoom:!0,tap:!0,touchZoom:!0,zoomControl:!0,zoomsliderControl:!1,zoomControlPosition:"topleft",attributionControl:!0,controls:{layers:{visible:!0,position:"topright",collapsed:!0}},nominatim:{server:" http://nominatim.openstreetmap.org/search"},crs:L.CRS.EPSG3857,tileLayer:"//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'},path:{weight:10,opacity:1,color:"#0000ff"},center:{lat:0,lng:0,zoom:1},trackResize:!0}}var r=n.isDefined,o=n.isObject,a=n.obtainEffectiveMapId,s={};return{reset:function(){s={}},getDefaults:function(t){var e=a(s,t);return s[e]},getMapCreationDefaults:function(t){var e=a(s,t),n=s[e],i={maxZoom:n.maxZoom,keyboard:n.keyboard,dragging:n.dragging,zoomControl:n.zoomControl,doubleClickZoom:n.doubleClickZoom,scrollWheelZoom:n.scrollWheelZoom,tap:n.tap,touchZoom:n.touchZoom,attributionControl:n.attributionControl,worldCopyJump:n.worldCopyJump,crs:n.crs,trackResize:n.trackResize};if(r(n.minZoom)&&(i.minZoom=n.minZoom),r(n.zoomAnimation)&&(i.zoomAnimation=n.zoomAnimation),r(n.fadeAnimation)&&(i.fadeAnimation=n.fadeAnimation),r(n.markerZoomAnimation)&&(i.markerZoomAnimation=n.markerZoomAnimation),n.map)for(var o in n.map)i[o]=n.map[o];return i},setDefaults:function(e,n){var l=i();r(e)&&(l.doubleClickZoom=r(e.doubleClickZoom)?e.doubleClickZoom:l.doubleClickZoom,l.scrollWheelZoom=r(e.scrollWheelZoom)?e.scrollWheelZoom:l.doubleClickZoom,l.tap=r(e.tap)?e.tap:l.tap,l.touchZoom=r(e.touchZoom)?e.touchZoom:l.doubleClickZoom,l.zoomControl=r(e.zoomControl)?e.zoomControl:l.zoomControl,l.zoomsliderControl=r(e.zoomsliderControl)?e.zoomsliderControl:l.zoomsliderControl,l.attributionControl=r(e.attributionControl)?e.attributionControl:l.attributionControl,l.tileLayer=r(e.tileLayer)?e.tileLayer:l.tileLayer,l.zoomControlPosition=r(e.zoomControlPosition)?e.zoomControlPosition:l.zoomControlPosition,l.keyboard=r(e.keyboard)?e.keyboard:l.keyboard,l.dragging=r(e.dragging)?e.dragging:l.dragging,l.trackResize=r(e.trackResize)?e.trackResize:l.trackResize,r(e.controls)&&t.extend(l.controls,e.controls),o(e.crs)?l.crs=e.crs:r(L.CRS[e.crs])&&(l.crs=L.CRS[e.crs]),r(e.center)&&t.copy(e.center,l.center),r(e.tileLayerOptions)&&t.copy(e.tileLayerOptions,l.tileLayerOptions),r(e.maxZoom)&&(l.maxZoom=e.maxZoom),r(e.minZoom)&&(l.minZoom=e.minZoom),r(e.zoomAnimation)&&(l.zoomAnimation=e.zoomAnimation),r(e.fadeAnimation)&&(l.fadeAnimation=e.fadeAnimation),r(e.markerZoomAnimation)&&(l.markerZoomAnimation=e.markerZoomAnimation),r(e.worldCopyJump)&&(l.worldCopyJump=e.worldCopyJump),r(e.map)&&(l.map=e.map),r(e.path)&&(l.path=e.path));var u=a(s,n);return s[u]=l,l}}}]),t.module("ui-leaflet").service("leafletMarkersHelpers",["$rootScope","$timeout","leafletHelpers","leafletLogger","$compile","leafletGeoJsonHelpers","leafletWatchHelpers",function(e,n,i,r,o,a,s){var l=i.isDefined,u=i.defaultTo,c=i.MarkerClusterPlugin,h=i.AwesomeMarkersPlugin,f=i.VectorMarkersPlugin,d=i.MakiMarkersPlugin,p=i.ExtraMarkersPlugin,m=i.DomMarkersPlugin,g=i.safeApply,v=i,y=i.isString,_=i.isNumber,$=i.isObject,b={},w=a,x=i.errorHeader,P=s.maybeWatch,C=r,E=function(t){var e="";return["_icon","_latlng","_leaflet_id","_map","_shadow"].forEach(function(n){e+=n+": "+u(t[n],"undefined")+" \n"}),"[leafletMarker] : \n"+e},S=function(t,e){var n=e?console:C;n.debug(E(t))},k=function(e){return t.element(b[e]._map._container).parent().length>0},M=function(n){if(l(n)&&l(n.type)&&"awesomeMarker"===n.type)return h.isLoaded()||C.error(x+" The AwesomeMarkers Plugin is not loaded."),new L.AwesomeMarkers.icon(n);if(l(n)&&l(n.type)&&"vectorMarker"===n.type)return f.isLoaded()||C.error(x+" The VectorMarkers Plugin is not loaded."),new L.VectorMarkers.icon(n);if(l(n)&&l(n.type)&&"makiMarker"===n.type)return d.isLoaded()||C.error(x+"The MakiMarkers Plugin is not loaded."),new L.MakiMarkers.icon(n);if(l(n)&&l(n.type)&&"extraMarker"===n.type)return p.isLoaded()||C.error(x+"The ExtraMarkers Plugin is not loaded."),new L.ExtraMarkers.icon(n);if(l(n)&&l(n.type)&&"div"===n.type)return new L.divIcon(n);if(l(n)&&l(n.type)&&"dom"===n.type){m.isLoaded()||C.error(x+"The DomMarkers Plugin is not loaded.");var i=t.isFunction(n.getMarkerScope)?n.getMarkerScope().$new():e,r=o(n.template)(i),a=t.copy(n);return a.ngElement=r,a.element=r[0],t.isFunction(n.getMarkerScope)&&(a.scope=i),new L.DomMarkers.icon(a)}if(l(n)&&l(n.type)&&"icon"===n.type)return n.icon;var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg==",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII=";return l(n)&&l(n.iconUrl)?new L.Icon(n):new L.Icon.Default({iconUrl:s,shadowUrl:u,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},A=function(t){l(b[t])&&delete b[t]},D=function(){b={}},T=function(){for(var t in b)k(t)||A(t)},O=function(t){t.options.icon.options.ngElement&&t.options.icon.options.ngElement.remove(),t.options.icon.options.scope&&t.options.icon.options.scope.$destroy()},I=function(t,e,n){if(t.closePopup(),t.options.icon&&t.options.icon.options&&"dom"===t.options.icon.options.type&&O(t),l(n)&&l(n.overlays))for(var i in n.overlays)if((n.overlays[i]instanceof L.LayerGroup||n.overlays[i]instanceof L.FeatureGroup)&&n.overlays[i].hasLayer(t))return void n.overlays[i].removeLayer(t);if(l(b))for(var r in b)b[r].hasLayer(t)&&b[r].removeLayer(t);e.hasLayer(t)&&e.removeLayer(t)},N=function(t,e){var n=t._popup._container.offsetHeight,i=new L.Point(t._popup._containerLeft,-n-t._popup._containerBottom),r=e.layerPointToContainerPoint(i);null!==r&&t._popup._adjustPan()},B=function(t,e){o(t._popup._contentNode)(e)},U=function t(e,i,r){var o=e._popup._contentNode.innerText||e._popup._contentNode.textContent;o.length<1&&n(function(){t(e,i,r)});var a=e._popup._contentNode.offsetWidth;return e._popup._updateLayout(),e._popup._updatePosition(),e._popup.options.autoPan&&N(e,r),a},z=function(n,i,r){var o=t.isFunction(i.getMessageScope)?i.getMessageScope():e,a=!l(i.compileMessage)||i.compileMessage;if(a){if(!l(n._popup)||!l(n._popup._contentNode))return C.error(x+"Popup is invalid or does not have any content."),!1;B(n,o),U(n,i,r)}},R=function(n,i){var r=t.isFunction(i.getMessageScope)?i.getMessageScope():e,a=t.isFunction(i.getLabelScope)?i.getLabelScope():r,s=!l(i.compileMessage)||i.compileMessage;v.LabelPlugin.isLoaded()&&l(i.label)&&(l(i.label.options)&&i.label.options.noHide===!0&&n.showLabel(),s&&l(n.label)&&o(n.label._container)(a))},j=function(e,n,i,r,o,a,s){if(l(n)){if(!w.validateCoords(e))return C.warn("There are problems with lat-lng data, please verify your marker model"),void I(i,s,a);var u=e===n;if(l(e.iconAngle)&&n.iconAngle!==e.iconAngle&&i.setIconAngle(e.iconAngle),y(e.layer)||y(n.layer)&&(l(a.overlays[n.layer])&&a.overlays[n.layer].hasLayer(i)&&(a.overlays[n.layer].removeLayer(i),i.closePopup()),s.hasLayer(i)||s.addLayer(i)),(_(e.opacity)||_(parseFloat(e.opacity)))&&e.opacity!==n.opacity&&i.setOpacity(e.opacity),y(e.layer)&&n.layer!==e.layer){if(y(n.layer)&&l(a.overlays[n.layer])&&a.overlays[n.layer].hasLayer(i)&&a.overlays[n.layer].removeLayer(i),i.closePopup(),s.hasLayer(i)&&s.removeLayer(i),!l(a.overlays[e.layer]))return void C.error(x+"You must use a name of an existing layer");var c=a.overlays[e.layer];if(!(c instanceof L.LayerGroup||c instanceof L.FeatureGroup))return void C.error(x+'A marker can only be added to a layer of type "group" or "featureGroup"');c.addLayer(i),s.hasLayer(i)&&e.focus===!0&&i.openPopup()}if(e.draggable!==!0&&n.draggable===!0&&l(i.dragging)&&i.dragging.disable(),e.draggable===!0&&n.draggable!==!0&&(i.dragging?i.dragging.enable():L.Handler.MarkerDrag&&(i.dragging=new L.Handler.MarkerDrag(i),i.options.draggable=!0,i.dragging.enable())),$(e.icon)||$(n.icon)&&("dom"===n.icon.type&&O(i),i.setIcon(M()),i.closePopup(),i.unbindPopup(),y(e.message)&&i.bindPopup(e.message,e.popupOptions)),$(e.icon)&&$(n.icon)&&!t.equals(e.icon,n.icon)){var h=!1;i.dragging&&(h=i.dragging.enabled()),"dom"===n.icon.type&&O(i),i.setIcon(M(e.icon)),h&&i.dragging.enable(),i.closePopup(),i.unbindPopup(),y(e.message)&&(i.bindPopup(e.message,e.popupOptions),s.hasLayer(i)&&e.focus===!0&&i.openPopup())}!y(e.message)&&y(n.message)&&(i.closePopup(),i.unbindPopup()),v.LabelPlugin.isLoaded()&&(l(e.label)&&l(e.label.message)?"label"in n&&"message"in n.label&&!t.equals(e.label.message,n.label.message)?i.updateLabelContent(e.label.message):!t.isFunction(i.getLabel)||t.isFunction(i.getLabel)&&!l(i.getLabel())?(i.bindLabel(e.label.message,e.label.options),R(i,e)):R(i,e):"label"in e&&!("message"in e.label)||t.isFunction(i.unbindLabel)&&i.unbindLabel()),y(e.message)&&!y(n.message)&&i.bindPopup(e.message,e.popupOptions),y(e.message)&&y(n.message)&&e.message!==n.message&&i.setPopupContent(e.message);var f=!1;e.focus!==!0&&n.focus===!0&&(i.closePopup(),f=!0),(e.focus===!0&&(!l(n.focus)||n.focus===!1)||u&&e.focus===!0)&&(i.openPopup(),f=!0),n.zIndexOffset!==e.zIndexOffset&&i.setZIndexOffset(e.zIndexOffset);var d=i.getLatLng(),p=y(e.layer)&&v.MarkerClusterPlugin.is(a.overlays[e.layer]);p?f?e.lat===n.lat&&e.lng===n.lng||(a.overlays[e.layer].removeLayer(i),i.setLatLng([e.lat,e.lng]),a.overlays[e.layer].addLayer(i)):d.lat!==e.lat||d.lng!==e.lng?(a.overlays[e.layer].removeLayer(i),i.setLatLng([e.lat,e.lng]),a.overlays[e.layer].addLayer(i)):e.lat!==n.lat||e.lng!==n.lng?(a.overlays[e.layer].removeLayer(i),i.setLatLng([e.lat,e.lng]),a.overlays[e.layer].addLayer(i)):$(e.icon)&&$(n.icon)&&!t.equals(e.icon,n.icon)&&(a.overlays[e.layer].removeLayer(i),a.overlays[e.layer].addLayer(i)):d.lat===e.lat&&d.lng===e.lng||i.setLatLng([e.lat,e.lng])}},H=function(t,e){if(l(t))return e?t[e]:t},V=function(t,e,n){if(l(t))return e?n?t[n][e]:t[e]:void C.error(x+"marker id missing in getMarker")};return{resetMarkerGroup:A,resetMarkerGroups:D,resetUnusedMarkerGroups:T,deleteMarker:I,manageOpenPopup:z,manageOpenLabel:R,createMarker:function(t){if(!l(t)||!w.validateCoords(t))return void C.error(x+"The marker definition is not valid.");var e=w.getCoords(t);if(!l(e))return void C.error(x+"Unable to get coordinates from markerData.");var n={icon:M(t.icon),title:l(t.title)?t.title:"",draggable:!!l(t.draggable)&&t.draggable,clickable:!l(t.clickable)||t.clickable,riseOnHover:!!l(t.riseOnHover)&&t.riseOnHover,zIndexOffset:l(t.zIndexOffset)?t.zIndexOffset:0,iconAngle:l(t.iconAngle)?t.iconAngle:0};for(var i in t)t.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=t[i]);var r=new L.marker(e,n);return y(t.message)||r.unbindPopup(),r},addMarkerToGroup:function(t,e,n,i){return y(e)?c.isLoaded()?(l(b[e])||(b[e]=new L.MarkerClusterGroup(n),i.addLayer(b[e])),void b[e].addLayer(t)):void C.error(x+"The MarkerCluster plugin is not loaded."):void C.error(x+"The marker group you have specified is invalid.")},listenMarkerEvents:function(t,e,n,i,r){t.on("popupopen",function(){g(n,function(){(l(t._popup)||l(t._popup._contentNode))&&(e.focus=!0,z(t,e,r))})}),t.on("popupclose",function(){g(n,function(){e.focus=!1})}),t.on("add",function(){g(n,function(){"label"in e&&R(t,e)})})},updateMarker:j,addMarkerWatcher:function(t,e,n,i,r,o){var a=v.getObjectArrayPath("markers."+e);P(n,a,o,function(o,a,s){return l(o)?void j(o,a,t,e,n,i,r):(I(t,r,i),void s())})},string:E,log:S,getModelFromModels:V,getLayerModels:H}}]),t.module("ui-leaflet").factory("leafletPathsHelpers",["$rootScope","leafletLogger","leafletHelpers",function(t,e,n){function i(t){return t.filter(function(t){return c(t)}).map(function(t){return r(t)})}function r(t){return l(t)?new L.LatLng(t[0],t[1]):new L.LatLng(t.lat,t.lng)}function o(t){return t.map(function(t){return i(t)})}function a(t,e){for(var n={},i=0;i<f.length;i++){var r=f[i];s(t[r])?n[r]=t[r]:s(e.path[r])&&(n[r]=e.path[r])}return n}var s=n.isDefined,l=n.isArray,u=n.isNumber,c=n.isValidPoint,h=e,f=["stroke","weight","color","opacity","fill","fillColor","fillOpacity","dashArray","lineCap","lineJoin","clickable","pointerEvents","className","smoothFactor","noClip"],d=function(t,e){for(var n={},i=0;i<f.length;i++){var r=f[i];s(e[r])&&(n[r]=e[r])}t.setStyle(e)},p=function(t){if(!l(t))return!1;for(var e=0;e<t.length;e++){var n=t[e];if(!c(n))return!1}return!0},m={polyline:{isValid:function(t){var e=t.latlngs;return p(e)},createPath:function(t){return new L.Polyline([],t)},setPath:function(t,e){t.setLatLngs(i(e.latlngs)),d(t,e)}},multiPolyline:{isValid:function(t){var e=t.latlngs;if(!l(e))return!1;for(var n in e){var i=e[n];if(!p(i))return!1}return!0},createPath:function(t){return new L.multiPolyline([[[0,0],[1,1]]],t)},setPath:function(t,e){t.setLatLngs(o(e.latlngs)),d(t,e)}},polygon:{isValid:function(t){var e=t.latlngs;return p(e)},createPath:function(t){return new L.Polygon([],t)},setPath:function(t,e){t.setLatLngs(i(e.latlngs)),d(t,e)}},multiPolygon:{isValid:function(t){var e=t.latlngs;if(!l(e))return!1;for(var n in e){var i=e[n];if(!p(i))return!1}return!0},createPath:function(t){return new L.MultiPolygon([[[0,0],[1,1],[0,1]]],t)},setPath:function(t,e){t.setLatLngs(o(e.latlngs)),d(t,e)}},rectangle:{isValid:function(t){var e=t.latlngs;if(!l(e)||2!==e.length)return!1;for(var n in e){var i=e[n];if(!c(i))return!1}return!0},createPath:function(t){return new L.Rectangle([[0,0],[1,1]],t)},setPath:function(t,e){t.setBounds(new L.LatLngBounds(i(e.latlngs))),d(t,e)}},circle:{isValid:function(t){var e=t.latlngs;return c(e)&&u(t.radius)},createPath:function(t){return new L.Circle([0,0],1,t)},setPath:function(t,e){t.setLatLng(r(e.latlngs)),s(e.radius)&&t.setRadius(e.radius),d(t,e)}},circleMarker:{isValid:function(t){var e=t.latlngs;return c(e)&&u(t.radius)},createPath:function(t){return new L.CircleMarker([0,0],t)},setPath:function(t,e){t.setLatLng(r(e.latlngs)),s(e.radius)&&t.setRadius(e.radius),d(t,e)}}},g=function(t){var e={};return t.latlngs&&(e.latlngs=t.latlngs),t.radius&&(e.radius=t.radius),e};return{setPathOptions:function(t,e,n){s(e)||(e="polyline"),m[e].setPath(t,n)},createPath:function(t,e,n){s(e.type)||(e.type="polyline");var i=a(e,n),r=g(e);return m[e.type].isValid(r)?m[e.type].createPath(i):void h.error("[AngularJS - Leaflet] Invalid data passed to the "+e.type+" path")}}}]),t.module("ui-leaflet").service("leafletWatchHelpers",function(){var t=function(t,e,n,i,r){var o=t[e](n,function(t,e){r(t,e,o),null===i.type&&o()},"watchDeep"===i.type);return o},e=function(e,n,i,r){var o;return o="watchCollection"===i.type?"$watchCollection":"$watch",t(e,o,n,i,r)};return{maybeWatch:e}}),t.module("ui-leaflet").service("leafletLogger",["nemSimpleLogger",function(t){return t.spawn()}]),t.module("ui-leaflet").factory("nominatimService",["$q","$http","leafletHelpers","leafletMapDefaults",function(t,e,n,i){var r=n.isDefined;return{query:function(n,o){var a=i.getDefaults(o),s=a.nominatim.server,l=t.defer();return e.get(s,{params:{format:"json",limit:1,q:n}}).success(function(t){t.length>0&&r(t[0].boundingbox)?l.resolve(t[0]):l.reject("[Nominatim] Invalid address")}),l.promise}}}]),t.module("ui-leaflet").directive("bounds",["leafletLogger","$timeout","$http","leafletHelpers","nominatimService","leafletBoundsHelpers",function(e,n,i,r,o,a){var s=e;return{restrict:"A",scope:!1,replace:!1,require:["leaflet"],link:function(e,i,l,u){var c=r.isDefined,h=a.createLeafletBounds,f=u[0].getLeafletScope(),d=u[0],p=r.errorHeader+" [Bounds] ",m=function(t){return 0===t._southWest.lat&&0===t._southWest.lng&&0===t._northEast.lat&&0===t._northEast.lng};d.getMap().then(function(i){f.$on("boundsChanged",function(e){var r=e.currentScope,o=i.getBounds();if(!m(o)&&!r.settingBoundsFromScope){r.settingBoundsFromLeaflet=!0;var a={northEast:{lat:o._northEast.lat,lng:o._northEast.lng},southWest:{lat:o._southWest.lat,lng:o._southWest.lng},options:o.options};t.equals(r.bounds,a)||(r.bounds=a),n(function(){r.settingBoundsFromLeaflet=!1})}});var r;f.$watch("bounds",function(t){if(!e.settingBoundsFromLeaflet){if(c(t.address)&&t.address!==r)return e.settingBoundsFromScope=!0,o.query(t.address,l.id).then(function(t){var e=t.boundingbox,n=[[e[0],e[2]],[e[1],e[3]]];i.fitBounds(n)},function(t){s.error(p+" "+t+".")}),r=t.address,void n(function(){e.settingBoundsFromScope=!1});var a=h(t);a&&!i.getBounds().equals(a)&&(e.settingBoundsFromScope=!0,i.fitBounds(a,t.options),n(function(){e.settingBoundsFromScope=!1}))}},!0)})}}}]);var e=["center","lfCenter"],n={};e.forEach(function(e){n[e]=["leafletLogger","$q","$location","$timeout","leafletMapDefaults","leafletHelpers","leafletBoundsHelpers","leafletMapEvents",function(n,i,r,o,a,s,l,u){var c,h=s.isDefined,f=s.isNumber,d=s.isSameCenterOnMap,p=s.safeApply,m=s.isValidCenter,g=l.isValidBounds,v=s.isUndefinedOrEmpty,y=s.errorHeader,_=n,$=function(t,e){return h(t)&&g(t)&&v(e)};return{restrict:"A",scope:!1,replace:!1,require:"leaflet",controller:function(){c=i.defer(),this.getCenter=function(){return c.promise}},link:function(n,i,s,g){var v=g.getLeafletScope(),b=v[e];g.getMap().then(function(n){var i=a.getDefaults(s.id);if(s[e].search("-")!==-1)return _.error(y+' The "center" variable can\'t use a "-" on its key name: "'+s[e]+'".'),void n.setView([i.center.lat,i.center.lng],i.center.zoom);if($(v.bounds,b))n.fitBounds(l.createLeafletBounds(v.bounds),v.bounds.options),b=n.getCenter(),p(v,function(i){t.extend(i[e],{lat:n.getCenter().lat,lng:n.getCenter().lng,zoom:n.getZoom(),autoDiscover:!1})}),p(v,function(t){var e=n.getBounds();t.bounds={northEast:{lat:e._northEast.lat,lng:e._northEast.lng},southWest:{lat:e._southWest.lat,lng:e._southWest.lng}}});else{if(!h(b))return _.error(y+' The "center" property is not defined in the main scope'),void n.setView([i.center.lat,i.center.lng],i.center.zoom);h(b.lat)&&h(b.lng)||h(b.autoDiscover)||t.copy(i.center,b)}var g,w;if("yes"===s.urlHashCenter){var L=function(){var t,e=r.search(),n=s.urlHashParam?s.urlHashParam:"c";if(h(e[n])){var i=e[n].split(":");3===i.length&&(t={lat:parseFloat(i[0]),lng:parseFloat(i[1]),zoom:parseInt(i[2],10)})}return t};g=L(),v.$on("$locationChangeSuccess",function(i){var r=i.currentScope,o=L();h(o)&&!d(o,n)&&t.extend(r[e],{lat:o.lat,lng:o.lng,zoom:o.zoom})})}v.$watch(e,function(e){if(!v.settingCenterFromLeaflet)return h(g)&&(t.copy(g,e),g=void 0),m(e)||e.autoDiscover===!0?e.autoDiscover===!0?(f(e.zoom)||n.setView([i.center.lat,i.center.lng],i.center.zoom),void(f(e.zoom)&&e.zoom>i.center.zoom?n.locate({setView:!0,maxZoom:e.zoom}):h(i.maxZoom)?n.locate({setView:!0,maxZoom:i.maxZoom}):n.locate({setView:!0}))):void(w&&d(e,n)||(v.settingCenterFromScope=!0,n.setView([e.lat,e.lng],e.zoom),u.notifyCenterChangedToBounds(v,n),o(function(){v.settingCenterFromScope=!1}))):void _.warn(y+" invalid 'center'")},!0),n.whenReady(function(){w=!0}),n.on("moveend",function(){c.resolve(),u.notifyCenterUrlHashChanged(v,n,s,r.search()),d(b,n)||v.settingCenterFromScope||(v.settingCenterFromLeaflet=!0,p(v,function(i){v.settingCenterFromScope||t.extend(i[e],{lat:n.getCenter().lat,lng:n.getCenter().lng,zoom:n.getZoom(),autoDiscover:!1}),u.notifyCenterChangedToBounds(v,n),o(function(){v.settingCenterFromLeaflet=!1})}))}),b.autoDiscover===!0&&n.on("locationerror",function(){_.warn(y+" The Geolocation API is unauthorized on this page."),m(b)?(n.setView([b.lat,b.lng],b.zoom),u.notifyCenterChangedToBounds(v,n)):(n.setView([i.center.lat,i.center.lng],i.center.zoom),u.notifyCenterChangedToBounds(v,n))})})}}}]}),e.forEach(function(e){t.module("ui-leaflet").directive(e,n[e])}),t.module("ui-leaflet").directive("controls",["leafletLogger","leafletHelpers","leafletControlHelpers",function(t,e,n){var i=t;return{restrict:"A",scope:!1,replace:!1,require:"?^leaflet",link:function(t,r,o,a){if(a){var s=n.createControl,l=n.isValidControlType,u=a.getLeafletScope(),c=e.isDefined,h=e.isArray,f={},d=e.errorHeader+" [Controls] ";t.$on("$destroy",function(){n.destroyMapLayersControl(t.mapId)}),a.getMap().then(function(t){u.$watchCollection("controls",function(e){for(var n in f)c(e[n])||(t.hasControl(f[n])&&t.removeControl(f[n]),delete f[n]);for(var r in e){var o,a=c(e[r].type)?e[r].type:r;if(!l(a))return void i.error(d+" Invalid control type: "+a+".");if("custom"!==a)o=s(a,e[r]),t.addControl(o),f[r]=o;else{var u=e[r];if(h(u))for(var p=0;p<u.length;p++){var m=u[p];t.addControl(m),f[r]=c(f[r])?f[r].concat([m]):[m]}else t.addControl(u),f[r]=u}}})})}}}}]),t.module("ui-leaflet").directive("decorations",["leafletLogger","leafletHelpers",function(e,n){var i=e;return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(e,r,o,a){function s(t){return h(t)&&h(t.coordinates)&&(c.isLoaded()||i.error("[AngularJS - Leaflet] The PolylineDecorator Plugin is not loaded.")),L.polylineDecorator(t.coordinates)}function l(t,e){if(h(t)&&h(e)&&h(e.coordinates)&&h(e.patterns))return t.setPaths(e.coordinates),t.setPatterns(e.patterns),t}var u=a.getLeafletScope(),c=n.PolylineDecoratorPlugin,h=n.isDefined,f={};a.getMap().then(function(e){u.$watch("decorations",function(n){for(var i in f)h(n[i])&&t.equals(n[i],f)||(e.removeLayer(f[i]),delete f[i]);for(var r in n){var o=n[r],a=s(o);h(a)&&(f[r]=a,e.addLayer(a),l(a,o))}},!0)})}}}]),t.module("ui-leaflet").directive("eventBroadcast",["leafletLogger","$rootScope","leafletHelpers","leafletMapEvents","leafletIterators",function(t,e,n,i,r){var o=t;return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(t,e,a,s){var l=n.isObject,u=n.isDefined,c=s.getLeafletScope(),h=c.eventBroadcast,f=i.getAvailableMapEvents(),d=i.addEvents;s.getMap().then(function(t){var e=[],n="broadcast";u(h.map)?l(h.map)?("emit"!==h.map.logic&&"broadcast"!==h.map.logic?o.warn("[AngularJS - Leaflet] Available event propagation logic are: 'emit' or 'broadcast'."):n=h.map.logic,l(h.map.enable)&&h.map.enable.length>=0?r.each(h.map.enable,function(t){e.indexOf(t)===-1&&f.indexOf(t)!==-1&&e.push(t)}):o.warn("[AngularJS - Leaflet] event-broadcast.map.enable must be an object check your model.")):o.warn("[AngularJS - Leaflet] event-broadcast.map must be an object check your model."):e=f,d(t,a.id,e,"eventName",c,n)})}}}]),t.module("ui-leaflet").directive("geojson",["$timeout","leafletLogger","leafletData","leafletHelpers","leafletWatchHelpers","leafletDirectiveControlsHelpers","leafletIterators","leafletGeoJsonEvents",function(e,n,i,r,o,a,s,l){var u=o.maybeWatch,c=r.watchOptions,h=a.extend,f=r,d=s,p={changeFromDirective:!1};return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(e,n,o,a){var s=r.isDefined,m=a.getLeafletScope(),g={},v=!1;a.getMap().then(function(e){var n;n=m.watchOptions&&m.watchOptions.geojson?m.watchOptions.geojson:c;var a=function(e,n){var i;return i=t.isFunction(e.onEachFeature)?e.onEachFeature:function(t,i){r.LabelPlugin.isLoaded()&&s(t.properties.description)&&i.bindLabel(t.properties.description),l.bindEvents(o.id,i,null,t,m,n,{resetStyleOnMouseout:e.resetStyleOnMouseout,mapId:o.id})}},y=f.isDefined(o.geojsonNested)&&f.isTruthy(o.geojsonNested),_=function(){if(g){var t=function(t){s(t)&&e.hasLayer(t)&&e.removeLayer(t)};return y?void d.each(g,function(e){t(e)}):void t(g)}},$=function(t,n){if(s(t)&&s(t.data)){var r=a(t,n);s(t.options)||f.modelChangeInDirective(p,"changeFromDirective",function(){t.options={style:t.style,filter:t.filter,onEachFeature:r,pointToLayer:t.pointToLayer}});var l=L.geoJson(t.data,t.options);n&&f.isString(n)?g[n]=l:g=l,l.addTo(e),v||(v=!0,i.setGeoJSON(g,o.id))}},b=function(t){if(_(),y){if(!t||!Object.keys(t).length)return;return void d.each(t,function(t,e){$(t,e)})}$(t)};h(o.id,"geojson",b,_),u(m,"geojson",n,function(t){p.changeFromDirective||b(t)})})}}}]),t.module("ui-leaflet").directive("layercontrol",["$filter","leafletLogger","leafletData","leafletHelpers",function(e,n,i,r){var o=n;return{restrict:"E",scope:{icons:"=?",autoHideOpacity:"=?",showGroups:"=?",title:"@",baseTitle:"@",overlaysTitle:"@"},replace:!0,transclude:!1,require:"^leaflet",controller:["$scope","$element","$sce",function(e,n,a){o.debug("[Angular Directive - Layers] layers",e,n);var s=r.safeApply,l=r.isDefined;t.extend(e,{baselayer:"",oldGroup:"",layerProperties:{},groupProperties:{},rangeIsSupported:r.rangeIsSupported(),changeBaseLayer:function(t,n){r.safeApply(e,function(n){n.baselayer=t,i.getMap().then(function(r){i.getLayers().then(function(i){if(!r.hasLayer(i.baselayers[t])){for(var o in n.layers.baselayers)n.layers.baselayers[o].icon=n.icons.unradio,r.hasLayer(i.baselayers[o])&&r.removeLayer(i.baselayers[o]);r.addLayer(i.baselayers[t]),n.layers.baselayers[t].icon=e.icons.radio}})})}),n.preventDefault()},moveLayer:function(t,n,i){var r=Object.keys(e.layers.baselayers).length;if(n>=1+r&&n<=e.overlaysArray.length+r){var o;for(var a in e.layers.overlays)if(e.layers.overlays[a].index===n){o=e.layers.overlays[a];
break}o&&s(e,function(){o.index=t.index,t.index=n})}i.stopPropagation(),i.preventDefault()},initIndex:function(t,n){var i=Object.keys(e.layers.baselayers).length;t.index=l(t.index)?t.index:n+i+1},initGroup:function(t){e.groupProperties[t]=e.groupProperties[t]?e.groupProperties[t]:{}},toggleOpacity:function(t,n){if(n.visible){if(e.autoHideOpacity&&!e.layerProperties[n.name].opacityControl)for(var i in e.layerProperties)e.layerProperties[i].opacityControl=!1;e.layerProperties[n.name].opacityControl=!e.layerProperties[n.name].opacityControl}t.stopPropagation(),t.preventDefault()},toggleLegend:function(t){e.layerProperties[t.name].showLegend=!e.layerProperties[t.name].showLegend},showLegend:function(t){return t.legend&&e.layerProperties[t.name].showLegend},unsafeHTML:function(t){return a.trustAsHtml(t)},getOpacityIcon:function(t){return t.visible&&e.layerProperties[t.name].opacityControl?e.icons.close:e.icons.open},getGroupIcon:function(t){return t.visible?e.icons.check:e.icons.uncheck},changeGroupVisibility:function(t){if(l(e.groupProperties[t])){var n=e.groupProperties[t].visible;for(var i in e.layers.overlays){var r=e.layers.overlays[i];r.group===t&&(r.visible=n)}}}});var u=n.get(0);L.Browser.touch?L.DomEvent.on(u,"click",L.DomEvent.stopPropagation):(L.DomEvent.disableClickPropagation(u),L.DomEvent.on(u,"mousewheel",L.DomEvent.stopPropagation))}],template:'<div class="angular-leaflet-control-layers" ng-show="overlaysArray.length"><h4 ng-if="title">{{ title }}</h4><div class="lf-baselayers"><h5 class="lf-title" ng-if="baseTitle">{{ baseTitle }}</h5><div class="lf-row" ng-repeat="(key, layer) in baselayersArray"><label class="lf-icon-bl" ng-click="changeBaseLayer(key, $event)"><input class="leaflet-control-layers-selector" type="radio" name="lf-radio" ng-show="false" ng-checked="baselayer === key" ng-value="key" /> <i class="lf-icon lf-icon-radio" ng-class="layer.icon"></i><div class="lf-text">{{layer.name}}</div></label></div></div><div class="lf-overlays"><h5 class="lf-title" ng-if="overlaysTitle">{{ overlaysTitle }}</h5><div class="lf-container"><div class="lf-row" ng-repeat="layer in (o = (overlaysArray | orderBy:\'index\':order))" ng-init="initIndex(layer, $index)"><label class="lf-icon-ol-group" ng-if="showGroups &amp;&amp; layer.group &amp;&amp; layer.group != o[$index-1].group"><input class="lf-control-layers-selector" type="checkbox" ng-show="false" ng-change="changeGroupVisibility(layer.group)" ng-model="groupProperties[layer.group].visible"/> <i class="lf-icon lf-icon-check" ng-class="getGroupIcon(groupProperties[layer.group])"></i><div class="lf-text">{{ layer.group }}</div></label><label class="lf-icon-ol"><input class="lf-control-layers-selector" type="checkbox" ng-show="false" ng-model="layer.visible"/> <i class="lf-icon lf-icon-check" ng-class="layer.icon"></i><div class="lf-text">{{layer.name}}</div></label><div class="lf-icons"><i class="lf-icon lf-up" ng-class="icons.up" ng-click="moveLayer(layer, layer.index - orderNumber, $event)"></i> <i class="lf-icon lf-down" ng-class="icons.down" ng-click="moveLayer(layer, layer.index + orderNumber, $event)"></i> <i class="lf-icon lf-toggle-legend" ng-class="icons.toggleLegend" ng-if="layer.legend" ng-click="toggleLegend(layer)"></i> <i class="lf-icon lf-open" ng-class="getOpacityIcon(layer)" ng-click="toggleOpacity($event, layer)"></i></div><div class="lf-legend" ng-if="showLegend(layer)" ng-bind-html="unsafeHTML(layer.legend)"></div><div class="lf-opacity clearfix" ng-if="layer.visible &amp;&amp; layerProperties[layer.name].opacityControl"><label ng-if="rangeIsSupported" class="pull-left" style="width: 50%">0</label><label ng-if="rangeIsSupported" class="pull-left text-right" style="width: 50%">100</label><input ng-if="rangeIsSupported" class="clearfix" type="range" min="0" max="1" step="0.05" class="lf-opacity-control" ng-model="layerProperties[layer.name].layerOptions.opacity"/><h6 ng-if="!rangeIsSupported">Range is not supported in this browser</h6></div></div></div></div></div>',link:function(e,n,o,a){var s=r.isDefined,l=a.getLeafletScope(),u=l.layers;e.$watch("icons",function(){var n={uncheck:"fa fa-square-o",check:"fa fa-check-square-o",radio:"fa fa-dot-circle-o",unradio:"fa fa-circle-o",up:"fa fa-angle-up",down:"fa fa-angle-down",open:"fa fa-angle-double-down",close:"fa fa-angle-double-up",toggleLegend:"fa fa-pencil-square-o"};s(e.icons)?(t.extend(n,e.icons),t.extend(e.icons,n)):e.icons=n}),o.order=!s(o.order)||"normal"!==o.order&&"reverse"!==o.order?"normal":o.order,e.order="normal"===o.order,e.orderNumber="normal"===o.order?-1:1,e.layers=u,a.getMap().then(function(t){l.$watch("layers.baselayers",function(n){var r={};i.getLayers().then(function(i){var o;for(o in n){var a=n[o];a.icon=e.icons[t.hasLayer(i.baselayers[o])?"radio":"unradio"],r[o]=a}e.baselayersArray=r})}),l.$watch("layers.overlays",function(t){var n=[],r={};i.getLayers().then(function(){var i;for(i in t){var o=t[i];o.icon=e.icons[o.visible?"check":"uncheck"],n.push(o),s(e.layerProperties[o.name])||(s(o.layerOptions.opacity)&&(o.layerOptions.opacity=1),e.layerProperties[o.name]={opacityControl:!1,showLegend:!0,layerOptions:o.layerOptions}),s(o.group)&&(s(e.groupProperties[o.group])||(e.groupProperties[o.group]={visible:!1}),r[o.group]=s(r[o.group])?r[o.group]:{count:0,visibles:0},r[o.group].count++,o.visible&&r[o.group].visibles++)}for(i in r)e.groupProperties[i].visible=r[i].visibles===r[i].count;e.overlaysArray=n})},!0)})}}}]),t.module("ui-leaflet").directive("layers",["leafletLogger","$q","leafletData","leafletHelpers","leafletLayerHelpers","leafletControlHelpers",function(e,n,i,r,o,a){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",controller:["$scope",function(t){t._leafletLayers=n.defer(),this.getLayers=function(){return t._leafletLayers.promise}}],link:function(e,n,s,l){var u=r.isDefined,c={},h=l.getLeafletScope(),f=h.layers,d=o.createLayer,p=o.safeAddLayer,m=o.safeRemoveLayer,g=o.changeOpacityListener,v=a.updateLayersControl,y=!1;e.$on("$destroy",function(){a.destroyMapLayersControl(e.mapId)}),l.getMap().then(function(n){e._leafletLayers.resolve(c),i.setLayers(c,s.id),c.baselayers={},c.overlays={};var r=s.id,o=!1;for(var a in f.baselayers){var l=d(f.baselayers[a]);u(l)?(c.baselayers[a]=l,f.baselayers[a].top===!0&&(p(n,c.baselayers[a]),o=!0)):delete f.baselayers[a]}!o&&Object.keys(c.baselayers).length>0&&p(n,c.baselayers[Object.keys(f.baselayers)[0]]);for(a in f.overlays){"cartodb"===f.overlays[a].type;var _=d(f.overlays[a]);u(_)?(c.overlays[a]=_,f.overlays[a].visible===!0&&p(n,c.overlays[a])):delete f.overlays[a]}h.$watch("layers.baselayers",function(e,i){if(t.equals(e,i))return y=v(n,r,y,e,f.overlays,c),!0;for(var o in c.baselayers)u(e[o])&&!e[o].doRefresh||(n.hasLayer(c.baselayers[o])&&n.removeLayer(c.baselayers[o]),delete c.baselayers[o],e[o]&&e[o].doRefresh&&(e[o].doRefresh=!1));for(var a in e)if(u(c.baselayers[a]))e[a].top!==!0||n.hasLayer(c.baselayers[a])?e[a].top===!1&&n.hasLayer(c.baselayers[a])&&n.removeLayer(c.baselayers[a]):p(n,c.baselayers[a]);else{var s=d(e[a]);u(s)&&(c.baselayers[a]=s,e[a].top===!0&&p(n,c.baselayers[a]))}var l=!1;for(var h in c.baselayers)if(n.hasLayer(c.baselayers[h])){l=!0;break}!l&&Object.keys(c.baselayers).length>0&&p(n,c.baselayers[Object.keys(c.baselayers)[0]]),y=v(n,r,y,e,f.overlays,c)},!0),h.$watch("layers.overlays",function(e,i){if(t.equals(e,i))return y=v(n,r,y,f.baselayers,e,c),!0;for(var o in c.overlays)if(!u(e[o])||e[o].doRefresh){if(n.hasLayer(c.overlays[o])){var a=u(e[o])?e[o].layerOptions:null;m(n,c.overlays[o],a)}delete c.overlays[o],e[o]&&e[o].doRefresh&&(e[o].doRefresh=!1)}for(var s in e){if(u(c.overlays[s])){e[s].visible&&!n.hasLayer(c.overlays[s])?p(n,c.overlays[s]):e[s].visible===!1&&n.hasLayer(c.overlays[s])&&m(n,c.overlays[s],e[s].layerOptions);var l=c.overlays[s];n.hasLayer(c.overlays[s])&&(e[s].layerOptions.opacity!==i[s].layerOptions.opacity&&(u(l.setOpacity)&&l.setOpacity(e[s].layerOptions.opacity),u(l.getLayers)&&u(l.eachLayer)&&l.eachLayer(g(e[s].layerOptions.opacity))),u(e[s].index)&&l.setZIndex&&e[s].index!==i[s].index&&l.setZIndex(e[s].index))}else{var h=d(e[s]);if(!u(h))continue;c.overlays[s]=h,e[s].visible===!0&&p(n,c.overlays[s]),u(e[s].index)&&c.overlays[s].setZIndex&&c.overlays[s].setZIndex(e[s].index)}e[s].visible&&n._loaded&&e[s].data&&"heatmap"===e[s].type&&(c.overlays[s].setData(e[s].data),c.overlays[s].update())}y=v(n,r,y,f.baselayers,e,c)},!0)})}}}]),t.module("ui-leaflet").directive("legend",["leafletLogger","$http","$timeout","leafletHelpers","leafletLegendHelpers",function(t,e,n,i,r){var o=t,a=i.errorHeader+" [Legend] ";return{restrict:"A",scope:!1,replace:!1,require:"leaflet",transclude:!1,link:function(t,e,n,s){var l,u,c,h,f=i.isArray,d=i.isString,p=i.isDefined,m=i.isFunction,g=s.getLeafletScope(),v=g.legend;g.$watch("legend",function(t){p(t)&&(l=t.legendClass?t.legendClass:"legend",u=t.position||"bottomright",h=t.type||"arcgis")},!0);var y=function(t,e,n){e&&e.layers&&e.layers.length>0&&(p(c)?r.updateLegend(c.getContainer(),e,h,n):(c=L.control({position:u}),c.onAdd=r.getOnAddLegend(e,l,h,n),c.addTo(t)),p(v.loadedData)&&m(v.loadedData)&&v.loadedData())};s.getMap().then(function(t){g.$watch("legend",function(e){return p(e)?p(e.url)||"arcgis"!==h||f(e.colors)&&f(e.labels)&&e.colors.length===e.labels.length?p(e.url)?void o.info(a+" loading legend service."):(p(c)&&(c.removeFrom(t),c=null),c=L.control({position:u}),"arcgis"===h&&(c.onAdd=r.getOnAddArrayLegend(e,l)),void c.addTo(t)):void o.warn(a+" legend.colors and legend.labels must be set."):void(p(c)&&(c.removeFrom(t),c=null))}),g.$watch("legend.url",function(e){if(p(e)){if(!f(e)&&!d(e))return void o.warn(a+" legend.url must be an array or string.");for(var i,s=d(e)?[e]:e,l=function(n,r){return function(l){p(l.data.error)?o.warn(a+"Error loadin legend from: "+r,l.data.error.message):i&&i.layers&&i.layers.length>0?i.layers=i.layers.concat(l.data.layers):i=l.data,n===s.length-1&&y(t,i,e)}},u=function(t){o.warn(a+" legend.url not loaded.",t)},c=0;c<s.length;c++)r.addLegendURL(n.id,{url:s[c],method:"GET"}).then(l(c)).catch(u)}}),g.$watch("legend.legendData",function(e){o.debug("legendData",e),!p(g.legend.url)&&p(e)&&y(t,e)},!0)})}}}]),t.module("ui-leaflet").directive("markers",["leafletLogger","$rootScope","$q","leafletData","leafletHelpers","leafletMapDefaults","leafletMarkersHelpers","leafletMarkerEvents","leafletIterators","leafletWatchHelpers","leafletDirectiveControlsHelpers",function(e,n,i,r,o,a,s,l,u,c,h){var f=o.isDefined,d=o.errorHeader,p=o,m=o.isString,g=s.addMarkerWatcher,v=s.updateMarker,y=s.listenMarkerEvents,_=s.addMarkerToGroup,$=s.createMarker,b=s.deleteMarker,w=s.getModelFromModels,x=s.getLayerModels,P=s.resetUnusedMarkerGroups,C=u,E=o.watchOptions,S=c.maybeWatch,k=h.extend,M=e,A={changeFromDirective:!1},D=function(t,e,n){if(Object.keys(t).length){if(n&&m(n)){if(!t[n]||!Object.keys(t[n]).length)return;return t[n][e]}return t[e]}},T=function(t,e,n,i){return i&&m(i)?(f(e[i])||(e[i]={}),e[i][n]=t):e[n]=t,t},O=function(t,e,n,i,r,o){if(!m(t))return M.error(d+" A layername must be a string"),!1;if(!f(e))return M.error(d+" You must add layers to the directive if the markers are going to use this functionality."),!1;if(!f(e.overlays)||!f(e.overlays[t]))return M.error(d+' A marker can only be added to a layer of type "group"'),!1;var a=e.overlays[t];return a instanceof L.LayerGroup||a instanceof L.FeatureGroup?(a.addLayer(i),null===r&&o.hasLayer(i)&&n.focus===!0&&i.openPopup(),!0):(M.error(d+' Adding a marker to an overlay needs a overlay of the type "group" or "featureGroup"'),!1)},I=function(t,e,n,i,r,o,a,s,u,c){C.each(e,function(e,h){if(!c[h]){if(h.search("-")!==-1)return void M.error('The marker can\'t use a "-" on his key name: "'+h+'".');var m=p.getObjectDotPath(u?[u,h]:[h]),b=D(o,h,u);p.modelChangeInDirective(A,"changeFromDirective",function(){if(f(b)){var c=w(n,h,u);v(e,c,b,m,a,r,i)}else{var L=$(e),x=(e?e.layer:void 0)||u;if(!f(L))return void M.error(d+" Received invalid data on the marker "+h+".");if(T(L,o,h,u),f(e.message)&&L.bindPopup(e.message,e.popupOptions),f(e.group)){var P=f(e.groupOption)?e.groupOption:null;_(L,e.group,P,i)}if(p.LabelPlugin.isLoaded()&&f(e.label)&&f(e.label.message)&&L.bindLabel(e.label.message,e.label.options),f(e)&&(f(e.layer)||f(u))){var C=O(x,r,e,L,s.individual.type,i);if(!C)return}else f(e.group)||(i.addLayer(L),null===s.individual.type&&e.focus===!0&&L.openPopup());null!==s.individual.type&&g(L,m,a,r,i,s.individual),y(L,e,a,s.individual.type,i),l.bindEvents(t,L,m,e,a,x)}})}})},N=function(e,n,i,r,o){var a,s,l=!1,u=!1,c=f(n);for(var h in i)l||(M.debug(d+"[markers] destroy: "),l=!0),c&&(s=e[h],a=n[h],u=r&&t.equals(s,a)),f(e)&&Object.keys(e).length&&f(e[h])&&Object.keys(e[h]).length&&!u||o&&p.isFunction(o)&&o(s,a,h)},B=function(t,e,n,i,r){N(t,e,n,!1,function(t,e,o){M.debug(d+"[marker] is deleting marker: "+o),b(n[o],i,r),delete n[o]})},U=function(t,e,n){var i={};return N(t,e,n,!0,function(t,e,n){M.debug(d+"[marker] is already rendered, marker: "+n),i[n]=t}),i};return{restrict:"A",scope:!1,replace:!1,require:["leaflet","?layers"],link:function(t,e,n,o){var a=o[0],s=a.getLeafletScope();a.getMap().then(function(e){var a,l={};a=f(o[1])?o[1].getLayers:function(){var t=i.defer();return t.resolve(),t.promise};var u;u=s.watchOptions&&s.watchOptions.markers?s.watchOptions.markers:E;var c=f(n.markersNested)&&p.isTruthy(n.markersNested);a().then(function(i){var o=function(t,n){return P(),c?void C.each(t,function(t,r){var o=x(n,r);B(t,o,l[r],e,i)}):void B(t,n,l,e,i)},a=function(t,r){o(t,r);var a=null;return c?void C.each(t,function(o,c){var h=x(r,c),f=x(t,c);a=U(f,h,l[c]),I(n.id,o,r,e,i,l,s,u,c,a)}):(a=U(t,r,l),void I(n.id,t,r,e,i,l,s,u,void 0,a))};k(n.id,"markers",a,o),r.setMarkers(l,n.id),S(s,"markers",u,function(t,e){A.changeFromDirective||a(t,e)}),t.$on("$destroy",function(){B(s.markers,{},l,e,i)})})})}}}]),t.module("ui-leaflet").directive("maxbounds",["leafletLogger","leafletMapDefaults","leafletBoundsHelpers","leafletHelpers",function(t,e,n,i){return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(t,e,r,o){var a=o.getLeafletScope(),s=n.isValidBounds,l=i.isNumber;o.getMap().then(function(t){a.$watch("maxbounds",function(e){if(!s(e))return void t.setMaxBounds();var i=n.createLeafletBounds(e);l(e.pad)&&(i=i.pad(e.pad)),t.setMaxBounds(i),r.center||r.lfCenter||t.fitBounds(i)})})}}}]),t.module("ui-leaflet").directive("paths",["leafletLogger","$q","leafletData","leafletMapDefaults","leafletHelpers","leafletPathsHelpers","leafletPathEvents","leafletWatchHelpers",function(t,e,n,i,r,o,a,s){var l=t;return{restrict:"A",scope:!1,replace:!1,require:["leaflet","?layers"],link:function(t,u,c,h){var f=h[0],d=r.isDefined,p=r.isString,m=f.getLeafletScope(),g=m.paths,v=o.createPath,y=a.bindPathEvents,_=o.setPathOptions,$=s.maybeWatch;f.getMap().then(function(t){var o,a=i.getDefaults(c.id);if(o=d(h[1])?h[1].getLayers:function(){var t=e.defer();return t.resolve(),t.promise},d(g)){var s,u={type:"watchCollection",individual:{type:"watchDeep"}};s=m.watchOptions&&m.watchOptions.paths?m.watchOptions.paths:u,o().then(function(e){var i={};n.setPaths(i,c.id);var o=function(n,i,r){var o='paths["'+i+'"]';$(m,o,r,function(i,r,o){if(!d(i)){if(d(r.layer))for(var a in e.overlays){var s=e.overlays[a];s.removeLayer(n)}return t.removeLayer(n),void o()}_(n,i.type,i)})},u=function(e){for(var n in i)d(e[n])||(t.removeLayer(i[n]),delete i[n])},h=function(n){u(n);for(var h in n)if(0!==h.search("\\$"))if(h.search("-")===-1){if(!d(i[h])){var f=n[h],g=v(h,n[h],a);if(d(g)&&d(f.message)&&g.bindPopup(f.message,f.popupOptions),r.LabelPlugin.isLoaded()&&d(f.label)&&d(f.label.message)&&g.bindLabel(f.label.message,f.label.options),d(f)&&d(f.layer)){if(!p(f.layer)){l.error("[AngularJS - Leaflet] A layername must be a string");continue}if(!d(e)){l.error("[AngularJS - Leaflet] You must add layers to the directive if the markers are going to use this functionality.");continue}if(!d(e.overlays)||!d(e.overlays[f.layer])){l.error('[AngularJS - Leaflet] A path can only be added to a layer of type "group"');continue}var $=e.overlays[f.layer];if(!($ instanceof L.LayerGroup||$ instanceof L.FeatureGroup)){l.error('[AngularJS - Leaflet] Adding a path to an overlay needs a overlay of the type "group" or "featureGroup"');continue}i[h]=g,$.addLayer(g),null!==s.individual.type?o(g,h,s.individual):_(g,f.type,f)}else d(g)&&(i[h]=g,t.addLayer(g),null!==s.individual.type?o(g,h,s.individual):_(g,f.type,f));y(c.id,g,h,f,m)}}else l.error('[AngularJS - Leaflet] The path name "'+h+'" is not valid. It must not include "-" and a number.')};$(m,"paths",s,function(t){h(t)})})}})}}}]),t.module("ui-leaflet").directive("tiles",["leafletLogger","leafletData","leafletMapDefaults","leafletHelpers",function(e,n,i,r){var o=e;return{restrict:"A",scope:!1,replace:!1,require:"leaflet",link:function(e,a,s,l){var u=r.isDefined,c=l.getLeafletScope(),h=c.tiles;return u(h)&&u(h.url)?void l.getMap().then(function(e){var r,o=i.getDefaults(s.id);c.$watch("tiles",function(i){var a=o.tileLayerOptions,l=o.tileLayer;return!u(i.url)&&u(r)?void e.removeLayer(r):u(r)?u(i.url)&&u(i.options)&&!t.equals(i.options,a)?(e.removeLayer(r),a=o.tileLayerOptions,t.copy(i.options,a),l=i.url,r=L.tileLayer(l,a),r.addTo(e),void n.setTiles(r,s.id)):void(u(i.url)&&r.setUrl(i.url)):(u(i.options)&&t.copy(i.options,a),u(i.url)&&(l=i.url),r=L.tileLayer(l,a),r.addTo(e),void n.setTiles(r,s.id))},!0)}):void o.warn("[AngularJS - Leaflet] The 'tiles' definition doesn't have the 'url' property.")}}}]),t.module("ui-leaflet").directive("watchOptions",["$log","$rootScope","$q","leafletData","leafletHelpers",function(e,n,i,r,o){var a=o.isDefined,s=o.errorHeader,l=o.isObject,u=e;return{restrict:"A",scope:!1,replace:!1,require:["leaflet"],link:function(e,n,i,r){var o=r[0],c=o.getLeafletScope(),h=function(t){return"watch"===t||"watchCollection"===t||"watchDeep"===t||null===t};a(c.watchOptions)&&l(c.watchOptions)&&t.forEach(["markers","geojson","paths"],function(t){a(c.watchOptions[t])&&(h(c.watchOptions[t].type)||u.error(s+" watchOptions."+t+".type is not a valid type."),a(c.watchOptions[t].individual)?h(c.watchOptions[t].individual.type)||u.error(s+" watchOptions."+t+".individual.type is not a valid type."):u.error(s+" watchOptions."+t+".type.individual must be defined."))})}}}]),t.module("ui-leaflet").factory("leafletEventsHelpersFactory",["$rootScope","$q","leafletLogger","leafletHelpers",function(e,n,i,r){var o=r.safeApply,a=r.isDefined,s=r.isObject,l=r.isArray,u=r.errorHeader,c=i,h=function(t,e){this.rootBroadcastName=t,c.debug("leafletEventsHelpersFactory: lObjectType: "+e+"rootBroadcastName: "+t),this.lObjectType=e};return h.prototype.getAvailableEvents=function(){return[]},h.prototype.genDispatchEvent=function(t,e,n,i,r,o,a,s,l){var u=this;return t=t||"",t&&(t="."+t),function(h){var f=u.rootBroadcastName+t+"."+e;c.debug(f),u.fire(i,f,n,h,h.target||r,a,o,s,l)}},h.prototype.fire=function(n,i,r,s,l,u,c,h,f){o(n,function(){var o={leafletEvent:s,leafletObject:l,modelName:c,model:u};a(h)&&t.extend(o,{layerName:h}),"emit"===r?n.$emit(i,o):e.$broadcast(i,o)})},h.prototype.bindEvents=function(t,e,n,i,r,o,h){var f=[],d="emit",p=this;if(a(r.eventBroadcast))if(s(r.eventBroadcast))if(a(r.eventBroadcast[p.lObjectType]))if(s(r.eventBroadcast[p.lObjectType])){a(r.eventBroadcast[this.lObjectType].logic)&&"emit"!==r.eventBroadcast[p.lObjectType].logic&&"broadcast"!==r.eventBroadcast[p.lObjectType].logic&&c.warn(u+"Available event propagation logic are: 'emit' or 'broadcast'.");var m=!1,g=!1;a(r.eventBroadcast[p.lObjectType].enable)&&l(r.eventBroadcast[p.lObjectType].enable)&&(m=!0),a(r.eventBroadcast[p.lObjectType].disable)&&l(r.eventBroadcast[p.lObjectType].disable)&&(g=!0),m&&g?c.warn(u+"can not enable and disable events at the same time"):m||g?m?r.eventBroadcast[this.lObjectType].enable.forEach(function(t){f.indexOf(t)!==-1?c.warn(u+"This event "+t+" is already enabled"):p.getAvailableEvents().indexOf(t)===-1?c.warn(u+"This event "+t+" does not exist"):f.push(t)}):(f=this.getAvailableEvents(),r.eventBroadcast[p.lObjectType].disable.forEach(function(t){var e=f.indexOf(t);e===-1?c.warn(u+"This event "+t+" does not exist or has been already disabled"):f.splice(e,1)})):c.warn(u+"must enable or disable events")}else c.warn(u+"event-broadcast."+[p.lObjectType]+" must be an object check your model.");else f=this.getAvailableEvents();else c.error(u+"event-broadcast must be an object check your model.");else f=this.getAvailableEvents();return f.forEach(function(a){e.on(a,p.genDispatchEvent(t,a,d,r,e,n,i,o,h))}),d},h}]).service("leafletEventsHelpers",["leafletEventsHelpersFactory",function(t){return new t}]),t.module("ui-leaflet").factory("leafletGeoJsonEvents",["$rootScope","$q","leafletLogger","leafletHelpers","leafletEventsHelpersFactory","leafletData",function(t,e,n,i,r,o){var a=i.safeApply,s=r,l=function(){s.call(this,"leafletDirectiveGeoJson","geojson")};return l.prototype=new s,l.prototype.genDispatchEvent=function(e,n,i,r,l,u,c,h,f){var d=s.prototype.genDispatchEvent.call(this,e,n,i,r,l,u,c,h),p=this;return function(e){"mouseout"===n&&(f.resetStyleOnMouseout&&o.getGeoJSON(f.mapId).then(function(t){var n=h?t[h]:t;n.resetStyle(e.target)}),a(r,function(){t.$broadcast(p.rootBroadcastName+".mouseout",e)})),d(e)}},l.prototype.getAvailableEvents=function(){return["click","dblclick","mouseover","mouseout"]},new l}]),t.module("ui-leaflet").factory("leafletLabelEvents",["$rootScope","$q","leafletLogger","leafletHelpers","leafletEventsHelpersFactory",function(t,e,n,i,r){var o=i,a=r,s=function(){a.call(this,"leafletDirectiveLabel","markers")};return s.prototype=new a,s.prototype.genDispatchEvent=function(t,e,n,i,r,o,s,l){var u=o.replace("markers.","");return a.prototype.genDispatchEvent.call(this,t,e,n,i,r,u,s,l)},s.prototype.getAvailableEvents=function(){return["click","dblclick","mousedown","mouseover","mouseout","contextmenu"]},s.prototype.genEvents=function(t,e,n,i,r,a,s,l){var u=this,c=this.getAvailableEvents(),h=o.getObjectArrayPath("markers."+a);c.forEach(function(e){r.label.on(e,u.genDispatchEvent(t,e,n,i,r.label,h,s,l))})},s.prototype.bindEvents=function(t,e,n,i,r,o){},new s}]),t.module("ui-leaflet").factory("leafletMapEvents",["$rootScope","$q","leafletLogger","leafletHelpers","leafletEventsHelpers","leafletIterators",function(t,e,n,i,r,o){var a=i.isDefined,s=r.fire,l=function(){return["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","contextmenu","focus","blur","preclick","load","unload","viewreset","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoomanim","zoomend","zoomlevelschange","resize","autopanstart","layeradd","layerremove","baselayerchange","overlayadd","overlayremove","locationfound","locationerror","popupopen","popupclose","draw:created","draw:edited","draw:deleted","draw:drawstart","draw:drawstop","draw:editstart","draw:editstop","draw:deletestart","draw:deletestop"]},u=function(t,e,i,r){return r&&(r+="."),function(o){var a="leafletDirectiveMap."+r+e;n.debug(a),s(t,a,i,o,o.target,t)}},c=function(t){t.$broadcast("boundsChanged")},h=function(t,e,n,i){if(a(n.urlHashCenter)){var r=e.getCenter(),o=r.lat.toFixed(4)+":"+r.lng.toFixed(4)+":"+e.getZoom();a(i.c)&&i.c===o||t.$emit("centerUrlHash",o)}},f=function(t,e,n,i,r,a){o.each(n,function(n){var o={};o[i]=n,e||(e=t._container.id||""),t.on(n,u(r,n,a,e),o)})};return{getAvailableMapEvents:l,genDispatchMapEvent:u,notifyCenterChangedToBounds:c,notifyCenterUrlHashChanged:h,addEvents:f}}]),t.module("ui-leaflet").factory("leafletMarkerEvents",["$rootScope","$q","leafletLogger","leafletHelpers","leafletEventsHelpersFactory","leafletLabelEvents",function(t,e,n,i,r,o){var a=i.safeApply,s=i.isDefined,l=i,u=o,c=r,h=function(){c.call(this,"leafletDirectiveMarker","markers")};return h.prototype=new c,h.prototype.genDispatchEvent=function(e,n,i,r,o,s,l,u){var h=c.prototype.genDispatchEvent.call(this,e,n,i,r,o,s,l,u);return function(e){"click"===n?a(r,function(){t.$broadcast("leafletDirectiveMarkersClick",s)}):"dragend"===n&&(a(r,function(){l.lat=o.getLatLng().lat,l.lng=o.getLatLng().lng}),l.message&&l.focus===!0&&o.openPopup()),h(e)}},h.prototype.getAvailableEvents=function(){return["click","dblclick","mousedown","mouseover","mouseout","contextmenu","dragstart","drag","dragend","move","remove","popupopen","popupclose","touchend","touchstart","touchmove","touchcancel","touchleave"]},h.prototype.bindEvents=function(t,e,n,i,r,o){var a=c.prototype.bindEvents.call(this,t,e,n,i,r,o);l.LabelPlugin.isLoaded()&&s(e.label)&&u.genEvents(t,n,a,r,e,i,o)},new h}]);var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.module("ui-leaflet").factory("leafletPathEvents",["$rootScope","$q","leafletLogger","leafletHelpers","leafletLabelEvents","leafletEventsHelpers",function(t,e,n,r,o,a){var s=r.isDefined,l=r.isObject,u=r,c=r.errorHeader,h=o,f=a.fire,d=n,p=function(t,e,n,i,r,o,a,s){return t=t||"",t&&(t="."+t),function(l){var u="leafletDirectivePath"+t+"."+e;d.debug(u),f(i,u,n,l,l.target||r,a,o,s)}},m=function(t,e,n,r,o){var a,f,m=[],v="broadcast";if(s(o.eventBroadcast))if(l(o.eventBroadcast))if(s(o.eventBroadcast.path))if(l(o.eventBroadcast.paths))d.warn(c+"event-broadcast.path must be an object check your model.");else{void 0!==o.eventBroadcast.path.logic&&null!==o.eventBroadcast.path.logic&&("emit"!==o.eventBroadcast.path.logic&&"broadcast"!==o.eventBroadcast.path.logic?d.warn(c+"Available event propagation logic are: 'emit' or 'broadcast'."):"emit"===o.eventBroadcast.path.logic&&(v="emit"));var y=!1,_=!1;if(void 0!==o.eventBroadcast.path.enable&&null!==o.eventBroadcast.path.enable&&"object"===i(o.eventBroadcast.path.enable)&&(y=!0),void 0!==o.eventBroadcast.path.disable&&null!==o.eventBroadcast.path.disable&&"object"===i(o.eventBroadcast.path.disable)&&(_=!0),y&&_)d.warn(c+"can not enable and disable events at the same time");else if(y||_)if(y)for(a=0;a<o.eventBroadcast.path.enable.length;a++)f=o.eventBroadcast.path.enable[a],m.indexOf(f)!==-1?d.warn(c+"This event "+f+" is already enabled"):g().indexOf(f)===-1?d.warn(c+"This event "+f+" does not exist"):m.push(f);else for(m=g(),a=0;a<o.eventBroadcast.path.disable.length;a++){f=o.eventBroadcast.path.disable[a];var $=m.indexOf(f);$===-1?d.warn(c+"This event "+f+" does not exist or has been already disabled"):m.splice($,1)}else d.warn(c+"must enable or disable events")}else m=g();else d.error(c+"event-broadcast must be an object check your model.");else m=g();for(a=0;a<m.length;a++)f=m[a],e.on(f,p(t,f,v,o,m,n));u.LabelPlugin.isLoaded()&&s(e.label)&&h.genEvents(t,n,v,o,e,r)},g=function(){return["click","dblclick","mousedown","mouseover","mouseout","contextmenu","add","remove","popupopen","popupclose"]};return{getAvailablePathEvents:g,bindPathEvents:m}}])}(angular),angular.module("google.places",[]).factory("googlePlacesApi",["$window",function(t){if(!t.google)throw"Global `google` var missing. Did you forget to include the places API script?";return t.google}]).directive("gPlacesAutocomplete",["$parse","$compile","$timeout","$document","googlePlacesApi",function(t,e,n,i,r){return{restrict:"A",require:"^ngModel",scope:{model:"=ngModel",options:"=?",forceSelection:"=?",customPlaces:"=?"},controller:["$scope",function(t){}],link:function(t,o,a,s){function l(){o.bind("keydown",h),o.bind("blur",f),o.bind("submit",f),t.$watch("selected",d)}function u(){var n,r=angular.element("<div g-places-autocomplete-drawer></div>"),o=angular.element(i[0].body);r.attr({input:"input",query:"query",predictions:"predictions",active:"active",selected:"selected"}),n=e(r)(t),o.append(n)}function c(){s.$parsers.push(p),s.$formatters.push(m),s.$render=g}function h(e){0!==t.predictions.length&&w(C,e.which)!==-1&&(e.preventDefault(),e.which===P.down?(t.active=(t.active+1)%t.predictions.length,t.$digest()):e.which===P.up?(t.active=(t.active?t.active:t.predictions.length)-1,t.$digest()):13===e.which||9===e.which?(t.forceSelection&&(t.active=t.active===-1?0:t.active),t.$apply(function(){t.selected=t.active,t.selected===-1&&v()})):27===e.which&&t.$apply(function(){e.stopPropagation(),v()}))}function f(e){0!==t.predictions.length&&(t.forceSelection&&(t.selected=t.selected===-1?0:t.selected),t.$digest(),t.$apply(function(){t.selected===-1&&v()}))}function d(){var e;e=t.predictions[t.selected],e&&(e.is_custom?t.$apply(function(){t.model=e.place,t.$emit("g-places-autocomplete:select",e.place),n(function(){s.$viewChangeListeners.forEach(function(t){t()})})}):S.getDetails({placeId:e.place_id},function(e,i){i==r.maps.places.PlacesServiceStatus.OK&&t.$apply(function(){t.model=e,t.$emit("g-places-autocomplete:select",e),n(function(){s.$viewChangeListeners.forEach(function(t){t()})})})}),v())}function p(e){var n;return e&&$(e)?(t.query=e,n=angular.extend({input:e},t.options),E.getPlacePredictions(n,function(e,n){t.$apply(function(){var i;v(),t.customPlaces&&(i=y(t.query),t.predictions.push.apply(t.predictions,i)),n==r.maps.places.PlacesServiceStatus.OK&&t.predictions.push.apply(t.predictions,e),t.predictions.length>5&&(t.predictions.length=5)})}),t.forceSelection?s.$modelValue:e):e}function m(t){var e="";return $(t)?e=t:b(t)&&(e=t.formatted_address),e}function g(){return o.val(s.$viewValue)}function v(){t.active=-1,t.selected=-1,t.predictions=[]}function y(e){var n,i,r,o=[];for(r=0;r<t.customPlaces.length;r++)n=t.customPlaces[r],i=_(e,n),i.matched_substrings.length>0&&o.push({is_custom:!0,custom_prediction_label:n.custom_prediction_label||"(Custom Non-Google Result)",description:n.formatted_address,place:n,matched_substrings:i.matched_substrings,terms:i.terms});return o}function _(t,e){var n,i,r,o=t+"",a=[],s=[];for(i=e.formatted_address.split(","),r=0;r<i.length;r++)n=i[r].trim(),o.length>0&&(n.length>=o.length?(L(n,o)&&s.push({length:o.length,offset:r}),o=""):L(o,n)?(s.push({length:n.length,offset:r}),o=o.replace(n,"").trim()):o=""),a.push({value:n,offset:e.formatted_address.indexOf(n)});return{matched_substrings:s,terms:a}}function $(t){return"[object String]"==Object.prototype.toString.call(t)}function b(t){return"[object Object]"==Object.prototype.toString.call(t)}function w(t,e){var n,i;if(null==t)return-1;for(i=t.length,n=0;n<i;n++)if(t[n]===e)return n;return-1}function L(t,e){return 0===x(t).lastIndexOf(x(e),0)}function x(t){return null==t?"":t.toLowerCase()}var P={tab:9,enter:13,esc:27,up:38,down:40},C=[P.tab,P.enter,P.esc,P.up,P.down],E=new r.maps.places.AutocompleteService,S=new r.maps.places.PlacesService(o[0]);!function(){t.query="",t.predictions=[],t.input=o,t.options=t.options||{},u(),l(),c()}()}}}]).directive("gPlacesAutocompleteDrawer",["$window","$document",function(t,e){var n=['<div class="pac-container" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\', width: position.width+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">','  <div class="pac-item" g-places-autocomplete-prediction index="$index" prediction="prediction" query="query"','       ng-repeat="prediction in predictions track by $index" ng-class="{\'pac-item-selected\': isActive($index) }"','       ng-mouseenter="selectActive($index)" ng-click="selectPrediction($index)" role="option" id="{{prediction.id}}">',"  </div>","</div>"];return{restrict:"A",scope:{input:"=",query:"=",predictions:"=",active:"=",selected:"="},template:n.join(""),link:function(n,i){function r(n){var i=n[0],r=i.getBoundingClientRect(),o=e[0].documentElement,a=e[0].body,s=t.pageYOffset||o.scrollTop||a.scrollTop,l=t.pageXOffset||o.scrollLeft||a.scrollLeft;return{width:r.width,height:r.height,top:r.top+r.height+s,left:r.left+l}}i.bind("mousedown",function(t){t.preventDefault()}),t.onresize=function(){n.$apply(function(){n.position=r(n.input)})},n.isOpen=function(){return n.predictions.length>0},n.isActive=function(t){return n.active===t},n.selectActive=function(t){n.active=t},n.selectPrediction=function(t){
n.selected=t},n.$watch("predictions",function(){n.position=r(n.input)},!0)}}}]).directive("gPlacesAutocompletePrediction",[function(){var t=['<span class="pac-icon pac-icon-marker"></span>','<span class="pac-item-query" ng-bind-html="prediction | highlightMatched"></span>','<span ng-repeat="term in prediction.terms | unmatchedTermsOnly:prediction">{{term.value | trailingComma:!$last}}&nbsp;</span>','<span class="custom-prediction-label" ng-if="prediction.is_custom">&nbsp;{{prediction.custom_prediction_label}}</span>'];return{restrict:"A",scope:{index:"=",prediction:"=",query:"="},template:t.join("")}}]).filter("highlightMatched",["$sce",function(t){return function(e){var n,i="",r="";return e.matched_substrings.length>0&&e.terms.length>0&&(n=e.matched_substrings[0],i=e.terms[0].value.substr(n.offset,n.length),r=e.terms[0].value.substr(n.offset+n.length)),t.trustAsHtml('<span class="pac-matched">'+i+"</span>"+r)}}]).filter("unmatchedTermsOnly",[function(){return function(t,e){var n,i,r=[];for(n=0;n<t.length;n++)i=t[n],e.matched_substrings.length>0&&i.offset>e.matched_substrings[0].length&&r.push(i);return r}}]).filter("trailingComma",[function(){return function(t,e){return e?t+",":t}}]),angular.module("google.places",[]).factory("googlePlacesApi",["$window",function(t){if(!t.google)throw"Global `google` var missing. Did you forget to include the places API script?";return t.google}]).directive("gPlacesAutocomplete",["$parse","$compile","$timeout","$document","googlePlacesApi",function(t,e,n,i,r){return{restrict:"A",require:"^ngModel",scope:{model:"=ngModel",options:"=?",forceSelection:"=?",customPlaces:"=?"},controller:["$scope",function(t){}],link:function(t,o,a,s){function l(){o.bind("keydown",h),o.bind("blur",f),o.bind("submit",f),t.$watch("selected",d)}function u(){var n,r=angular.element("<div g-places-autocomplete-drawer></div>"),o=angular.element(i[0].body);r.attr({input:"input",query:"query",predictions:"predictions",active:"active",selected:"selected"}),n=e(r)(t),o.append(n)}function c(){s.$parsers.push(p),s.$formatters.push(m),s.$render=g}function h(e){0!==t.predictions.length&&-1!==w(C,e.which)&&(e.preventDefault(),e.which===P.down?(t.active=(t.active+1)%t.predictions.length,t.$digest()):e.which===P.up?(t.active=(t.active?t.active:t.predictions.length)-1,t.$digest()):13===e.which||9===e.which?(t.forceSelection&&(t.active=-1===t.active?0:t.active),t.$apply(function(){t.selected=t.active,-1===t.selected&&v()})):27===e.which&&t.$apply(function(){e.stopPropagation(),v()}))}function f(e){0!==t.predictions.length&&(t.forceSelection&&(t.selected=-1===t.selected?0:t.selected),t.$digest(),t.$apply(function(){-1===t.selected&&v()}))}function d(){var e;e=t.predictions[t.selected],e&&(e.is_custom?t.$apply(function(){t.model=e.place,t.$emit("g-places-autocomplete:select",e.place),n(function(){s.$viewChangeListeners.forEach(function(t){t()})})}):S.getDetails({placeId:e.place_id},function(e,i){i==r.maps.places.PlacesServiceStatus.OK&&t.$apply(function(){t.model=e,t.$emit("g-places-autocomplete:select",e),n(function(){s.$viewChangeListeners.forEach(function(t){t()})})})}),v())}function p(e){var n;return e&&$(e)?(t.query=e,n=angular.extend({input:e},t.options),E.getPlacePredictions(n,function(e,n){t.$apply(function(){var i;v(),t.customPlaces&&(i=y(t.query),t.predictions.push.apply(t.predictions,i)),n==r.maps.places.PlacesServiceStatus.OK&&t.predictions.push.apply(t.predictions,e),t.predictions.length>5&&(t.predictions.length=5)})}),t.forceSelection?s.$modelValue:e):e}function m(t){var e="";return $(t)?e=t:b(t)&&(e=t.formatted_address),e}function g(){return o.val(s.$viewValue)}function v(){t.active=-1,t.selected=-1,t.predictions=[]}function y(e){var n,i,r,o=[];for(r=0;r<t.customPlaces.length;r++)n=t.customPlaces[r],i=_(e,n),i.matched_substrings.length>0&&o.push({is_custom:!0,custom_prediction_label:n.custom_prediction_label||"(Custom Non-Google Result)",description:n.formatted_address,place:n,matched_substrings:i.matched_substrings,terms:i.terms});return o}function _(t,e){var n,i,r,o=t+"",a=[],s=[];for(i=e.formatted_address.split(","),r=0;r<i.length;r++)n=i[r].trim(),o.length>0&&(n.length>=o.length?(L(n,o)&&s.push({length:o.length,offset:r}),o=""):L(o,n)?(s.push({length:n.length,offset:r}),o=o.replace(n,"").trim()):o=""),a.push({value:n,offset:e.formatted_address.indexOf(n)});return{matched_substrings:s,terms:a}}function $(t){return"[object String]"==Object.prototype.toString.call(t)}function b(t){return"[object Object]"==Object.prototype.toString.call(t)}function w(t,e){var n,i;if(null==t)return-1;for(i=t.length,n=0;i>n;n++)if(t[n]===e)return n;return-1}function L(t,e){return 0===x(t).lastIndexOf(x(e),0)}function x(t){return null==t?"":t.toLowerCase()}var P={tab:9,enter:13,esc:27,up:38,down:40},C=[P.tab,P.enter,P.esc,P.up,P.down],E=new r.maps.places.AutocompleteService,S=new r.maps.places.PlacesService(o[0]);!function(){t.query="",t.predictions=[],t.input=o,t.options=t.options||{},u(),l(),c()}()}}}]).directive("gPlacesAutocompleteDrawer",["$window","$document",function(t,e){var n=['<div class="pac-container" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\', width: position.width+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">','  <div class="pac-item" g-places-autocomplete-prediction index="$index" prediction="prediction" query="query"','       ng-repeat="prediction in predictions track by $index" ng-class="{\'pac-item-selected\': isActive($index) }"','       ng-mouseenter="selectActive($index)" ng-click="selectPrediction($index)" role="option" id="{{prediction.id}}">',"  </div>","</div>"];return{restrict:"A",scope:{input:"=",query:"=",predictions:"=",active:"=",selected:"="},template:n.join(""),link:function(n,i){function r(n){var i=n[0],r=i.getBoundingClientRect(),o=e[0].documentElement,a=e[0].body,s=t.pageYOffset||o.scrollTop||a.scrollTop,l=t.pageXOffset||o.scrollLeft||a.scrollLeft;return{width:r.width,height:r.height,top:r.top+r.height+s,left:r.left+l}}i.bind("mousedown",function(t){t.preventDefault()}),t.onresize=function(){n.$apply(function(){n.position=r(n.input)})},n.isOpen=function(){return n.predictions.length>0},n.isActive=function(t){return n.active===t},n.selectActive=function(t){n.active=t},n.selectPrediction=function(t){n.selected=t},n.$watch("predictions",function(){n.position=r(n.input)},!0)}}}]).directive("gPlacesAutocompletePrediction",[function(){var t=['<span class="pac-icon pac-icon-marker"></span>','<span class="pac-item-query" ng-bind-html="prediction | highlightMatched"></span>','<span ng-repeat="term in prediction.terms | unmatchedTermsOnly:prediction">{{term.value | trailingComma:!$last}}&nbsp;</span>','<span class="custom-prediction-label" ng-if="prediction.is_custom">&nbsp;{{prediction.custom_prediction_label}}</span>'];return{restrict:"A",scope:{index:"=",prediction:"=",query:"="},template:t.join("")}}]).filter("highlightMatched",["$sce",function(t){return function(e){var n,i="",r="";return e.matched_substrings.length>0&&e.terms.length>0&&(n=e.matched_substrings[0],i=e.terms[0].value.substr(n.offset,n.length),r=e.terms[0].value.substr(n.offset+n.length)),t.trustAsHtml('<span class="pac-matched">'+i+"</span>"+r)}}]).filter("unmatchedTermsOnly",[function(){return function(t,e){var n,i,r=[];for(n=0;n<t.length;n++)i=t[n],e.matched_substrings.length>0&&i.offset>e.matched_substrings[0].length&&r.push(i);return r}}]).filter("trailingComma",[function(){return function(t,e){return e?t+",":t}}]),function(t,e){"use strict";function n(t,e){if(s(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(l(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function i(){function t(t,n){return e.extend(Object.create(t),n)}function i(t,e){var n=e.caseInsensitiveMatch,i={originalPath:t,regexp:t},r=i.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(t,e,n,i){var o="?"===i||"*?"===i?"?":null,a="*"===i||"*?"===i?"*":null;return r.push({name:n,optional:!!o}),e=e||"",""+(o?"":e)+"(?:"+(o?e:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+t+"$",n?"i":""),i}s=e.isArray,l=e.isObject;var r={};this.when=function(t,o){var a=n(o);if(e.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),e.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),r[t]=e.extend(a,t&&i(t,a)),t){var s="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";r[s]=e.extend({redirectTo:t},i(s,a))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(t){return"string"==typeof t&&(t={redirectTo:t}),this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,a,s,l,u){function h(t,e){var n=e.keys,i={};if(!e.regexp)return null;var r=e.regexp.exec(t);if(!r)return null;for(var o=1,a=r.length;o<a;++o){var s=n[o-1],l=r[o];s&&l&&(i[s.name]=l)}return i}function f(t){var i=b.current;y=g(),_=y&&i&&y.$$route===i.$$route&&e.equals(y.pathParams,i.pathParams)&&!y.reloadOnSearch&&!$,_||!i&&!y||n.$broadcast("$routeChangeStart",y,i).defaultPrevented&&t&&t.preventDefault()}function d(){var t=b.current,r=y;_?(t.params=r.params,e.copy(t.params,o),n.$broadcast("$routeUpdate",t)):(r||t)&&($=!1,b.current=r,r&&r.redirectTo&&(e.isString(r.redirectTo)?i.path(v(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(p).then(function(i){r==b.current&&(r&&(r.locals=i,e.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,t))},function(e){r==b.current&&n.$broadcast("$routeChangeError",r,t,e)}))}function p(t){if(t){var n=e.extend({},t.resolve);e.forEach(n,function(t,i){n[i]=e.isString(t)?s.get(t):s.invoke(t,null,null,i)});var i=m(t);return e.isDefined(i)&&(n.$template=i),a.all(n)}}function m(t){var n,i;return e.isDefined(n=t.template)?e.isFunction(n)&&(n=n(t.params)):e.isDefined(i=t.templateUrl)&&(e.isFunction(i)&&(i=i(t.params)),e.isDefined(i)&&(t.loadedTemplateUrl=u.valueOf(i),n=l(i))),n}function g(){var n,o;return e.forEach(r,function(r,a){!o&&(n=h(i.path(),r))&&(o=t(r,{params:e.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&t(r[null],{params:{},pathParams:{}})}function v(t,n){var i=[];return e.forEach((t||"").split(":"),function(t,e){if(0===e)i.push(t);else{var r=t.match(/(\w+)(?:[?*])?(.*)/),o=r[1];i.push(n[o]),i.push(r[2]||""),delete n[o]}}),i.join("")}var y,_,$=!1,b={routes:r,reload:function(){$=!0;var t={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,$=!1}};n.$evalAsync(function(){f(t),t.defaultPrevented||d()})},updateParams:function(t){if(!this.current||!this.current.$$route)throw c("norout","Tried updating route when with no current route");t=e.extend({},this.current.params,t),i.path(v(this.current.$$route.originalPath,t)),i.search(t)}};return n.$on("$locationChangeStart",f),n.$on("$locationChangeSuccess",d),b}]}function r(){this.$get=function(){return{}}}function o(t,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,o,a,s,l){function u(){d&&(i.cancel(d),d=null),h&&(h.$destroy(),h=null),f&&(d=i.leave(f),d.then(function(){d=null}),f=null)}function c(){var a=t.current&&t.current.locals,s=a&&a.$template;if(e.isDefined(s)){var c=r.$new(),d=t.current,g=l(c,function(t){i.enter(t,null,f||o).then(function(){!e.isDefined(p)||p&&!r.$eval(p)||n()}),u()});f=g,h=d.scope=c,h.$emit("$viewContentLoaded"),h.$eval(m)}else u()}var h,f,d,p=a.autoscroll,m=a.onload||"";r.$on("$routeChangeSuccess",c),c()}}}function a(t,e,n){return{restrict:"ECA",priority:-400,link:function(i,r){var o=n.current,a=o.locals;r.html(a.$template);var s=t(r.contents());if(o.controller){a.$scope=i;var l=e(o.controller,a);o.controllerAs&&(i[o.controllerAs]=l),r.data("$ngControllerController",l),r.children().data("$ngControllerController",l)}i[o.resolveAs||"$resolve"]=a,s(i)}}}var s,l,u=e.module("ngRoute",["ng"]).provider("$route",i),c=e.$$minErr("ngRoute");u.provider("$routeParams",r),u.directive("ngView",o),u.directive("ngView",a),o.$inject=["$route","$anchorScroll","$animate"],a.$inject=["$compile","$controller","$route"]}(window,window.angular);